;/*FB_PKG_DELIM*/

__d("PolarisAdCTAViewabilityAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){c=c.state;switch(c){case"entered":case"updated":a||b(!0);break;case"exited":b(!1);break;default:break}}}f.makeAdCTAViewabilityAction=a}),66);
__d("PolarisFalcoLoggingMode",[],(function(a,b,c,d,e,f){"use strict";a={DISTILLERY_LOG:"distillery_log",NORMAL_LOG:"normal_log",IMMEDIATE_LOG:"immediate_log",CRITICAL_LOG:"critical_log"};b=a;f["default"]=b}),66);
__d("PolarisInstagramAdImpressionFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={pigeon:!1,falco:!0};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_impression",a(),{},h)};return a}();g.InstagramAdImpressionFalcoEvent=a}),98);
__d("PolarisInstagramAdSubImpressionFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_sub_impression",a(),{},h)};return a}();g.InstagramAdSubImpressionFalcoEvent=a}),98);
__d("getPolarisODSKeyWithSurfaceDimension",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if((b==null?void 0:b.isMobile)===!0)return a+".msite";else return a}f["default"]=a}),66);
__d("PolarisAdImpressionAction",["InstagramAdImpressionFalcoEvent","InstagramAdSubImpressionFalcoEvent","PolarisContainerModuleUtils","PolarisFalcoLoggingMode","PolarisInstagramAdImpressionFalcoEvent","PolarisInstagramAdSubImpressionFalcoEvent","PolarisNavChain","PolarisODS","PolarisUA","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","getPolarisODSKeyWithSurfaceDimension","memoizeStringOnly","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3,i=5e3,j=6e4,k=c("memoizeStringOnly")(function(a){return new Map()}),l=new Set();function m(a,b,c,d,e){e===void 0&&(e=j);return function(f){var g=k(a||"");if(f.state!=="entered")return;var h=g.get(b),i=f.snapshotTime;h==null?(c(),g.set(b,f.snapshotTime)):h!=null&&i-h>=e&&(d(),g.set(b,f.snapshotTime))}}function n(a,b,d,e,f,g){f===void 0&&(f=j);return function(j){var m=k(a||"");if(j.state!=="entered")return;if(l.has(b))return;l.add(b);var n=m.get(b),o=j.snapshotTime,p=function(a){var b=a.isSubImpression;return c("setTimeout")(function(){var a=!c("cometGHLContentDisplayCheck")(j.element);a?c("PolarisODS").incr(b?c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden.delayed",{isMobile:g}):c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden.delayed",{isMobile:g})):c("PolarisODS").incr(b?"web.ads.feed.sub_impression.delayed":"web.ads.feed.impression.delayed")},i-h)};c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(j.element);n==null?a?(d(),m.set(b,j.snapshotTime),p({isSubImpression:!1})):c("PolarisODS").incr(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden",{isMobile:g})):n!=null&&o-n>=f&&(a?(e(),m.set(b,j.snapshotTime),p({isSubImpression:!0})):c("PolarisODS").incr(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden",{isMobile:g})));l["delete"](b)},h)}}function a(a,b,e,f,g){var h,i=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a)||"",k=d("PolarisUA").isMobile(),l=babelHelpers["extends"]({m_pk:i,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b)},e),o=c("qex")._("78");h=function(){f&&c("PolarisODS").incr("web.ads.feed.impression.viewpoint"),a.isVideo===!0&&k&&c("PolarisODS").incr("web.ads.msite.feed.video_ads.impression"),c("PolarisODS").incr("web.ads.feed.impression"),o===c("PolarisFalcoLoggingMode").CRITICAL_LOG?c("InstagramAdImpressionFalcoEvent").logCritical(function(){return l}):o===c("PolarisFalcoLoggingMode").IMMEDIATE_LOG?c("InstagramAdImpressionFalcoEvent").logImmediately(function(){return l}):o===c("PolarisFalcoLoggingMode").NORMAL_LOG?c("InstagramAdImpressionFalcoEvent").log(function(){return l}):d("PolarisInstagramAdImpressionFalcoEvent").InstagramAdImpressionFalcoEvent.log(function(){return l})};e=function(){c("PolarisODS").incr("web.ads.feed.sub_impression"),o===c("PolarisFalcoLoggingMode").CRITICAL_LOG?c("InstagramAdSubImpressionFalcoEvent").logCritical(function(){return l}):o===c("PolarisFalcoLoggingMode").IMMEDIATE_LOG?c("InstagramAdSubImpressionFalcoEvent").logImmediately(function(){return l}):o===c("PolarisFalcoLoggingMode").NORMAL_LOG?c("InstagramAdSubImpressionFalcoEvent").log(function(){return l}):d("PolarisInstagramAdSubImpressionFalcoEvent").InstagramAdSubImpressionFalcoEvent.log(function(){return l})};return g?n(b,i,h,e,j,k):m(b,i,h,e)}function b(a){return function(b){var d;if(b.state!=="entered")return;var e=k("");d=((d=a)!=null?d:"")+".cta_impression";var f=e.get(d);f==null&&(c("PolarisODS").incr("web.ads.feed.cta_impression"),e.set(d,b.snapshotTime))}}g.makePostAdImpressionAction=a;g.makeAdCTAImpressionAction=b}),98);
__d("usePolarisSponsoredPostCTAFooterDominantColor",["DateConsts","PolarisAdCTAViewabilityAction","PolarisAdImpressionAction","PolarisViewpointReact.react","PolarisadsSelectors","react","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState,k=4*d("DateConsts").MS_PER_SEC;function a(a){var b=a.post,e=a.mediaId,f=a.isMediaRendered,g=d("PolarisadsSelectors").useFeedAdInfo(b.id,function(a){return a});a=j(null);var l=a[0],m=a[1];a=j(!1);var n=a[0];a=a[1];var o=i(!1),p=b.isVideo,q=c("useDebounced")(m,k);h(function(){var a;if(e==null||!f&&p===!1)return;a=g==null?void 0:(a=g.ctaItems)==null?void 0:a.get(e);if(a==null)return;if(n){if(q.isPending())return;o.current===!1?(o.current=!0,q(a.ctaDominantColor)):m(a.ctaDominantColor);return}n||(o.current=!1,q.isPending()?q.reset():m(null))},[n,q,e,g==null?void 0:g.ctaItems,f,p]);a=d("PolarisViewpointReact.react").useViewpoint({action:[d("PolarisAdCTAViewabilityAction").makeAdCTAViewabilityAction(n,a),d("PolarisAdImpressionAction").makeAdCTAImpressionAction(e)],id:b.id});return{ctaDominantColor:l,ctaFooterViewpointRef:a}}g["default"]=a}),98);
__d("PolarisSponsoredPostCTAFooter.react",["PolarisClickEventLoggerProvider.react","PolarisODS","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisTrackingNodeProvider.react","PolarisadsSelectors","react","usePolarisSponsoredPostCTAFooterDominantColor"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.post,e=a.sidecarIndex;a=a.isMediaRendered;var f=d("PolarisadsSelectors").useFeedAdInfo(b.id,function(a){return a}),g=b.isSidecar;e=g===!0?(g=d("PolarisPostUtils").getCurrentSidecarItemFromPost(b,e))==null?void 0:g.id:b.id;g=c("usePolarisSponsoredPostCTAFooterDominantColor")({post:b,mediaId:e,isMediaRendered:a});b=g.ctaDominantColor;a=g.ctaFooterViewpointRef;if(e==null)return null;g=f==null?void 0:(g=f.ctaItems)==null?void 0:(g=g.get(e))==null?void 0:g.ctaLinkUrl;e=f==null?void 0:(f=f.ctaItems)==null?void 0:(f=f.get(e))==null?void 0:f.ctaLinkText;f=function(){c("PolarisODS").incr("web.ads.feed.link_click")};return g!=null&&e!=null?h.jsx(c("PolarisClickEventLoggerProvider.react"),{children:h.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:h.jsx("div",{ref:a,children:h.jsx(c("PolarisPostFooterCTA.react"),{ctaDominantColor:b,"data-testid":void 0,disableAnimation:!1,externalURL:g,forceBottomBorder:!0,isActive:!0,isForAd:!0,onClick:f,showChevron:!0,text:e})})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFavoritesModalContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a({isOpen:!1,toggleOpen:c("emptyFunction")});e=b;g["default"]=e}),98);
__d("PolarisFeedPageConstants",[],(function(a,b,c,d,e,f){"use strict";a="feed";b="feedPageModal";f.FEED_PAGE_ANALYTICS_CONTEXT=a;f.FEED_PAGE_MODAL_ANALYTICS_CONTEXT=b}),66);
__d("PolarisLoggedOutSidecarUpsell.react",["PolarisIGCoreBox","PolarisLoggedOutAppUpsellInnerContent.react","PolarisLoggedOutCtaLogger","PolarisPreviewPhoto.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b;i(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"sidecar_item_upsell",ctaVersion:"app_upsell",eventName:"impression"})});if(a.upsellSidecarChild.dimensions==null||a.upsellSidecarChild.owner==null||a.upsellSidecarChild.mediaPreview==null)throw new Error("Invalid SidecarChildItem for upsell");return h.jsxs(c("PolarisIGCoreBox"),{direction:"column",justifyContent:"center",children:[h.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:a.upsellSidecarChild.dimensions,previewData:a.upsellSidecarChild.mediaPreview}),h.jsx(c("PolarisIGCoreBox"),{alignContent:"center",alignItems:"center",alignSelf:"center",color:"web-always-white",direction:"column",flex:"shrink",justifyContent:"center",marginEnd:13,marginStart:13,maxWidth:"300px",overflow:"hidden",position:"absolute",shape:"extra-rounded",children:h.jsx(c("PolarisLoggedOutAppUpsellInnerContent.react"),{ctaType:"sidecar_item_upsell",ctaVersion:"app_upsell",intentSource:"post_sidecar_upsell",isSidecarPostLandscape:a.upsellSidecarChild.dimensions.height<a.upsellSidecarChild.dimensions.width,triggeringPageType:"post",triggeringUserDisplayName:(b=a.upsellSidecarChild.owner)==null?void 0:b.username,triggeringUserPicUrl:a.upsellSidecarChild.owner.profilePictureUrl,triggeringUserUsername:a.upsellSidecarChild.owner.username})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedActionOpenPostModalForId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return b({postId:a,type:"FEED_SET_POST_MODAL_ID"})}}f.openPostModalForId=a}),66);
__d("emptyObject",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("PolarisAPIEditCollection",["PolarisInstapi","emptyObject"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.collectionName,f=a.postIdsToAdd;a=a.postIdsToRemove;a=babelHelpers["extends"]({added_media_ids:JSON.stringify((f=f)!=null?f:[]),removed_media_ids:JSON.stringify((f=a)!=null?f:[])},e!=null&&e!==""?{name:e}:c("emptyObject"));return d("PolarisInstapi").apiPost("/api/v1/collections/{collection_id}/edit/",{path:{collection_id:b},body:a}).then(function(a){return a.data})}g.editCollection=a}),98);
__d("PolarisPostActionAddPostToCollection",["PolarisAPIEditCollection","PolarisConsumerDataCache","PolarisLinkBuilder","PolarisODS","PolarisuserSelectors","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.analyticsData;var b=a.collectionId,e=a.failureHandler,f=a.postIds,g=a.successHandler;return function(a,h){var i=h(),j=c("nullthrows")(d("PolarisuserSelectors").getViewer(i)).id;a({type:"ADD_POST_TO_COLLECTION_REQUESTED",collectionId:b,postIds:f});c("PolarisODS").incr("web.saveToCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToAdd:[].concat(f)}).then(function(){var e=c("nullthrows")(d("PolarisuserSelectors").getViewer(h()));e=d("PolarisLinkBuilder").buildUserPathLink(c("nullthrows")(e.username),"saved");d("PolarisConsumerDataCache").invalidatePath(e);a({type:"ADD_POST_TO_COLLECTION_SUCCEEDED",collectionId:b,postIds:f,userId:j});c("PolarisODS").incr("web.saveToCollection.success");g!=null&&g()})["catch"](function(){a({type:"ADD_POST_TO_COLLECTION_FAILED",collectionId:b,postIds:f}),c("PolarisODS").incr("web.saveToCollection.failure"),e!=null&&e()})}}g.addPostToCollection=a}),98);
__d("PolarisAPIHidePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.postId,c=a.reason;a=a.inventorySource;return d("PolarisInstapi").apiPost("/api/v1/discover/explore_report/",{body:{container_module:"feed_timeline",inventory_source:a,m_pk:b,selected_reason:c,sfplt_source:"sfplt_in_menu"}}).then(function(a){return a.data})}g.hidePost=a}),98);
__d("PolarisPostActionHidePost",["PolarisAPIHidePost","PolarisMonitorErrors","PolarisODS","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.postId,f=a.reason,g=a.inventorySource;a=a.onSuccess;var h=a===void 0?c("emptyFunction"):a;return function(a){return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return b("regeneratorRuntime").awrap(d("PolarisAPIHidePost").hidePost({postId:e,reason:f,inventorySource:g}));case 3:c("PolarisODS").incr("web.hide_post.succeeded");a({type:"HIDE_POST_SUCCEEDED",postId:e});h();i.next=12;break;case 8:i.prev=8,i.t0=i["catch"](0),c("PolarisODS").incr("web.hide_post.failed"),d("PolarisMonitorErrors").logError(i.t0);case 12:case"end":return i.stop()}},null,this,[[0,8]])}}g.hidePost=a}),98);
__d("PolarisAPILikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/like/",{path:{media_id:a}})}g.likePost=a}),98);
__d("PolarisPostActionLikePost",["PolarisAPILikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisFunctionalityTracker","PolarisGenericStrings","PolarisLogger","PolarisSentryFeedbackActions","PolarisToastActions"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){var e=new(d("PolarisFunctionalityTracker").FunctionalityTracker)("like");return function(f){e.attempt();d("PolarisLogger").logAction("likeAttempt",b);f({type:"LIKE_POST_REQUESTED",postId:a});e.request();return d("PolarisAPILikePost").likePost(a).then(function(){e.responseSuccess(),c!=null?d("PolarisAdsEngagementLogger").logAdLike(b,c):d("PolarisEngagementLogger").logOrganicLike(b),f({type:"LIKE_POST_SUCCEEDED",postId:a}),e.completeSuccess()},function(c){var g;e.responseFailure();d("PolarisLogger").logAction("likeFailure",b);g=((g=c.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j;g=(g=c.responseObject)==null?void 0:g.feedback_title;i=(i=c.responseObject)==null?void 0:i.feedback_message;j=(j=c.responseObject)==null?void 0:j.feedback_url;c=(c=c.responseObject)==null?void 0:c.feedback_action;f(d("PolarisSentryFeedbackActions").showSentryFeedback({title:g,message:i,url:j,action:c}))}f({type:"LIKE_POST_FAILED",postId:a});f(d("PolarisToastActions").showToast({text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:function(){return f(h(a,b))}}));e.completeFailure()})}}g.likePost=h}),98);
__d("PolarisAPIGetChildComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/{parent_comment_id}/child_comments/",{path:{media_id:a,parent_comment_id:b},query:babelHelpers["extends"]({},c!=null?{max_id:c}:{})}).then(function(a){return a.data})}g.getChildComments=a}),98);
__d("PolarisAPIGetInitialComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:{can_support_threading:!0,target_comment_id:b,permalink_enabled:!!b}}).then(function(a){return a.data})}g.getInitialComments=a}),98);
__d("PolarisAPIGetPaginationComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c=!0);return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:babelHelpers["extends"]({can_support_threading:!0},c===!0?{min_id:b}:{max_id:b})}).then(function(a){return a.data})}g.getPaginationComments=a}),98);
__d("PolaristransformCommentEntities",["PolarisCommentModel","PolarisUserModel","PolaristransformEntities"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;return{comments:c("PolaristransformEntities")((b=a.commentDicts)!=null?b:{},function(a){return c("PolarisCommentModel").fromNativeResponse(a).toReduxStore()}),users:c("PolaristransformEntities")((b=a.userDicts)!=null?b:{},function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()})}}g["default"]=a}),98);
__d("PolarisThreadedCommentActions",["PolarisAPIGetChildComments","PolarisAPIGetInitialComments","PolarisAPIGetPaginationComments","PolarisPaginationUtils","PolarisThreadedCommentActionConstants","PolarisnormalizeComments","PolaristransformCommentEntities","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="bc3296d1ce80a24b1b6e40b1e72903f5",i="1ee91c32fc020d44158a3192eda98247";function a(a){return{type:"MOBILE_ALL_COMMENTS_PAGE_LOADED",commentPageData:c("nullthrows")(a.shortcode_media)}}function b(a){return{type:"HIDE_CHILD_COMMENTS",parentId:a}}function e(a){return{type:"SHOW_CHILD_COMMENTS",parentId:a}}function j(a,b){b=b.map(function(a){return a.pk});var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f!=null&&a[f]!=null&&(c[f]=a[f])}return c}h=d("PolarisPaginationUtils").generatePaginationActionCreators({pageSize:d("PolarisThreadedCommentActionConstants").PARENT_PAGE_SIZE,pagesToPreload:d("PolarisThreadedCommentActionConstants").PAGES_TO_PRELOAD,getState:function(a,b){return a.threadedComments.parentByPostId.get(b).pagination},queryId:h,queryParams:function(a,b,c){return{shortcode:c}},onUpdate:function(a,b,d,e){b=b==null?void 0:(b=b.shortcode_media)==null?void 0:b.edge_media_to_parent_comment;var f={};if(b!=null)for(var g=b.edges,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=c("nullthrows")(j.node.edge_threaded_comments);k={count:k.count,pageInfo:k.page_info,comments:k.edges.map(function(a){return a.node})};f[j.node.id]=k}return{type:"PARENT_COMMENT_REQUEST_UPDATED",fetch:a,postId:d,hasRankedComments:e,count:b&&b.count,comments:b?b.edges.map(function(a){return a.node}):[],childComments:f,pageInfo:b&&b.page_info}},onError:function(a,b,c){return{type:"PARENT_COMMENT_REQUEST_FAILED",fetch:b,postId:c}}});i=d("PolarisPaginationUtils").generatePaginationActionCreators({pageSize:d("PolarisThreadedCommentActionConstants").CHILD_PAGE_SIZE,pagesToPreload:d("PolarisThreadedCommentActionConstants").PAGES_TO_PRELOAD,getState:function(a,b){return a.threadedComments.childByParentId.get(b).pagination},queryId:i,queryParams:function(a){return{comment_id:a}},onUpdate:function(a,b,c){b=b==null?void 0:(b=b.comment)==null?void 0:b.edge_threaded_comments;return{type:"CHILD_COMMENT_REQUEST_UPDATED",fetch:a,parentId:c,count:b&&b.count,comments:b&&b.edges?b.edges.map(function(a){return a.node}):[],pageInfo:b&&b.page_info}},onError:function(a,b,c){return{type:"CHILD_COMMENT_REQUEST_FAILED",fetch:b,parentId:c}}});function k(a,b){var e,f=b.has_more_comments===!0||b.has_more_headload_comments===!0,g=b.has_more_headload_comments===!0,h=f?g?b.next_min_id:b.next_max_id:"";e=(e=b.comment_count)!=null?e:0;b=(b=b.comments)!=null?b:[];var i=c("PolaristransformCommentEntities")(d("PolarisnormalizeComments").normalizeComments(b).entities);return{comments:j(i.comments,b),count:e,pagination:{has_next_page:f,has_previous_page:g,end_cursor:h},type:"INITIAL_PARENT_COMMENT_REQUEST_LOADED",postId:a,users:(b=i.users)!=null?b:{}}}function l(a){return{postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_FAILED"}}function m(a,b){return function(c){c({postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetInitialComments").getInitialComments(a,b).then(function(b){c(k(a,b))})["catch"](function(b){c(l(a))})}}function n(a,b,e){return function(e,f){f=f();f=f.threadedComments;f=(f=(f=f.parentByPostId.get(a))==null?void 0:f.pagination)!=null?f:null;if(f==null)return;var g=d("PolarisPaginationUtils").getEndCursor(f);if(g==null)return;e({postId:a,type:"PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetPaginationComments").getPaginationComments(a,g,d("PolarisPaginationUtils").hasPreviousPage(f)===!0).then(function(f){var g,h=f.has_more_comments===!0||f.has_more_headload_comments===!0,i=f.has_more_headload_comments===!0,k=h?i?f.next_min_id:f.next_max_id:"";g=(g=f.comment_count)!=null?g:0;f=(f=f.comments)!=null?f:[];var l=c("PolaristransformCommentEntities")(d("PolarisnormalizeComments").normalizeComments(f).entities);e({comments:j(l.comments,f),count:g,hasRankedComments:(f=b)!=null?f:!1,pagination:{has_previous_page:i,has_next_page:h,end_cursor:k},type:"PARENT_COMMENT_REQUEST_UPDATED_V2",postId:a,users:(g=l.users)!=null?g:{}})})["catch"](function(b){e({postId:a,type:"PARENT_COMMENT_REQUEST_FAILED_V2"})})}}function o(a,b,e,f){return function(e,f){e({parentId:b,type:"CHILD_COMMENT_REQUEST_LOADING"});f=f();f=f.threadedComments;f=(f=(f=f.childByParentId.get(b))==null?void 0:f.pagination)!=null?f:null;var g;f!=null&&(g=d("PolarisPaginationUtils").getEndCursor(f));g=(f=g)!=null?f:null;return d("PolarisAPIGetChildComments").getChildComments(a,b,g).then(function(f){var g,h,i,j=f.has_more_head_child_comments===!0||f.has_more_tail_child_comments===!0;g=(g=f.next_max_child_cursor)!=null?g:"";h=(h=f.child_comment_count)!=null?h:0;f=(f=f.child_comments)!=null?f:[];f=c("PolaristransformCommentEntities")(d("PolarisnormalizeComments").normalizeComments(f).entities);e({comments:(i=f.comments)!=null?i:{},count:h,pagination:{end_cursor:g,has_next_page:j},parentId:b,postId:a,type:"CHILD_COMMENT_REQUEST_UPDATED_V2",users:(i=f.users)!=null?i:{}})})["catch"](function(a){e({parentId:b,type:"CHILD_COMMENT_REQUEST_FAILED_V2"})})}}h=h.next;function f(a,b,c){return function(d){return d(n(a,b,c))}}function p(a,b){return function(c){return c(m(a,b))}}i=i.next;function q(a,b,c,d){return function(e){return e(o(a,b,c,d))}}function r(){return function(a){return a({type:"INCREMENT_COMMENT_COVER_SEEN_COUNTER"})}}function s(a){return function(b){return function(c){c(k(a,b))}}}g.mobileAllCommentsPageLoaded=a;g.hideChildComments=b;g.showChildComments=e;g.initialCommentsError=l;g.requestNextParentCommentPage=h;g.requestNextParentCommentPageV2=f;g.requestInitialComments=p;g.requestNextChildCommentPage=i;g.requestNextChildCommentPageV2=q;g.incrementCommentCoverSeenCounter=r;g.setupPostComments=s}),98);
__d("PolarisPostActionLoadPost",["PolarisAPIQuery","PolarisAdsActions","PolarisInstapi","PolarisMonitorErrors","PolarisODS","PolarisPostActionPostLoadedV2","PolarisRoutes","PolarisThreadedCommentActions","PolarisisUserLoggedIn","Polarisunexpected","goForceFullPageRedirectTo","justknobx","nullthrows","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="b3055c01b4b222b8a47dc12b090e4e64",i=40,j=24,k=3;function a(a,e){return function(f,g){var m,n,o,p,q,r,s;return b("regeneratorRuntime").async(function(t){while(1)switch(t.prev=t.next){case 0:f({shortcode:a,type:"POST_PAGE_LOADING"});if(!(e!=null&&d("PolarisisUserLoggedIn").isUserLoggedIn())){t.next=16;break}t.prev=2;f(d("PolarisThreadedCommentActions").requestInitialComments(e));t.next=6;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/info/",{path:{media_id:e},query:{}}));case 6:m=t.sent;n=m.data;n.items!=null&&(o=[].concat(n.items),p=o[0],q=new Set(g().ads.feed.keys()),p!=null&&p.ad_id!=null?f(d("PolarisAdsActions").adMediaInfoLoaded(o[0],a)):f(d("PolarisPostActionPostLoadedV2").postLoadedV2(o,a,q)));t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),d("PolarisMonitorErrors").logError(t.t0);case 14:t.next=28;break;case 16:t.prev=16;t.next=19;return b("regeneratorRuntime").awrap(d("PolarisAPIQuery").query(h,{shortcode:a,child_comment_count:k,fetch_comment_count:i,parent_comment_count:j,has_threaded_comments:!0}));case 19:r=t.sent;s=r.data;f(l(s));t.next=28;break;case 24:t.prev=24,t.t1=t["catch"](16),c("Polarisunexpected")(t.t1),c("justknobx")._("368")&&(c("PolarisODS").incr("web.logged_out_error_redirect.post"),c("goForceFullPageRedirectTo")(d("PolarisRoutes").LOGIN_PATH));case 28:case"end":return t.stop()}},null,this,[[2,11],[16,24]])}}function l(a){return{type:"POST_PAGE_LOADED",postData:c("nullthrows")(a.shortcode_media)}}g.loadPost=a;g.postPageLoaded=l}),98);
__d("PolarisAPISavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/save/",{path:{media_id:a}})}g.savePost=a}),98);
__d("PolarisPostActionSavePost",["PolarisAPISavePost","PolarisAdsEngagementLogger","PolarisConsumerDataCache","PolarisFunctionalityTracker","PolarisLinkBuilder","PolarisLogger","PolarisuserSelectors","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=new(d("PolarisFunctionalityTracker").FunctionalityTracker)("save");return function(g,h){f.attempt();d("PolarisLogger").logAction("saveAttempt",b);g({type:"SAVE_POST_REQUESTED",postId:a});f.request();return d("PolarisAPISavePost").savePost(a).then(function(){f.responseSuccess();d("PolarisLogger").logAction("saveSuccess",b);var i=c("nullthrows")(d("PolarisuserSelectors").getViewer(h()));i=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(i.username));d("PolarisConsumerDataCache").invalidatePath(i);g({type:"SAVE_POST_SUCCEEDED",postId:a});e!=null&&d("PolarisAdsEngagementLogger").logAdSave(e);f.completeSuccess()},function(){f.responseFailure(),d("PolarisLogger").logAction("saveFailure",b),g({type:"SAVE_POST_FAILED",postId:a}),f.completeFailure()})}}g.savePost=a}),98);
__d("PolarisAPIUnlikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/unlike/",{path:{media_id:a}})}g.unlikePost=a}),98);
__d("PolarisPostActionUnlikePost",["PolarisAPIUnlikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisFunctionalityTracker","PolarisGenericStrings","PolarisLogger","PolarisSentryFeedbackActions","PolarisToastActions"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){var e=new(d("PolarisFunctionalityTracker").FunctionalityTracker)("unlike");return function(f){e.attempt();d("PolarisLogger").logAction("unlikeAttempt",b);f({type:"UNLIKE_POST_REQUESTED",postId:a});e.request();return d("PolarisAPIUnlikePost").unlikePost(a).then(function(){e.responseSuccess(),c!=null?d("PolarisAdsEngagementLogger").logAdUnlike(b,c):d("PolarisEngagementLogger").logOrganicUnlike(b),f({type:"UNLIKE_POST_SUCCEEDED",postId:a}),e.completeSuccess()},function(c){var g;e.responseFailure();g=((g=c.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j;g=(g=c.responseObject)==null?void 0:g.feedback_title;i=(i=c.responseObject)==null?void 0:i.feedback_message;j=(j=c.responseObject)==null?void 0:j.feedback_url;c=(c=c.responseObject)==null?void 0:c.feedback_action;f(d("PolarisSentryFeedbackActions").showSentryFeedback({title:g,message:i,url:j,action:c}))}d("PolarisLogger").logAction("unlikeFailure",b);f({type:"UNLIKE_POST_FAILED",postId:a});f(d("PolarisToastActions").showToast({text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:function(){return f(h(a,b))}}));e.completeFailure()})}}g.unlikePost=h}),98);
__d("PolarisAPIUnsavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/unsave/",{path:{media_id:a}})}g.unsavePost=a}),98);
__d("PolarisPostActionUnsavePost",["PolarisAPIUnsavePost","PolarisAdsEngagementLogger","PolarisConsumerDataCache","PolarisFunctionalityTracker","PolarisLinkBuilder","PolarisLogger","PolarisuserSelectors","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=new(d("PolarisFunctionalityTracker").FunctionalityTracker)("unsave");return function(g,h){f.attempt();d("PolarisLogger").logAction("unsaveAttempt",b);g({type:"UNSAVE_POST_REQUESTED",postId:a});f.request();return d("PolarisAPIUnsavePost").unsavePost(a).then(function(){d("PolarisLogger").logAction("unsaveSuccess",b);f.responseSuccess();var i=c("nullthrows")(d("PolarisuserSelectors").getViewer(h()));i=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(i.username));d("PolarisConsumerDataCache").invalidatePath(i);g({type:"UNSAVE_POST_SUCCEEDED",postId:a});e!=null&&d("PolarisAdsEngagementLogger").logAdUnsave(e);f.completeSuccess()},function(){d("PolarisLogger").logAction("unsaveFailure",b),f.responseFailure(),g({type:"UNSAVE_POST_FAILED",postId:a}),f.completeFailure()})}}g.unsavePost=a}),98);
__d("PolarisSavedPostsActionEditCollection",["PolarisAPIEditCollection","PolarisGenericStrings","PolarisSavedPostsLogger","PolarisnormalizeCollections","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.collectionId,e=a.collectionName,f=a.postIdsToAdd,g=a.postIdsToRemove,h=a.retryHandler,i=a.source,j=a.userId;return function(a){a({collectionId:c,type:"SAVED_COLLECTION_EDIT_PENDING",userId:j});d("PolarisSavedPostsLogger").logEditCollection("attempt",i);return d("PolarisAPIEditCollection").editCollection({collectionId:c,collectionName:e,postIdsToAdd:f,postIdsToRemove:g}).then(function(b){b=d("PolarisnormalizeCollections").normalizeCollection(b);a({collection:b,postIdsToAdd:f,postIdsToRemove:g,type:"SAVED_COLLECTION_EDIT_SUCCESS",userId:j});d("PolarisSavedPostsLogger").logEditCollection("success",i)})["catch"](function(e){a({collectionId:c,toast:{text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:h},type:"SAVED_COLLECTION_EDIT_ERRORED",userId:j});d("PolarisSavedPostsLogger").logEditCollection("failure",i);return b("Promise").reject(e)})}}g.editCollection=a}),98);
__d("PolarisPostFeatures",["PolarisPostConstants","PolarisPostModalRenderingContext","PolarisPostVariants","PolarisReactRedux","PolarisRelationshipTypes","PolarisUA","PolarisrelationshipSelectors","PolarisuserSelectors","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g){"use strict";var h=[{predicate:"isThreeLineHeaderEnabled",overrides:{threeLineHeaderEnabled:!0}},{predicate:"isFeed",overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0}},{predicate:"isWidePhotoOnMediumScreen",overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0}},{predicate:"isRichCommentsEnabled",overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,showPostButton:!0,hasThreadedSidebarComments:!0}},{predicate:"isStackedScreenSize",overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0,showPostButton:!0,hasThreadedSidebarComments:!1}},{predicate:"isViewerInUserTags",overrides:{hasPhotosOfYouOption:!0}},{predicate:"isFeedAndOwnerFollowedByViewer",overrides:{showFollowButton:!1}},{predicate:"isModalAndOwnerFollowedByViewer",overrides:{showFollowButton:!1}},{predicate:"isOwnerPrivate",overrides:{canViewerProvideFeedback:!1}},{predicate:"isOwnerFollowedByViewer",overrides:{canViewerProvideFeedback:!0}},{predicate:"isOwnerTheViewer",overrides:{canViewerProvideFeedback:!0,showFollowButton:!1}},{predicate:"isOwnerUnpublished",overrides:{showFollowButton:!1}},{predicate:"isBlocked",overrides:{showFollowButton:!1}},{predicate:"hasFollowHashtagInfo",overrides:{showFollowButton:!1}},{predicate:"isLoggedOut",overrides:{canViewerProvideFeedback:!1}}],i={avatarSize:d("PolarisPostConstants").AVATAR_SIZE_LARGE,showPostButton:!1,showFollowButton:!0,threeLineHeaderEnabled:!1,commentsAreStacked:!1,hasThreadedSidebarComments:!1,canViewerProvideFeedback:!0,hasPhotosOfYouOption:!1};function j(a){var b=a.isMobile;b===void 0?!1:b;b=a.owner;a.path;var c=a.post,e=a.relationship,f=a.variant,g=a.viewer,h=a.viewportWidth;a=a.isInModal;f=f===d("PolarisPostVariants").VARIANTS.feed;var i=Boolean(g),j=!g,k=(g==null?void 0:g.id)===b.id,l=e.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,m=Boolean(c.followHashtagInfo),n=Boolean(c.location)&&(c.sponsors||[]).length>0;return{isFeed:f,isSidecar:(c.sidecarChildren||[]).length>0,isThreeLineHeaderEnabled:n,hasFollowHashtagInfo:m,isLoggedIn:i,isLoggedOut:j,isOwnerTheViewer:k,isOwnerFollowedByViewer:l,isFavorited:((n=e.favoritedByViewer)==null?void 0:n.state)===d("PolarisRelationshipTypes").FAVORITE_STATUS_FAVORITED,isFeedAndOwnerFollowedByViewer:f&&l,isModalAndOwnerFollowedByViewer:a&&l,isOwnerPrivate:Boolean(b.isPrivate),isOwnerUnpublished:Boolean(b.isUnpublished),isViewerInUserTags:i&&(c.usertags||[]).some(function(a){return a.user.id===(g==null?void 0:g.id)}),isBlocked:e.hasBlockedViewer.state===d("PolarisRelationshipTypes").BLOCK_STATUS_BLOCKED,isStackedScreenSize:h<d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,isWidePhotoOnMediumScreen:Boolean(c.dimensions&&c.dimensions.width/c.dimensions.height>1.5&&h>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF&&h<=d("PolarisPostConstants").MEDIUM_SCREEN_MAX),isRichCommentsEnabled:!0}}function k(a){var b=j(a);a=b.isBlocked;var c=b.isFavorited,d=b.isLoggedIn,e=b.isSidecar,f=b.isStackedScreenSize;return babelHelpers["extends"]({isSidecar:e,isFavorited:c,isLoggedIn:d,isBlocked:a,isStackedScreenSize:f},h.filter(function(a){a=a.predicate;var c=b[a];if(typeof c!=="boolean")throw new Error("Could not find predicate "+a);return c}).reduce(function(a,b){var c=b.overrides;b.predicate;return babelHelpers["extends"]({},a,c)},i))}function a(a){var b=a.path,e=a.post,f=a.owner;a=a.variant;var g=d("PolarisReactRedux").useSelector(function(a){return d("PolarisrelationshipSelectors").getRelationship(a.relationships,f.id)}),h=d("PolarisReactRedux").useSelector(d("PolarisuserSelectors").getViewer),i=c("usePolarisDisplayProperties")(),j=i.viewportHeight;i=i.viewportWidth;var l=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext();l=l.isInModal;b={isMobile:d("PolarisUA").isMobile(),owner:f,path:b,post:e,relationship:g,variant:a,viewer:h,viewportHeight:j,viewportWidth:i,isInModal:l};return k(b)}g.getPostFeatures=k;g.usePolarisPostFeatures=a}),98);
__d("PolarisVideoViewedTimeAction",["PolarisvideoEventLogger","PolarisvideoUtils","convertToViewabilityPercentage","gkx","memoizeStringOnly"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return new Map()}),i=c("memoizeStringOnly")(function(a){return new Map()}),j=c("memoizeStringOnly")(function(){return new Map()});function k(a){a=a.video;var b=a.getDeclarativeVideoRef();return{lastStartPosition:(b=b==null?void 0:b.getCurrentTime())!=null?b:0,loopCount:a.getLoopCount()}}function l(a){var b,c=a.adTrackingToken,e=a.initialData,f=a.context,g=a.post;a=a.video;var h=a.getDeclarativeVideoRef();return{carouselParentId:g.carouselParentId,videoWidth:h==null?void 0:(b=h.getVideo())==null?void 0:b.videoWidth,currentVideoTime:d("PolarisvideoUtils").getCurrentVideoTime(h),dashInfo:d("PolarisvideoUtils").getDashInfo(g),duration:h==null?void 0:h.getDuration(),id:g.id,owner:g.owner,postedAt:g.postedAt,sequenceNumber:a.getNextSequenceNumber(),loopCount:a.getLoopCount()-e.loopCount,lastStartPosition:e.lastStartPosition,adTrackingToken:c,analyticsContext:f,isAd:!0,timeAtVideoPause:d("PolarisvideoUtils").getTimeAtVideoPause(h),trackingToken:g.trackingToken}}function a(a,b,e,f){return function(g){if(b.current==null)return;var m=b.current,n=h(e),o=i(e),p=a.id;g.percentVisible>=.5&&!n.has(p)&&n.set(p,k({video:m}));g.percentVisible>=1&&!o.has(p)&&o.set(p,k({video:m}));var q=n.get(p);q!=null&&g.percentVisible<.5&&(n["delete"](p),d("PolarisvideoEventLogger").logVideoViewedTime(l({adTrackingToken:f,context:e,initialData:q,post:a,video:m})));n=o.get(p);n&&g.percentVisible<1&&(o["delete"](p),d("PolarisvideoEventLogger").logVideoFullViewedTime(l({adTrackingToken:f,context:e,initialData:n,post:a,video:m})));if(!c("gkx")("464"))return;q=j(e);o=q.get(p);n=c("convertToViewabilityPercentage")(g.percentVisible);g=m.getDeclarativeVideoRef();n!==o&&(q.set(p,n),d("PolarisvideoEventLogger").logVideoViewabilityChanged({carouselParentId:a.carouselParentId,currentVideoTime:d("PolarisvideoUtils").getCurrentVideoTime(g),dashInfo:d("PolarisvideoUtils").getDashInfo(a),duration:g==null?void 0:g.getDuration(),id:a.id,owner:a.owner,sequenceNumber:m.getNextSequenceNumber(),adTrackingToken:f,analyticsContext:e,isAd:!0,trackingToken:a.trackingToken,currentViewabilityPercentage:n}))}}g.makeVideoViewTimeAction=a}),98);
__d("PolarisAsyncLikedByListContainer",["JSResourceForInteraction","PolarisAsyncComponent","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";a=d("PolarisAsyncComponent").createAsyncComponent_DEPRECATED({displayName:"LikedByListContainer",resolve:function(){return c("JSResourceForInteraction")("PolarisLikedByListContainer.react").__setRef("PolarisAsyncLikedByListContainer").load().then(function(a){return c("xigRequireInterop")(a)})}});g["default"]=a}),98);
__d("PolarisEmbedHashHelpers",["memoize"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoize")(function(){var a=window.location.hash;a=decodeURIComponent(a.substring(a.indexOf("#")+1));try{a=JSON.parse(a)}catch(b){a={}}return{clientId:a.ci,offset:a.os,sdkLoadStart:a.ls,sdkLoadEnd:a.le}});g.getHashPayload=a}),98);
__d("PolarisgetEmbedRequestID",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("nullthrows")(document.querySelector(".Embed"));return a.getAttribute("data-request-id")}g["default"]=a}),98);
__d("PolarisEmbedLogger",["PolarisEmbedHashHelpers","PolarisLogger","PolarisLoggerUtils","PolarisPigeonLogger","PolarisQueryParamsHelper","PolarisgetEmbedRequestID","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("PolarisLoggerUtils").trimAndSanitizeUrl(a||window.location.href);var b=c("PolarisgetEmbedRequestID")();return b!=null?d("PolarisQueryParamsHelper").appendQueryParams(a,{ig_rid:b}):a}function a(a,b,e){if(!c("gkx")("4952"))return;var f=d("PolarisLogger").getExtra(),g=f.url;f=babelHelpers.objectWithoutPropertiesLoose(f,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},f);f=babelHelpers["extends"]({obj_type:"url",obj_id:h(g)},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds",a,f),b)}function i(a,b,c){var e=d("PolarisLogger").getAnonymousExtra(),f=e.url;e=babelHelpers.objectWithoutPropertiesLoose(e,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},e);e=babelHelpers["extends"]({obj_type:"url",obj_id:h(f)},c);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds_anonymous",a,e),b)}function b(a){var b=a.isCopyrightBlocked,c=a.mediaId,d=a.mediaType;a=a.ownerId;i({actionName:"view",mediaId:c,mediaType:d,ownerId:a,isCopyrightBlocked:b})}function e(a,b,e){if(!c("gkx")("4952"))return;a=d("PolarisLogger").getExtra(a);var f=a.url;a=babelHelpers.objectWithoutPropertiesLoose(a,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,parent_url:window.document.referrer},a);f=babelHelpers["extends"]({obj_type:"url",obj_id:h(f)},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embed_perf_events",a,f),b)}g.logEmbedAction=a;g.logEmbedPageView=b;g.logEmbedTimings=e}),98);
__d("PolarisEmbedVideoWatchAgain.react",["cx","fbt","FastLink","PolarisEmbedLogger","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._("Control"),l=i._("Watch again on Instagram"),m="https://www.instagram.com";function n(a){return j.jsx(c("FastLink"),{"aria-label":k,className:a.className,href:a.href,onClick:a.onClick,target:"_blank"})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.post;a=b.code;a=a!=null&&a.length>0?d("PolarisLinkBuilder").buildMediaLink(a):"";var e="utm_source=ig_embed&utm_campaign=embed_video_watch_again";a=""+m+a+"?"+e;e=function(){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoWatchAgainClick",mediaId:b.id,mediaType:"video",ownerId:((a=b.owner)==null?void 0:a.id)||""})};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"_aar9",children:j.jsxs("div",{className:"_aara",children:[j.jsx(c("FastLink"),{"aria-label":l,className:"_aarb _9zwu",href:a,onClick:e,target:"_blank"}),j.jsx(c("FastLink"),{"aria-label":l,className:"_aarc",href:a,onClick:e,target:"_blank",children:l})]})}),j.jsx(n,{className:"_aard",href:a,onClick:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisEmbedVideo.react",["cx","PolarisEmbedLogger","PolarisEmbedVideoWatchAgain.react","PolarisLogger","PolarisUserTagIndicatorWithSheet.react","PolarisVideoHeight","PolarisVideoPlayButton.react","PolarisZeroNUXModal.react","PolarisZeroRatingUtils","PolarisZeroVideoBanner.react","PolarisgetPostFromGraphMediaInterface","Run","joinClasses","keyMirror","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="video/mp4",k=c("keyMirror")({paused:null,playing:null,finished:null}),l="embedVideo";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=i.createRef();c.$2=!1;c.$3=!1;c.$4=d("PolarisZeroRatingUtils").isZeroRatingSlimEligible();c.$5=null;c.handleVisiblityChange=function(){c.state.playerState!=null&&document.visibilityState&&document.visibilityState==="hidden"&&c.stop()};c.handleBeforeUnload=function(){c.state.playerState===k.playing&&c.stop()};c.handlePlayerPlayEvent=function(){c.setState({playerState:k.playing,hideZeroVideoBanner:!0})};c.handlePlayerPauseEvent=function(){c.pause()};c.handlePlayerEndedEvent=function(){c.stop()};c.handleZeroNuxAction=function(a){a.stopPropagation();if(a.isDefaultPrevented())return;a=c.props.onUpdateZeroNUXPreference;a&&a(d("PolarisZeroRatingUtils").ZeroNUXMedia.video);c.setState({isZeroNuxOpen:!1});c.play()};c.handleZeroNuxClose=function(a){a&&a.stopPropagation(),c.setState({isZeroNuxOpen:!1})};c.handleContainerClick=function(a){c.state.playerState!==k.playing?c.$4?c.props.hasSeenZeroNUX===!0?c.play():c.setState({isZeroNuxOpen:!0}):c.play():c.pause()};c.handleContextMenu=function(a){d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(c.props.post)&&a.preventDefault()};c.shouldRenderZeroBanner=function(){var a=c.$4&&!c.state.hideZeroVideoBanner;a&&!c.$3&&(d("PolarisLogger").logZeroEvent({event_name:"video_data_banner_impression"}),c.$3=!0);return a};b={hideZeroVideoBanner:!1,isZeroNuxOpen:!1,playerState:null};c.state=b;return c}var e=b.prototype;e.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleVisiblityChange);this.$5=d("Run").onBeforeUnload(this.handleBeforeUnload);var a=c("nullthrows")(this.$1.current);a.addEventListener("play",this.handlePlayerPlayEvent);a.addEventListener("pause",this.handlePlayerPauseEvent);a.addEventListener("ended",this.handlePlayerEndedEvent)};e.componentDidUpdate=function(a,b){this.props.isVisible===!1&&a.isVisible===!0&&this.pause()};e.componentWillUnmount=function(){this.handleBeforeUnload();document.removeEventListener("visibilitychange",this.handleVisiblityChange);this.$5!=null&&(this.$5.remove(),this.$5=null);var a=c("nullthrows")(this.$1.current);a.removeEventListener("play",this.handlePlayerPlayEvent);a.removeEventListener("pause",this.handlePlayerPauseEvent);a.removeEventListener("ended",this.handlePlayerEndedEvent)};e.play=function(){if(this.state.playerState===k.playing)return;if(this.$2===!1){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoFirstPlayClick",mediaId:this.props.post.id,mediaType:"video",ownerId:((a=this.props.post.owner)==null?void 0:a.id)||""});this.$2=!0}c("nullthrows")(this.$1.current).play()};e.pause=function(){if(this.state.playerState!==k.playing)return;c("nullthrows")(this.$1.current).pause();this.setState({playerState:k.paused})};e.stop=function(){if(this.state.playerState===k.finished)return;var a=c("nullthrows")(this.$1.current);a.pause();a.currentTime=0;this.setState({playerState:k.finished})};e.render=function(){var a=this.props,b=a.className;a=a.post;var e=this.state.playerState,f=d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(a),g={},h={};d("PolarisVideoHeight").setVideoHeightCompensation(a,!0,g,h);var m=e===k.finished,n=f&&e!=null;e=!n&&(!e||e===k.paused);var o=!f||m||e;return i.jsxs("div",{className:c("joinClasses")(b,"_aand"),style:g,children:[i.jsx("div",{style:h,children:i.jsx("video",{className:"_aane",controls:n,controlsList:f?"nodownload":void 0,loop:!1,onContextMenu:this.handleContextMenu,playsInline:!0,poster:a.src,preload:f?"metadata":"none",ref:this.$1,src:a.videoUrl,type:j})}),o&&(m?i.jsx(c("PolarisEmbedVideoWatchAgain.react"),{post:a}):i.jsx(c("PolarisVideoPlayButton.react"),{onClick:this.handleContainerClick,showPlayButton:e})),this.shouldRenderZeroBanner()&&i.jsx(c("PolarisZeroVideoBanner.react"),{}),this.$4&&this.state.isZeroNuxOpen&&i.jsx(c("PolarisZeroNUXModal.react"),{mediaKeyword:d("PolarisZeroRatingUtils").ZeroNUXMedia.video,onAction:this.handleZeroNuxAction,onClose:this.handleZeroNuxClose}),a.usertags&&a.usertags.length>=1&&i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:l,mediaId:a.id,post:a,usertags:a.usertags})]})};return b}(i.Component);g["default"]=a}),98);
__d("PolarisPostVideoPlayerSurface.react",["cx","CometImage.react","PolarisPostVideoPlayerControls.react","PolarisVideoAutoplayBridge.react","PolarisVideoHelpers","PolarisVideoIndicatorIcon.react","PolarisvideoUtils","VideoPlayerInteractionOverlay.react","VideoPlayerSurface.react","gkx","react","usePolarisShouldShowVideoThumbnail","usePolarisVideoPressInteraction","usePolarisVideoShowPlayButton","usePolarisVideoXControllerLogger","useShouldBridgePolarisVideo"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={playButtonWrapper:{position:"x10l6tqk",top:"xwa60dl",start:"xtzzx4i",marginStart:"xjq0wde",marginTop:"xa2bojp",$$css:!0},thumbnail:{height:"x5yr21d",$$css:!0},thumbnailWrapper:{width:"xh8yej3",height:"x5yr21d",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",$$css:!0}};function k(a){var b=a.showVideoControls,e=a.autoplay;a=a.post;e=e===!0&&!b;var f=c("usePolarisVideoShowPlayButton")(),g=c("usePolarisVideoPressInteraction")({playButtonShowing:f,shouldUnmuteOnPlay:!e,id:a.id});return i.jsxs(i.Fragment,{children:[i.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:g,children:f?i.jsx("div",{className:"x10l6tqk xwa60dl xtzzx4i xjq0wde xa2bojp",children:i.jsx("div",{className:"_9zwu"})}):null}),i.jsx(c("PolarisPostVideoPlayerControls.react"),{post:a,shouldUseVolumeControls:e,showVideoControls:b})]})}function a(a){var b=a.adInfo,e=a.analyticsContext,f=a.asSidecarChild,g=a.autoplay,h=a.firstSidecarChildSrc,l=a.upcomingEventMediaId,m=a.post;a=a.relationship;c("usePolarisVideoXControllerLogger")({adInfo:b,analyticsContext:e,carouselParentId:m.carouselParentId,dashInfo:d("PolarisVideoHelpers").getDashInfoFromPost(m),id:m.id,owner:m.owner,postedAt:m.postedAt,relationship:a,trackingToken:m.trackingToken});b=c("usePolarisShouldShowVideoThumbnail")();a=d("PolarisvideoUtils").shouldCenterCropPosterHeight(e,m);var n=c("gkx")("8295")&&d("PolarisvideoUtils").getUseBrowserControls(e,!1,m),o=c("useShouldBridgePolarisVideo")(),p=m.src;return i.jsxs(c("VideoPlayerSurface.react"),{children:[b&&p!=null&&i.jsx("div",{className:"xh8yej3 x5yr21d x78zum5 x1q0g3np xl56j7k",children:i.jsx(c("CometImage.react"),{src:p,xstyle:a?j.thumbnail:void 0})}),i.jsx(k,{autoplay:g,post:m,showVideoControls:n}),!n&&i.jsx(c("PolarisVideoIndicatorIcon.react"),{analyticsContext:e,asSidecarChild:f,firstSidecarChildSrc:h,hasIGTVFeedPreview:!1,post:m,upcomingEventMediaId:l,visible:!0}),o&&i.jsx(d("PolarisVideoAutoplayBridge.react").PolarisVideoAutoplayBridge,{id:m.id})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostVideoPlayer.react",["PolarisPostVideoPlayerSurface.react","PolarisPostVideoPlayerWrapper.react","PolarisVideo.react","PolarisVideoHelpers","react","useShouldBridgePolarisVideo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.analyticsContext,f=a.post;a=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","post"]);b=(b=d("PolarisVideoHelpers").getSDVideoSrcFromPost(f))!=null?b:f.videoUrl;var g=d("PolarisVideoHelpers").getHDVideoSrcFromPost(f),i=c("useShouldBridgePolarisVideo")();return h.jsx(c("PolarisPostVideoPlayerWrapper.react"),{analyticsContext:e,post:f,children:h.jsx(c("PolarisVideo.react"),{autoplay:!i,dashInfo:d("PolarisVideoHelpers").getDashInfoFromPost(f),hdSrc:g,loopCount:-1,mediaId:f.id,originalHeight:(i=f.dimensions)==null?void 0:i.height,originalWidth:(g=f.dimensions)==null?void 0:g.width,sdSrc:b,children:h.jsx(c("PolarisPostVideoPlayerSurface.react"),babelHelpers["extends"]({analyticsContext:e,post:f},a,{autoplay:!0}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoAutoplay",["PolarisVideoLegacy.react","react","usePolarisVideoAutoplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=h.forwardRef(function(a,b){var e=a.post.id;b=b;e=c("usePolarisVideoAutoplay")(e,b);var f=e.handlePause,g=e.handlePlay;e=e.viewpointRef;return h.jsx("div",{ref:e,children:h.jsx(d("PolarisVideoLegacy.react").Video,babelHelpers["extends"]({},a,{onPause:f,onPlay:g,ref:b,shouldAutoPlay:!1}))})});a.displayName="VideoAutoplay";b=a;g["default"]=b}),98);
__d("isInPolarisProductH22022Holdout",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("986")===!0}g["default"]=a}),98);
__d("usePolarisNextGenVideoLaunchedCheck",["NavHooks","PolarisConfig","PolarisUA","isInPolarisProductH22022Holdout","isInPolarisVideoH220222Holdout"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("NavHooks").useIsOnFeedPage(),b=d("NavHooks").useIsOnPostPage();if(c("isInPolarisVideoH220222Holdout")())return!1;if(c("isInPolarisProductH22022Holdout")())return!1;if(!d("PolarisConfig").isLoggedIn())return!1;if(a&&d("PolarisUA").isMobile())return!0;return b?!0:!1}g["default"]=a}),98);
__d("PolarisMediaVideo",["PolarisConfig","PolarisPostModalContext.react","PolarisPostVideoPlayer.react","PolarisQEHelper","PolarisVideoAutoplay","PolarisVideoLegacy.react","PolarisVideoQEHelpers","PolarisViewpointReact.react","PolarisvideoUtils","cr:1415","gkx","qex","react","usePolarisNextGenVideoLaunchedCheck"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=h.forwardRef(function(a,e){d("PolarisVideoQEHelpers").logVideoImprovementsExposure();var f=a.post.isSponsored,g=c("usePolarisNextGenVideoLaunchedCheck")(),i=c("qex")._("54"),j=d("PolarisPostModalContext.react").useCurrentlyOpenModal();if(!d("PolarisConfig").isLoggedIn()&&b("cr:1415")!=null)return h.jsx(b("cr:1415"),babelHelpers["extends"]({},a,{ref:e}));if((g===!0||i===!0)&&f!==!0)return h.jsx(c("PolarisPostVideoPlayer.react"),babelHelpers["extends"]({},a));g=d("PolarisvideoUtils").isFeed(a.analyticsContext)&&d("PolarisQEHelper").isLoggedInDesktop();return g?h.jsx(d("PolarisViewpointReact.react").ViewpointOcclusionContext.Provider,{value:c("gkx")("4861")&&j!=null,children:h.jsx(c("PolarisVideoAutoplay"),babelHelpers["extends"]({},a,{ref:e}))}):h.jsx(d("PolarisVideoLegacy.react").Video,babelHelpers["extends"]({ref:e},a))});a.displayName="MediaVideo";e=a;g["default"]=e}),98);
__d("PolarisNftIndicator.react",["cx","fbt","PolarisGenericStrings","PolarisIGCoreNftPanoFilledIcon","PolarisIGCorePressable","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.isExpanded;a=a.onClick;return j.jsxs(c("PolarisIGCorePressable"),{className:"_aats",onPress:a,children:[j.jsx("span",{style:{flexShrink:0},children:j.jsx(c("PolarisIGCoreNftPanoFilledIcon"),{alt:d("PolarisGenericStrings").DIGITAL_COLLECTIBLE_TEXT,color:"web-always-white",size:12})}),j.jsx("p",{className:"_aatt"+(b?" _aatu":""),children:i._("Digital collectible")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisNftPhoto.react",["cx","PolarisNftIndicator.react","PolarisPhoto.react","PolarisViewpointReact.react","PolarisonlyHandleSingleClick","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=l(!1),e=b[0],f=b[1];b=l(!1);var g=b[0],h=b[1],m=k(null),n=k(null);b=function(a){switch(a.state){case"entered":case"updated":a=a.percentVisible>.4;g!==a&&h(a);break;case"exited":h(!1)}};var o=a.id,p=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);o=d("PolarisViewpointReact.react").useViewpoint({id:o,action:b});j(function(){g&&m.current==null&&(m.current=window.setTimeout(function(){f(!0)},1e3));return function(){window.clearTimeout(m.current),m.current=null}},[g]);j(function(){e&&n.current==null&&(n.current=window.setTimeout(function(){f(!1)},5e3));return function(){window.clearTimeout(n.current),n.current=null}},[e]);b=d("PolarisonlyHandleSingleClick").onlyHandleSingleClick(function(){f(!e)});return i.jsx("div",{className:"_aana",ref:o,children:i.jsxs("div",{className:c("joinClasses")(a.className,"_aanb"),children:[i.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},p,{onClick:b})),i.jsx(c("PolarisNftIndicator.react"),{isExpanded:e,onClick:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSeenStateUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){a.addImpressionFromPost(b,c)}}f.makeSeenStateAction=a}),66);
__d("PolarisMedia.react",["PolarisDoubleTappable","PolarisEmbedVideo.react","PolarisIGCoreToast","PolarisLikeAnimation","PolarisMediaVideo","PolarisNftPhoto.react","PolarisPhoto.react","PolarisPhotoWithIndicator.react","PolarisQEHelper","PolarisSeenState.react","PolarisSeenStateUtils","PolarisSensitivityOverlay.react","PolarisSidecarMedia.react","PolarisVideoViewedTimeAction","PolarisViewpointReact.react","PolarisvideoUtils","PolariswithRemountOnChange","nullthrows","qex","react","usePolarisMediaSensitivityOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=i(!1),e=b[0],f=b[1];b=i(!1);var g=b[0],j=b[1];b=i(0);var k=b[0],l=b[1];b=d("PolarisSeenState.react").usePolarisSeenStateManager();var m=function(){a.onLike&&(a.onLike(),l(k+1))},n=function(){f(!0)},o=function(){f(!1)},p=function(c,d){var e=a.onMediaRendered,b=a.post;if(b.isVideo===!0)return;e&&e({timeTaken:d,resourceName:c,mediaType:"Photo"})},q=function(a){switch(a.state){case"entered":case"updated":a=a.percentVisible>.2;g!==a&&j(a);break;case"exited":j(!1)}},r=function(a){a.state==="updated"&&a.percentVisible>.4&&c("qex")._("496")},s=function(b,c){if(b===!0&&a.autoplay===!0){if(d("PolarisvideoUtils").isFeed(a.analyticsContext))return!1;if(c===0&&d("PolarisQEHelper").isLoggedInDesktop())return!0}return!1},t=a.analyticsContext,u=a.asSidecarChild,v=a.autoplay;a.checkIsSensitivityOverlayDisabledCallback;var w=a.commentsAreStacked,x=a.firstSidecarChildSrc;a.hasViewInsights;var y=a.id,z=a.adInfo;a.initialCarouselIndex;var A=a.isEmbed,B=a.isVisible,C=a.mediaFooter;a.onLike;a.onMediaRendered;var D=a.onSensitivityOverlayCleared;a.onSetModal;var E=a.onSidecarChildIndexChange,aa=a.onToastClose,F=a.onUpdateZeroNUXPreference,ba=a.onVideoFinished,G=a.post,ca=a.relationship,H=a.sensitivityOverlayMediaOverlayInfoLoggingProps,da=a.showToast,I=a.toastString,ea=a.viewer,fa=a.visiblePosition,J=a.zeroNUXPreference,K=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","asSidecarChild","autoplay","checkIsSensitivityOverlayDisabledCallback","commentsAreStacked","firstSidecarChildSrc","hasViewInsights","id","adInfo","initialCarouselIndex","isEmbed","isVisible","mediaFooter","onLike","onMediaRendered","onSensitivityOverlayCleared","onSetModal","onSidecarChildIndexChange","onToastClose","onUpdateZeroNUXPreference","onVideoFinished","post","relationship","sensitivityOverlayMediaOverlayInfoLoggingProps","showToast","toastString","viewer","visiblePosition","zeroNUXPreference"]),L=G||{},M=L.dimensions,ga=L.displayResources,N=L.upcomingEvent,O=L.id,P=L.isVideo;P=P===void 0?!1:P;var Q=L.mediaPreview,R=L.owner,S=L.sidecarChildren;S=S===void 0?[]:S;var T=L.src;L=L.usertags;var U=S&&S.length>0,V=[];!U&&b!=null&&d("PolarisvideoUtils").isFeed(t)&&V.push(d("PolarisSeenStateUtils").makeSeenStateAction(b,G));b=!1;D=c("usePolarisMediaSensitivityOverlay")(G,t,D,a.checkIsSensitivityOverlayDisabledCallback);var W=D.shouldShowSensitivityOverlay,X=D.mediaOverlayCoverInfo,ha=D.handleHideSensitivityOverlay;if(R&&W){D=H||{};W=D.checkIfMediaOverlayInfoImpressionLoggingDisabled;H=D.onLoggedMediaOverlayInfoImpression;D=h.jsx(c("PolarisSensitivityOverlay.react"),{analyticsContext:t,asSidecarChild:u,dimensions:M,disableMediaOverlayInfoImpressionLogging:W!=null?W(O):!1,isPhoto:!P&&!U,isVisible:B,mediaId:O,mediaOverlayCoverInfo:X,onLoggedMediaOverlayInfoImpression:H,onShowPostClicked:function(){return ha(G)},ownerId:R.id,previewData:Q})}else if(U){if(w===!0)b=!0,W=a;else{a.mediaFooter;O=babelHelpers.objectWithoutPropertiesLoose(a,["mediaFooter"]);W=O}D=h.jsx(c("PolarisSidecarMedia.react"),babelHelpers["extends"]({},W,{onChildIndexChange:E,sidecarChildren:S}))}else if(P){var Y=g;X=[q];var Z=h.createRef();z!=null&&z.tracking_token!=null&&X.push(d("PolarisVideoViewedTimeAction").makeVideoViewTimeAction(a.post,Z,t,z.tracking_token));D=h.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:[].concat(X,V),id:G.id,children:function(b){return h.jsxs("div",{ref:b,children:[A===!0?h.jsx(c("PolarisEmbedVideo.react"),{className:a.className,hasSeenZeroNUX:J&&J.video,isVisible:Y,onUpdateZeroNUXPreference:F,post:G}):h.jsx(c("PolarisMediaVideo"),{adInfo:z,analyticsContext:t,asSidecarChild:u,autoplay:v,className:a.className,firstSidecarChildSrc:x,hasSeenZeroNUX:J&&J.video,isVisible:Y,onFinished:ba,onUpdateZeroNUXPreference:F,post:G,ref:Z,relationship:ca,shouldAutoPlay:s(Y,fa),upcomingEventMediaId:y}),da===!0&&I!=null&&h.jsx(c("PolarisIGCoreToast"),{absolutePosition:!0,duration:3e3,onClose:aa,wide:!0,children:I})]})}})}else{H={dimensions:M,likeEventCount:k,onPhotoRendered:p,src:c("nullthrows")(T),srcSet:ga};var $;L&&L.length>0||N?$=h.jsx(d("PolarisPhotoWithIndicator.react").PhotoWithIndicator,babelHelpers["extends"]({},K,H,{analyticsContext:t,isFocused:e,isVisible:B,upcomingEvent:N,upcomingEventMediaId:y,upcomingEventThumbnailSrc:c("nullthrows")(u===!0?x:T),usertags:L,viewer:ea})):G.nftAssetInfo!=null&&c("qex")._("497")?$=h.jsx(c("PolarisNftPhoto.react"),babelHelpers["extends"]({},K,H,{id:y})):$=h.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},K,H,{analyticsContext:t}));R=[].concat(V);G.logExposureAsNftPost===!0&&R.push(r);Q=h.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:R,id:G.id,children:function(a){return h.jsx("div",{ref:a,children:$})}});D=h.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onBlur:o,onDoubleClick:m,onFocus:n,role:"button",children:[Q,h.jsx(c("PolarisLikeAnimation"),{likeEventCount:k},k)]})}C!=null&&!b&&(D=h.jsxs(h.Fragment,{children:[D,C]}));return D}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.id!==b.id}e=c("PolariswithRemountOnChange")(b)(a);g["default"]=e}),98);
__d("PolarisSidecarChild.react",["PolarisIGCoreBox","PolarisLoggedOutSidecarUpsell.react","PolarisMedia.react","PolarisOrganicImpressionAction","PolarisViewpointReact.react","PolarisVpvdImpressionAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.media,e=a.mediaWidth,f=a.sidecarChildIndex,g=a.index,i=a.analyticsContext,j=a.isVisible;a.mediaFooter;var k=a.onMediaRendered,l=a.sidecarChildren,m=a.post;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","mediaWidth","sidecarChildIndex","index","analyticsContext","isVisible","mediaFooter","onMediaRendered","sidecarChildren","post"]);var n=b.isUpsell===!0?h.jsx(c("PolarisLoggedOutSidecarUpsell.react"),{upsellSidecarChild:b}):h.jsx(c("PolarisMedia.react"),babelHelpers["extends"]({},a,{accessibilityCaption:b.accessibilityCaption,analyticsContext:i,asSidecarChild:!0,firstSidecarChildSrc:l[0].src,isVisible:f===g?j:!1,onMediaRendered:k,post:b}));return g===0?h.jsx(c("PolarisIGCoreBox"),{width:e,children:n},b.id):h.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:[d("PolarisOrganicImpressionAction").makeCarouselImpressionAction(b,i),d("PolarisVpvdImpressionAction").makeCarouselVpvdImpressionAction(b,l[0],g,m.id,i)],id:b.id,children:function(a){return h.jsx(c("PolarisIGCoreBox"),{containerRef:a,width:e,children:n})}},b.id)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSidecar.react",["cx","PolarisIGCoreBox","PolarisLogger","PolarisPagerButton.react","PolarisResponsiveBlock.react","PolarisSizing","PolarisStepIndicator.react","PolarisVirtualHSnapScroll.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=400,k=1,l={pagerClick:"click",scroll:"scroll",swipe:null};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1={},c.$3=!1,c.state={mediaWidth:0,sidecarChildIndex:c.props.initialCarouselIndex||0},c.$4=function(a){var b=c.props,d=b.initialCarouselIndex;b=b.numSidecarChildren;c.$2=a;if(d!=null&&d>0&&d<b&&c.$3===!1){(a=c.$2)==null?void 0:a.snapToIndex(d);c.$3=!0}},c.$6=function(a,b){c.setState({mediaWidth:a})},c.$7=function(a){a=a.interactionType;a=l[a];a!=null&&!c.$1[a]&&(d("PolarisLogger").logAction("sidecarEngagement",{source:" hscroll",type:a}),c.$1[a]=!0)},c.$8=function(){var a=c.props,b=a.onChildIndexChange,d=a.numSidecarChildren,e=c.state.sidecarChildIndex,f=(a=(a=c.$2)==null?void 0:a.getCurrentIndex())!=null?a:0;f!==e&&f>=0&&f<d&&c.setState({sidecarChildIndex:f},function(){b&&b(e,f,d)})},c.$10=function(){var a=c.props,b=a.dimensions;a=a.numSidecarChildren;if(a===0)return null;a=b.sort(function(a,b){a=a.width/a.height;b=b.width/b.height;return a-b})[0];if(!a)return null;b=d("PolarisSizing").getHeightPercent(a);a={paddingBottom:b+"%"};return i.jsx("div",{className:"_aami",style:a})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$5=function(a){return Math.min(Math.pow(Math.abs(a),.75)*3,j)};e.$9=function(){var a=this.props,b=a.commentsAreStacked,d=a.hasViewInsights,e=a.isEmbed;a=a.numSidecarChildren;e=!(e===!0||b);return i.jsx(c("PolarisStepIndicator.react"),{className:(e?"_aamj":"")+(!e&&!d?" _aamk":"")+(!e&&!!d?" _aaml":""),numSteps:a,selectedStep:this.state.sidecarChildIndex,style:e?"overlay":"default"})};e.render=function(){var a=this.props.mediaFooter,b=this.state.mediaWidth,e=this.$9();return i.jsxs("div",{className:"_aamm",children:[i.jsxs(c("PolarisResponsiveBlock.react"),{className:"_aamn",onResize:this.$6,children:[this.$10(),b>0&&i.jsx(c("PolarisIGCoreBox"),{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:i.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:this.$5,itemWidth:b,onInteract:this.$7,onVisibilityChange:this.$8,overscan:k,pagerVariant:d("PolarisPagerButton.react").PAGER_BUTTON_VARIANTS.sidecar,scrollRef:this.$4,children:this.props.renderSidecarChildren(this.state.mediaWidth,this.state.sidecarChildIndex)})})]}),a,e]})};return b}(i.PureComponent);b=a;g._Sidecar=a;g.Sidecar=b}),98);
__d("usePolarisSidecarMediaOrUpsell",["PolarisUA","PolarisisUserLoggedIn"],(function(a,b,c,d,e,f,g){"use strict";var h=4,i=2;function a(a){var b=a.sidecarChildren;a=a.post;if(d("PolarisisUserLoggedIn").isUserLoggedIn()||d("PolarisUA").isDesktop()||b.some(function(a){return a.mediaOverlayInfo!=null})||a.dimensions===null||a.owner===null)return b;b=[].concat(b);var c=b.length>=h?i:null;if(c!=null&&b[c-1].mediaPreview!=null){a={dimensions:a.dimensions,id:"",isUpsell:!0,isVideo:!1,mediaPreview:b[c-1].mediaPreview,owner:a.owner,src:""};b.splice(c,0,a)}return b}g["default"]=a}),98);
__d("PolarisSidecarMedia.react",["PolarisSidecar.react","PolarisSidecarChild.react","react","usePolarisSidecarMediaOrUpsell"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.sidecarChildren,e=a.post,f=a.initialCarouselIndex,g=babelHelpers.objectWithoutPropertiesLoose(a,["sidecarChildren","post","initialCarouselIndex"]),i=c("usePolarisSidecarMediaOrUpsell")({sidecarChildren:b,post:e});a=function(a,b){return i.map(function(d,f){return h.jsx(c("PolarisSidecarChild.react"),babelHelpers["extends"]({index:f,media:d,mediaWidth:a,post:e,sidecarChildIndex:b,sidecarChildren:i},g),f)})};b=i.map(function(a){a=a.dimensions;return a}).filter(Boolean);return h.jsx(d("PolarisSidecar.react").Sidecar,{dimensions:b,initialCarouselIndex:f,mediaFooter:g.mediaFooter,numSidecarChildren:i.length,renderSidecarChildren:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaContainer.react",["PolarisMedia.react","PolarisReactRedux","PolarisZeroActions","PolarispostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a,b){return{onMediaRendered:d("PolarispostSelectors").getOnMediaRendered(a,b.onPostMediaRendered),zeroNUXPreference:a.zero.nuxPreference}}function b(a,b){return{onUpdateZeroNUXPreference:function(b){a(d("PolarisZeroActions").updateZeroNUXPreference(b))},onSidecarChildIndexChange:function(a,c,d){var e=b.onPostSidecarChildIndexChange;e&&e(a,c,d)}}}function e(a,b,c){c.onPostMediaRendered;c.onPostSidecarChildIndexChange;c=babelHelpers.objectWithoutPropertiesLoose(c,["onPostMediaRendered","onPostSidecarChildIndexChange"]);return babelHelpers["extends"]({},c,a,b)}f=d("PolarisReactRedux").connect(a,b,e)(c("PolarisMedia.react"));g["default"]=f}),98);
__d("PolarisPoliticalContextButton.react",["PolarisIGCoreBox","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{className:a.className,children:h.jsx(c("PolarisIGCoreBox"),{children:h.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:a.textColor,display:"inline",zeroMargin:!0,children:a.text})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisShareSheetContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({currPostSidecarChildItem:null});c=b;g["default"]=c}),98);
__d("PolarisAudioAttributionText.react",["FastLink","PolarisClipsConstants","PolarisClipsHelpers","PolarisIGCorePressable","PolarisIGCoreText","PolarisLinkBuilder","PolarisMiddleDot.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.audioArtist,e=a.audioID,f=a.audioName,g=a.className,i=a.isMediaOwnerOriginalSound,j=a.isMutedAudio,k=a.isOwnerPrivate,l=a.muteAudioReason,m=a.onDisabledClipsAudioAttributionClick;if(!d("PolarisClipsHelpers").hasAudioAttributionText({audioArtist:b,audioName:f,isMediaOwnerOriginalSound:i}))return null;a=h.jsx(c("PolarisIGCoreText").Body2,{zeroMargin:!0,children:h.jsx("div",{className:g,"data-testid":void 0,children:i===!0?h.jsx("span",{children:f}):h.jsxs("span",{children:[b,h.jsx(c("PolarisMiddleDot.react"),{}),f]})})});var n=i===!0&&k===!0;g=function(){m&&m(n?d("PolarisClipsConstants").AUDIO_PAGE_DOES_NOT_EXIST_PRIVATE_USER:String(l))};return e!=null&&c("gkx")("4914")?n||j?h.jsx(c("PolarisIGCorePressable"),{onPress:g,children:a}):h.jsx(c("FastLink"),{href:d("PolarisLinkBuilder").buildClipsAudioPageLink(e),children:a}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInFeedPostModalContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a(c("emptyFunction"));g.InFeedPostModalContext=b}),98);
__d("PolarisPostCommentInputPicker",["cx","CometPlaceholder.react","JSResourceForInteraction","react","xigRequireInterop"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j;b=i.forwardRef(function(a,b){j||(j=i.lazy(function(){return c("JSResourceForInteraction")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker").load().then(function(a){return c("xigRequireInterop")(a)})}));return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{className:"_aan1"}),name:"PostCommentInputPicker",children:i.jsx(j,babelHelpers["extends"]({},a,{ref:b}))})});function a(){return c("JSResourceForInteraction")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker").load().then(function(a){return c("xigRequireInterop")(a)})}g.PostCommentInputPicker=b;g.waitForCommentInputLoad=a}),98);
__d("PolarisPostFastCommentLikeButton.react",["PolarisCommentActions","PolarisConfig","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisReactRedux","react","usePolarisAnalyticsContext","usePolarisComment","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){var e=d("usePolarisComment").useComment(a,function(a){return a.id}),f=d("usePolarisPost").usePost(b,d("PolarisInteractionsLogger").getMediaTypeFromPost),g=d("usePolarisPost").usePostAndOwner(b,function(a,b){return b.id}),h=c("usePolarisAnalyticsContext")();return{commentAuthorId:e,commentId:a,containerModule:h,mediaAuthorId:g,mediaId:b,mediaType:f,userId:(e=d("PolarisConfig").getViewerId())!=null?e:""}}function a(a){var b=a.color,e=a.commentId;a=a.postId;var f=d("PolarisReactRedux").useDispatch(),g=i(e,a);a=d("usePolarisComment").useComment(e,function(a){return a.likedByViewer});e=function(a){a?f(d("PolarisCommentActions").likeComment(g)):f(d("PolarisCommentActions").unlikeComment(g))};return h.jsx(c("PolarisLikeButton.react"),{color:b,isLiked:a,large:!1,onChange:e})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisPostFastCommentPrimitive.react",["PolarisConfig","PolarisIGCoreBox","PolarisIGCoreText","PolarisIGCoreVerifiedBadge","PolarisTruncatedText.react","PolarisUserLinkWithHoverCard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isAuthorVerified;b=b===void 0?!1:b;var e=a.isCaption;e=e===void 0?!1:e;var f=a.text,g=a.userId;a=a.username;return h.jsxs(c("PolarisIGCoreBox"),{"data-testid":void 0,display:"block",flex:"grow",children:[h.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",triggerAnalyticsContext:"post_commenter",userId:g,username:a}),!d("PolarisConfig").isLoggedIn()&&b&&h.jsx(c("PolarisIGCoreBox"),{display:"inlineBlock",marginStart:1,children:h.jsx(c("PolarisIGCoreVerifiedBadge"),{size:"small"})}),h.jsx(c("PolarisIGCoreText"),{display:"inline",zeroMargin:!0,children:"\xa0"}),!d("PolarisConfig").isLoggedIn()&&e===!1?h.jsx(c("PolarisTruncatedText.react"),{analyticsContext:"postPage","data-testid":void 0,isCaption:e,limit:40,value:f}):h.jsx(c("PolarisTruncatedText.react"),{analyticsContext:"postPage","data-testid":void 0,isCaption:e,value:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastOptionsButton.react",["fbt","PolarisIGCoreBox","PolarisIGCoreMoreHorizontalPanoOutlineIcon","PolarisIGCoreMoreVerticalPanoOutline24Icon","PolarisIGCoreSVGIconButton","PolarisLogger","PolarisPostModalContext.react","react","usePolarisAnalyticsContext","usePolarisPost"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("More options");function k(a){var b=a.color;a=a.orientation;a=a==="horizontal"?c("PolarisIGCoreMoreHorizontalPanoOutlineIcon"):c("PolarisIGCoreMoreVerticalPanoOutline24Icon");return i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",height:24,justifyContent:"center",width:24,children:i.jsx(a,{alt:j,color:b})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.postId,e=a.orientation;e=e===void 0?"horizontal":e;a=a.padding;var f=d("PolarisPostModalContext.react").useSetPostModal(),g=c("usePolarisAnalyticsContext")(),h=d("usePolarisPost").usePost(b,function(a){return!!a.isVideo}),j=function(){d("PolarisLogger").logAction("postOptionsClick",{mediaId:b,source:g,type:h?"video":"photo"}),f("options")};return i.jsx(c("PolarisIGCoreSVGIconButton"),{"data-testid":void 0,hover:i.jsx(k,{color:"ig-secondary-text",orientation:e}),onClick:j,padding:a,children:i.jsx(k,{color:"ig-primary-text",orientation:e})})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisPostFastPreviewCaption.react",["NavHooks","PolarisIGCoreBox","PolarisPostFastCommentPrimitive.react","PolarisUA","PolariscommentSelectors","nullthrows","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.inModal;a=a.postId;var e=d("NavHooks").useIsOnFeedPage();e=e&&b!==!0&&d("PolarisUA").isDesktop();b=d("usePolarisPost").usePostAndOwner(a,function(a,b){return c("nullthrows")(b.id)});var f=d("usePolarisPost").usePostAndOwner(a,function(a,b){return c("nullthrows")(b.username)}),g=d("usePolarisPost").usePostAndOwner(a,function(a,b){return b.isVerified}),i=d("usePolarisPost").usePost(a,function(a){return a.caption});a=d("usePolarisPost").usePost(a,function(a){return a.captionCommentId});a=d("PolariscommentSelectors").useCommentTranslation(a);if(i==null||i==="")return null;(a==null?void 0:a.showTranslatedText)===!0&&a.translatedText!=null&&(i=a.translatedText);return h.jsx(c("PolarisIGCoreBox"),{marginBottom:e?2:1,children:h.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:g,isCaption:!0,text:i,userId:b,username:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastPreviewComment.react",["PolarisPostFastCommentPrimitive.react","nullthrows","react","usePolarisComment"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.commentId;var b=d("usePolarisComment").useCommentAndOwner(a,function(a,b){return c("nullthrows")(b.id)}),e=d("usePolarisComment").useCommentAndOwner(a,function(a,b){return c("nullthrows")(b.username)}),f=d("usePolarisComment").useComment(a,function(a){return a.text});a=d("usePolarisComment").useComment(a,function(a){return a.isAuthorVerified});return h.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:a,text:f,userId:b,username:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastViewAllComments.react",["fbt","FastLink","PolarisBigNumber.react","PolarisConfig","PolarisFeedActionOpenPostModalForId","PolarisIGCoreText","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux","PolarisUA","PolarispostModalHelpers","nullthrows","react","usePolarisAnalyticsContext","usePolarisPost"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext;function a(a){var b=a.onLoggedOutIntentClickLoginModal,e=a.postId;a=d("usePolarisPost").usePost(e,function(a){return a.numComments||0});var f=d("usePolarisPost").usePost(e,function(a){return c("nullthrows")((a=a.owner)==null?void 0:a.id)}),g=d("usePolarisPost").usePost(e,d("PolarisInteractionsLogger").getMediaTypeFromPost),l=d("usePolarisPost").usePost(e,function(a){return d("PolarisLinkBuilder").buildMediaCommentsLink(c("nullthrows")(a.code),d("PolarisUA").isMobile())}),m=d("PolarisReactRedux").useDispatch(),n=c("usePolarisAnalyticsContext")(),o=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext),p=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile(),q=p||d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isDesktop(),r=j(function(a,c){d("PolarisConfig").isLoggedIn()?(d("PolarisInteractionsLogger").logInteractionAction({containerModule:n,eventName:"instagram_organic_comment_view_all",mediaAuthorId:f,mediaId:e,mediaType:g}),d("PolarisUA").isDesktop()&&(a.preventDefault(),m(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(e)),d("PolarispostModalHelpers").logPostModalOpen(n,g,"feed_view_all_comments"),o(e))):p&&(a.preventDefault(),d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"post_comment_view_all_click",module:n||""}),b(c,"post_comment_view_all",e))},[n,m,b,f,e,g,p,o]);return i.jsx(c("FastLink"),{"data-testid":void 0,href:l,onClick:function(a){return r(a,l)},shouldOpenModal:q,children:i.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",zeroMargin:!0,children:a===1?h._("View 1 comment"):h._("View all {count} comments",[h._param("count",i.jsx(c("PolarisBigNumber.react"),{value:a}))])})})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return{onLoggedOutIntentClickLoginModal:function(b,c,e){var f=d("PolarisUA").isDesktop()||d("PolarisConfig").isNetzDGEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(f,b,c,null,!0,e))}}}e=d("PolarisReactRedux").connect(null,b)(a);g["default"]=e}),98);
__d("PolarisPostFastPreviewCommentsList.react",["NavHooks","PolarisConfig","PolarisIGCoreBox","PolarisPanavisionQEHelpers","PolarisPostFastCommentLikeButton.react","PolarisPostFastPreviewComment.react","PolarisPostFastViewAllComments.react","PolarisReactRedux","PolarisUA","PolariscommentSelectors","qex","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.postId;a=a.previewCommentIds;var e=d("NavHooks").useIsOnFeedPage();e=e&&d("PolarisUA").isDesktop();var f=e&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();if(d("PolarisConfig").isNetzDGEligible())return null;return a.length>0?h.jsx(c("PolarisIGCoreBox"),{marginBottom:e?1:0,children:a.map(function(a){return h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",marginBottom:1,children:[h.jsx(c("PolarisPostFastPreviewComment.react"),{commentId:a}),d("PolarisConfig").isLoggedIn()&&h.jsx(c("PolarisPostFastCommentLikeButton.react"),{color:f?"ig-secondary-icon":void 0,commentId:a,postId:b})]},a)})}):null}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.inModal,e=a.postId;a=d("NavHooks").useIsOnFeedPage();a=a&&b!==!0&&d("PolarisUA").isDesktop();b=d("usePolarisPost").usePost(e,function(a){return!a.commentsDisabled});var f=d("PolarisReactRedux").useSelector(function(a){return d("PolariscommentSelectors").getPreviewCommentsForPostId(a,e)}),g=i(function(){return f.map(function(a){return a.id})},[f]),k=d("usePolarisPost").usePost(e,function(a){return(a=a.numComments)!=null?a:0}),l=k>g.length;if(!b||k<=0)return null;b=!d("PolarisConfig").isLoggedIn()&&g.length>0&&c("qex")._("345")!==!0;return h.jsxs(h.Fragment,{children:[l&&h.jsx(c("PolarisIGCoreBox"),{marginBottom:a?2:1,children:h.jsx(c("PolarisPostFastViewAllComments.react"),{postId:e})}),h.jsx(j,{postId:e,previewCommentIds:b?g.slice(-1):g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostOptionsButtonPicker.react",["PolarisPostFastOptionsButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{className:a.buttonClassName,children:h.jsx(c("PolarisPostFastOptionsButton.react"),{postId:a.id})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostPreviewCommentsPicker.react",["CometPlaceholder.react","JSResourceForInteraction","PolarisIGCoreBox","PolarisIGCoreSpinner","PolarisPostFastPreviewCaption.react","PolarisPostFastPreviewCommentsList.react","PolarisPostVariants","PolarisUA","react","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i;function a(a){var e=a.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile();if(e){i||(i=h.lazy(function(){return c("JSResourceForInteraction")("PolarisPostComments.react").__setRef("PolarisPostPreviewCommentsPicker.react").load().then(function(a){return c("xigRequireInterop")(a)})}));return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{className:a.className,children:h.jsx(c("PolarisIGCoreSpinner"),{position:"absolute"})}),children:h.jsx(i,babelHelpers["extends"]({},a))})}e=c("xigRequireInterop")(b("PolarisPostFastPreviewCommentsList.react"))["default"];var f=c("xigRequireInterop")(b("PolarisPostFastPreviewCaption.react"))["default"];return h.jsx("div",{className:a.className,children:h.jsxs(c("PolarisIGCoreBox"),{children:[h.jsx(f,{inModal:a.inModal,postId:a.id}),h.jsx(e,{inModal:a.inModal,postId:a.id})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikedByListButton.react",["FastLink","PolarisIGCoreText","PolarisUA","PolarisuserSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.code,f=a.inModal;a=a.onClick;var g=c("usePolarisSelector")(d("PolarisuserSelectors").getViewer);return h.jsx(c("FastLink"),{href:"/p/"+e+"/liked_by/",onClick:a,shouldOpenModal:!g&&f!==!0||d("PolarisUA").isDesktop(),children:h.jsx(c("PolarisIGCoreText"),{display:"truncated",weight:"semibold",zeroMargin:!0,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikedByText.react",["fbt","FastLink","PolarisBigNumber.react","PolarisIGCoreButton","PolarisIGCoreText","PolarisLikedByListButton.react","PolarisLinkBuilder","PolarisLogger","PolarisPostUtils","PolarisUserLink.react","PolarisUserLinkWithHoverCard.react","PolarisuserSelectors","nullthrows","react","useCurrentRoute","usePolarisSelector"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a.user;return i.jsx(c("PolarisUserLinkWithHoverCard.react"),{triggerAnalyticsContext:"post_liker",userId:a.id,username:c("nullthrows")(a.username)})}j.displayName=j.name+" [from "+f.id+"]";var k=function(){d("PolarisLogger").logAction("likeCountClick")};function a(a){var b=a.hideCounts,e=a.totalCount,f=a.users,g=a.inModal,l=a.code,m=a.onClick,n=a.topLikers;a=a.onLike;var o=c("usePolarisSelector")(d("PolarisuserSelectors").getViewer),p=c("useCurrentRoute")();p=p==null?void 0:p.url;var q=d("PolarisPostUtils").getOrderedUsersForLikedByList(f,o),r;e===1?r=h._("{count} like",[h._param("count",e)]):b?r=h._("other likes"):r=h._("{count} likes",[h._param("count",i.jsx(c("PolarisBigNumber.react"),{value:e}))]);f=e!==0&&f.length===0&&!b;if(f)return i.jsx(c("PolarisLikedByListButton.react"),{code:l,inModal:g,onClick:m,children:r});else if(e===0){if(o)return h._("Be the first to {like this}",[h._param("like this",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",onClick:a,children:h._("like this")}))]);f=i.jsx(c("FastLink"),{href:d("PolarisLinkBuilder").buildLoginLink(p,{source:"post_likers"}),children:h._("Log in")});return h._("{Log in} to like this",[h._param("Log in",f)])}else if(e===1&&b){if(n!=null&&n.length===1){o=n[0];a=i.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:o,children:i.jsx(c("PolarisIGCoreText"),{weight:"semibold",children:o})});return h._("Liked by {username}",[h._param("username",a)])}else if(q.length===1)return h._("Liked by {username}",[h._param("username",i.jsx(j,{user:q[0]}))])}else if((q.length>=1||b&&n!=null&&n.length>=1)&&(e>=2||e===-1)){if(b)if(q.length===2&&e===2)p=i.jsx(j,{user:q[0]}),f=i.jsx(j,{user:q[1]});else{o=h._("others");f=i.jsx(c("PolarisLikedByListButton.react"),{code:l,inModal:g,onClick:m,children:o});if(n!=null&&n.length>=1){a=n[0];p=i.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:a,children:i.jsx(c("PolarisIGCoreText"),{weight:"semibold",children:a})})}else p=i.jsx(j,{user:q[0]})}else o=e>2?h._("{count} others",[h._param("count",i.jsx(c("PolarisBigNumber.react"),{value:e-1}))]):h._("1 other"),f=i.jsx(c("PolarisLikedByListButton.react"),{code:l,inModal:g,onClick:m,children:o}),p=i.jsx(j,{user:q[0]});return h._("Liked by {username} and {other users}",[h._param("username",p),h._param("other users",f)])}return b?null:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",onClick:k,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisHotKeys.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;b={keyMap:{}};var j=h.createContext(b);function a(a){var b=a.children,c=a.className,d=a.isButton;d=d===void 0?!1:d;var e=a.keyMap;a=i(j).keyMap;var f=function(a){return!(a.ctrlKey||a.altKey||a.metaKey)},g=function(){var a;return((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="textarea"&&((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="input"};a=function(a){if(e[a.key]!=null&&g()&&f(a)){var b=e[a.key];b();a.stopPropagation()}};var k=d?"button":"presentation";d=d?"0":"-1";return h.jsx(j.Provider,{value:{keyMap:e},children:typeof b==="function"?b(a,k,d):h.jsx("div",{className:c,onKeyUp:a,role:k,tabIndex:d,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFeedbackControls.react",["cx","IGRouter","PolarisCommentButton.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisLinkBuilder","PolarisLogger","PolarisNavigationActions","PolarisPostVariants","PolarisReactRedux","PolarisSaveButton.react","PolarisUA","PolarispostModalHelpers","cr:676","gkx","joinClasses","react","usePolarisMQTT"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext;function a(a){var e=a.analyticsContext,f=a.canViewerProvideFeedback,g=a.canViewerReshare,h=a.className,l=a.code,m=a.commentsDisabled,n=a.containerRef,o=a.customAlignment,p=a.hideShareButton,q=a.history,r=a.isBlocked,s=a.isLoggedIn,t=a.isSidecar,u=a.isVideo,v=a.likedByViewer,w=a.onCommentClick,x=a.onLikeChange,y=a.onSaveChange,z=a.ownerIsPrivate,A=a.ownerUsername,B=a.postId,C=a.savedByViewer,D=a.variant,E=a.mediaId;a=a.sharingFrictionInfo;var F=d("PolarisReactRedux").useDispatch(),G=c("usePolarisMQTT")(),H=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext),I=j(function(a){var b;switch(a){case"comment":b="post_feedback_comment";break;case"direct":b="post_feedback_direct";break;case"like":b="post_feedback_like";break;case"save":default:b="post_feedback_save";break}d("PolarisUA").isDesktop()?F(d("PolarisNavigationActions").openLoginModal("feature_wall",d("PolarisLinkBuilder").buildMediaLink(l),b)):F(d("PolarisNavigationActions").openLoggedOutIntentDialog(b,A))},[l,F,A]),J=j(function(a){s?x(a,"button"):I("like")},[s,x,I]),K=j(function(a){s?y(a):I("save")},[s,y,I]),L=j(function(){var a=d("PolarisUA").isMobile();c("gkx")("2641")||d("PolarisLogger").logAction("commentButtonClicked",{source:e,type:u?"video":"photo",isLoggedIn:s});s?d("PolarisUA").isDesktop()&&D===d("PolarisPostVariants").VARIANTS.feed?(F(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(B)),H(B),d("PolarispostModalHelpers").logPostModalOpen(e,d("PolarisInteractionsLogger").getMediaTypeFromPost({isVideo:u,isSidecar:t}),"feed_comment")):D===d("PolarisPostVariants").VARIANTS.feed||a?q.push(d("PolarisLinkBuilder").buildMediaCommentsLink(l,a)):w():I("comment")},[e,l,F,q,s,t,u,I,w,B,D,H]);f=!s||f;if(r||!f)return null;r=z!==!0&&Boolean(g);f=G!=null;return i.jsxs("section",{className:c("joinClasses")("_aamu"+(o==="left"?" _aamv":""),h),ref:n,children:[i.jsx(c("PolarisLikeButton.react"),{className:"_aamw","data-testid":void 0,isLiked:v,onChange:J}),!m&&i.jsx(c("PolarisCommentButton.react"),{className:"_aamx","data-testid":void 0,onClick:L}),(r||f)&&p!==!0&&i.jsx("span",{className:"_aamy",children:i.jsx(b("cr:676"),{analyticsContext:e,"data-testid":void 0,mediaId:E,postId:B,sharingFrictionInfo:a})}),i.jsx("span",{className:"_aamz",children:i.jsx(c("PolarisSaveButton.react"),{analyticsContext:e,"data-testid":void 0,isSaved:C,onChange:K,postId:B})})]})}a.displayName=a.name+" [from "+f.id+"]";h=d("IGRouter").withIGRouter(a);g["default"]=h}),98);
__d("XPolarisBoostControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/b/{media_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("PolarisPostBoostButton.react",["cx","PolarisBoostOnWebTapEntryPointFalcoEvent","PolarisBoostUtils","PolarisIGCoreButton","PolarisIGCoreText","PolarisIGCoreTooltip","PolarisNavigationUtils","XPolarisBoostControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k="28px";function a(a){var b=a.boostUnavailableReason,e=a.boostedStatus,f=a.mediaId,g=a.viewerId;a=j(!1);var h=a[0],l=a[1],m=d("PolarisBoostUtils").useIsEligibleForBoostAd({useCaseIsEligibleForBoostAd:e!=null&&g!=null});a=function(){c("PolarisBoostOnWebTapEntryPointFalcoEvent").log(function(){return{entry_point:"media_post_button",m_pk:f}});if(e===d("PolarisBoostUtils").BoostedStatusEnum.UNAVAILABLE)l(!h);else{var a=d("PolarisBoostUtils").getIsEligibleForIGBoostOnMSite();if(a){a=c("XPolarisBoostControllerRouteBuilder").buildURL({media_id:f});d("PolarisNavigationUtils").openURL(a)}else{a=d("PolarisBoostUtils").getBizWebAdsURL(g,f,m);d("PolarisNavigationUtils").openExternalURL(a)}}};return i.jsxs(c("PolarisIGCoreButton"),{color:d("PolarisBoostUtils").getIsBoostButtonDisabledFromBoostedStatus(e)?"ig-secondary-button":"ig-primary-button",disabled:d("PolarisBoostUtils").getIsBoostButtonDisabledFromBoostedStatus(e),onClick:a,children:[d("PolarisBoostUtils").getBoostButtonCTAFromBoostedStatus(e),i.jsx("div",{className:"_aawo",children:e===d("PolarisBoostUtils").BoostedStatusEnum.UNAVAILABLE&&b!==null&&i.jsx(c("PolarisIGCoreTooltip"),{arrowHorizontalOffset:k,arrowHorizontalPosition:"right",arrowPosition:"top",color:"black",isVisible:h,opacity:.95,children:i.jsx("div",{className:"_aawp",children:i.jsx(c("PolarisIGCoreText"),{color:"web-always-white",display:"preserve-wrap",weight:"normal",zeroMargin:!0,children:b})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostViewInsights.react",["fbt","CometPlaceholder.react","JSResourceForInteraction","PolarisIGCoreButton","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostViewInsights.react"));function a(a){var b=a.bloksAppId,d=a.mediaId;a=k(0);var e=a[0],f=a[1];a=j(function(){return{media_id:d}},[d]);var g=function(){f(0)};return i.jsxs("section",{children:[i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){f(e+1)},children:h._("View insights")}),e>0?i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(l,{appId:b,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:g},loadingFallback:i.jsx("div",{}),params:a},e)}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFooter.react",["PolarisBoostUtils","PolarisIGCoreBox","PolarisPostBoostButton.react","PolarisPostViewInsights.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.bloksAppId,e=a.boostUnavailableReason,f=a.boostedStatus,g=a.className,i=a.hasViewInsights,j=a.mediaId;a=a.viewerId;var k=d("PolarisBoostUtils").useIsEligibleForBoostAd({useCaseIsEligibleForBoostAd:f!=null&&a!=null})!==d("PolarisBoostUtils").BoostEligibilityEnum.INELIGIBLE;return!i&&!k?null:h.jsx("section",{className:g,children:h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:i?"between":"end",paddingX:4,paddingY:3,children:[i&&h.jsx(c("PolarisPostViewInsights.react"),{bloksAppId:b,mediaId:j}),k&&h.jsx(c("PolarisPostBoostButton.react"),{boostedStatus:c("nullthrows")(f),boostUnavailableReason:e,mediaId:j,viewerId:c("nullthrows")(a)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostLikers.react",["IGRouter","PolarisConfig","PolarisFacepile.react","PolarisHasLikedByListNativeMigration","PolarisIGCoreBox","PolarisIGCoreText","PolarisLikedByListActions","PolarisLikedByListButton.react","PolarisLikedByText.react","PolarisLinkBuilder","PolarisLogger","PolarisNavigationActions","PolarisPostUtils","PolarisReactRedux","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=function(){d("PolarisLogger").logAction("likeCountClick")};c.$2=function(){c.props.onLike()};c.$3=function(a){c.$1(),!c.props.viewer&&c.props.inModal!==!0?(a.preventDefault(),c.props.onGoToLoginModal(c.props.code)):d("PolarisUA").isDesktop()&&(a.preventDefault(),c.props.onViewLikedByList({code:c.props.code,mediaId:c.props.mediaId}),c.props.onLikeCountClick(a))};return c}var e=b.prototype;e.render=function(){var a=d("PolarisPostUtils").getOrderedUsersForLikedByList(this.props.users,this.props.viewer).map(function(a){return a.id}),b=h.jsx(c("PolarisFacepile.react"),{avatarSize:this.props.avatarSize,userIds:a}),e=!!this.props.viewer;return h.jsxs(c("PolarisIGCoreBox"),{direction:"row",flex:"grow",children:[a.length>0&&e===!0&&h.jsx(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",justifyContent:"start",marginEnd:1,children:h.jsx(c("PolarisLikedByListButton.react"),{code:this.props.code,inModal:this.props.inModal,onClick:this.$3,children:b})}),h.jsx(c("PolarisIGCoreBox"),{direction:"column",flex:"grow",margin:"auto",wrap:!0,children:h.jsx(c("PolarisIGCoreText"),{zeroMargin:!0,children:h.jsx(c("PolarisLikedByText.react"),{code:this.props.code,hideCounts:this.props.hideCounts,inModal:!!this.props.inModal,onClick:this.$3,onLike:this.$2,topLikers:this.props.topLikers,totalCount:this.props.totalCount,users:this.props.users})})})]})};return b}(h.Component);function a(a){return{onGoToLoginModal:function(b){b=d("PolarisLinkBuilder").buildMediaLink(b);a(d("PolarisNavigationActions").openLoginModal("content_wall",b,null,null,!0,b));return},onViewLikedByList:function(b){var e=b.code;b=b.mediaId;return c("PolarisHasLikedByListNativeMigration")()?a(d("PolarisLikedByListActions").requestNativeLikedByList(b)):a(d("PolarisLikedByListActions").requestLikedByList(e))},onLoggedOutIntentClickLoginModal:function(b,c){var e=d("PolarisUA").isDesktop()||d("PolarisConfig").isNetzDGEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(e,b,c,null,!0,b))}}}e=d("IGRouter").withIGRouter(d("PolarisReactRedux").connect(null,a)(b));g["default"]=e}),98);
__d("PolarisPostViews.react",["cx","fbt","PolarisBigNumber.react","PolarisIGCoreText","PolarisLogger","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState;function l(a){return a===1?i._("{count} view",[i._param("count",a)]):i._("{count} views",[i._param("count",j.jsx(c("PolarisBigNumber.react"),{value:a}))])}l.displayName=l.name+" [from "+f.id+"]";function m(a){return a===1?i._("{count} like",[i._param("count",a)]):i._("{count} likes",[i._param("count",j.jsx(c("PolarisBigNumber.react"),{value:a}))])}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.likeCount;a=a.onClose;return j.jsxs("div",{children:[j.jsx("div",{className:"_aaur",onClick:a,role:"button",tabIndex:"0"}),j.jsx("div",{className:"_aaus"}),j.jsx("div",{className:"_aaut"}),j.jsx("div",{className:"_aauu",children:m(b)})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.analyticsContext,e=a.likeCount;a=a.viewCount;var f=k(!1),g=f[0],h=f[1];f=function(a){g||d("PolarisLogger").logAction("viewCountClick",{source:b}),h(!g)};return j.jsxs("div",{className:"_aauv",children:[j.jsx("span",{className:"_aauw",onClick:f,role:"button",tabIndex:"0",children:j.jsx(c("PolarisIGCoreText").BodyEmphasized,{zeroMargin:!0,children:l(a)})}),g&&j.jsx(n,{likeCount:e,onClose:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostSocialProof.react",["NavHooks","PolarisPanavisionQEHelpers","PolarisPostLikers.react","PolarisPostVariants","PolarisPostViews.react","PolarisQEHelper","PolarisUA","PolarisgetPostFromGraphMediaInterface","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.analyticsContext,e=a.canLike,f=a.className,g=a.code,i=a.containerRef,j=a.inModal,k=a.likeAndViewCountsDisabled,l=a.likedByViewer,m=a.likers,n=a.mediaId,o=a.numPreviewLikes,p=a.onLikeChange,q=a.onLikeCountClick,r=a.productType,s=a.topLikers,t=a.variant,u=a.videoViews,v=a.viewer;a=a.viewerIsOwner;var w=u!=null&&u>0,x=o!==0,y=d("NavHooks").useIsOnFeedPage();t===d("PolarisPostVariants").VARIANTS.feed?t=x||w:t=x||w||e;x=d("PolarisQEHelper").shouldHideLikeCountsWithControls(v==null?void 0:v.hideLikeAndViewCounts,k,a);e=w&&!x&&!d("PolarisgetPostFromGraphMediaInterface").isClipsProductType(r);if(!t)return null;k=y&&j!==!0&&d("PolarisUA").isDesktop()&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();return h.jsx("section",{className:f,ref:i,children:e?h.jsx(c("PolarisPostViews.react"),{analyticsContext:b,likeCount:o,viewCount:c("nullthrows")(u)}):h.jsx(c("PolarisPostLikers.react"),{avatarSize:k?"micro":void 0,code:g,hideCounts:x,inModal:!!j,likedByViewer:l,mediaId:n,onLike:function(){p(!0,"beTheFirstPrompt")},onLikeCountClick:q,topLikers:s,totalCount:o,users:m,viewer:v})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostTimestamp.react",["cx","FastLink","PolarisIGCoreText","PolarisLinkBuilder","PolarisTimestamp.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("PolarisIGCoreText"),{dangerouslySetClassName:{__className:c("joinClasses")((a.lettercase!=="capitalize"?"_aaqb":"")+(a.lettercase==="capitalize"?" _aaqc":""))},display:"block",zeroMargin:!0,children:i.jsx(c("FastLink"),{"data-testid":void 0,href:d("PolarisLinkBuilder").buildMediaLink(a.code),children:i.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:a.lettercase==="capitalize"?"footnote":"miniscule",children:i.jsx(c("PolarisTimestamp.react"),{className:"_aaqe",isLong:!0,value:a.postedAt})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostDetailsSection.react",["cx","NavHooks","PolarisAsyncCommentLikedByListContainer","PolarisAsyncLikedByListContainer","PolarisConfig","PolarisFeedPageConstants","PolarisGenericStrings","PolarisHotKeys.react","PolarisIGCoreBox","PolarisIGCoreText","PolarisInteractionsLogger","PolarisLikedByListVariant","PolarisPanavisionQEHelpers","PolarisPendingCommentState","PolarisPoliticalContextButton.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostCommentInputPicker","PolarisPostConstants","PolarisPostFeatures","PolarisPostFeedbackControls.react","PolarisPostFooter.react","PolarisPostModalRenderingContext","PolarisPostPreviewCommentsPicker.react","PolarisPostSocialProof.react","PolarisPostTimestamp.react","PolarisPostVariants","PolarisReactRedux","PolarisUA","PolarisadsSelectors","PolarisgetPostFromGraphMediaInterface","nullthrows","react","usePolarisDisplayProperties","usePolarisIGCorePreviousValue"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.analyticsContext,e=a.bloksAppId,f=a.currSidecarItem,g=a.initialCommentsQuery,h=a.hasDenserFeedRedesign,m=a.hasSidebarInRedesign,n=a.hasViewInsights,o=a.owner,p=a.post,q=a.postAuthorId,r=a.postAuthorUsername,s=a.postFeedbackControlsRef,t=a.postHeader,u=a.redesignWithoutSidebar,v=a.redesignWithSidebar,w=a.variant,x=a.viewer,y=a.handleLikeChange,z=a.handleSaveChange,A=a.permalinkedCommentId,B=a.permalinkedReplyId,C=a.showDetailsAsSidebar;a=l(null);var D=a[0],E=a[1];a=l(!1);var F=a[0],G=a[1];a=l(!1);var H=a[0],I=a[1];a=c("usePolarisDisplayProperties")();var aa=a.viewportWidth,J=k(null),K=function(){return p.commentsDisabled!==!0&&p.commentingDisabledForViewer!==!0&&(H||aa>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF)};a=d("PolarisReactRedux").useSelector(function(a){return a.pendingComments.get(p.id,d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT)});var L=a.committing,M=c("usePolarisIGCorePreviousValue")(L);a=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext();var N=a.isInModal,O=function(){I(!0),J.current&&J.current.focusAndScroll()},ba=function(){G(!1)},ca=function(a){G(!0)},P=function(){E(null)},da=function(a){E(a)};a=x?{c:function(){p.commentsDisabled!==!0&&O()}}:{};var Q=c("usePolarisIGCorePreviousValue")(p);j(function(){Q!=null&&p!=null&&Q!==p&&(E(null),G(!1))},[p,Q]);j(function(){M===!0&&L===!1&&I(!1)},[L,M]);var R=d("PolarisPostFeatures").usePolarisPostFeatures({post:p,owner:o,variant:w}),S=R.canViewerProvideFeedback,T=R.commentsAreStacked,U=R.isBlocked,V=R.isLoggedIn,W=R.isSidecar,ea=R.showPostButton,X=R.hasThreadedSidebarComments,fa=R.isStackedScreenSize,Y=d("PolarisadsSelectors").useFeedAdInfo(p==null?void 0:p.id,function(a){return a}),Z=Y==null?void 0:(R=Y.political_context)==null?void 0:R.byline_text;R=d("NavHooks").useIsOnFeedPage();R=R&&N!==!0&&d("PolarisUA").isDesktop();var $=R&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();R=i.jsx(c("PolarisIGCoreBox"),{flex:v?"grow":"none",children:i.jsx(c("PolarisHotKeys.react"),{keyMap:a,children:function(a,j,k){return i.jsxs("div",{className:(!N===!0?"_ae1h":"")+(w===d("PolarisPostVariants").VARIANTS.feed?" _ae1i":"")+(C&&!N===!0?" _ae1j":"")+(N?" _ae1k":"")+(!N===!0&&h?" _ae1l":"")+(u?" _ae1m":"")+(N===!0?" _ae2q":"")+(v?" _ae2r":""),onKeyUp:a,role:j,tabIndex:k,children:[(N===!0?m:!T)?t:null,i.jsxs("div",{className:"_ae2s"+(C?" _ae3v":"")+(X?" _ae3w":"")+(n?" _ae3x":"")+($?" _aggd":""),children:[i.jsx(c("PolarisPostFooter.react"),{bloksAppId:e,boostedStatus:p.boostedStatus,boostUnavailableReason:p.boostUnavailableReason,className:"_ae3y"+(m?"":" _ae3z")+(T&&W?" _ae3-":""),hasViewInsights:n,mediaId:p.id,viewerId:x==null?void 0:x.id}),i.jsx(c("PolarisPostFeedbackControls.react"),{analyticsContext:b,canViewerProvideFeedback:S,canViewerReshare:p.viewerCanReshare,className:"_ae3_"+(h?" _ae40":"")+(h&&X?" _ae41":"")+(C?" _ae47":"")+(X?" _ae48":"")+($?" _agge":""),code:c("nullthrows")(p.code),commentsDisabled:!!p.commentsDisabled,containerRef:s,isBlocked:U,isIGTVPost:d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(p),isLoggedIn:V,isSidecar:W,isVideo:!!p.isVideo,likedByViewer:!!p.likedByViewer,mediaId:f!=null?f.id:p.id,onCommentClick:O,onLikeChange:y,onSaveChange:z,ownerIsPrivate:o.isPrivate,ownerUsername:o.username,postId:p.id,savedByViewer:!!p.savedByViewer,shareIds:p.shareIds,sharingFrictionInfo:f!=null?f.sharingFrictionInfo:p.sharingFrictionInfo,variant:w}),Z!=null&&i.jsx(c("PolarisPoliticalContextButton.react"),{className:"_ae52"+(X?" _ae5k":"")+(h&&X?" _ae5l":""),text:Z}),p.code!=null&&i.jsx(c("PolarisPostSocialProof.react"),{analyticsContext:b,canLike:!U&&S,className:"_ae5m"+(C?" _ae5n":"")+(X?" _ae5o":"")+(h&&X?" _ae5p":"")+($?" _agge":""),code:c("nullthrows")(p.code),inModal:N,likeAndViewCountsDisabled:p.likeAndViewCountsDisabled,likedByViewer:!!p.likedByViewer,likers:p.likers||[],mediaId:p.id,numPreviewLikes:p.numPreviewLikes||0,onLikeChange:y,onLikeCountClick:ca,productType:p.productType,topLikers:p.topLikers,variant:w,videoViews:p.videoViews,viewer:x,viewerIsOwner:q===(x==null?void 0:x.id)}),i.jsx(c("PolarisPostPreviewCommentsPicker.react"),{analyticsContext:b,caption:p.caption,captionCreatedAt:p.captionCreatedAt,captionIsEdited:p.captionIsEdited,className:"_ae5q"+(C?" _ae5r":"")+(X?" _ae5s":"")+(h&&X?" _ae5t":"")+($?" _agge":""),code:p.code,commentingDisabledForViewer:(a=p.commentingDisabledForViewer)!=null?a:!1,commentsAreStacked:T,commentsDisabled:p.commentsDisabled,hasRankedComments:p.hasRankedComments||d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(p),id:p.id,initialCommentsQuery:g,inModal:N,mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(p),onLikeCountClick:da,onLikeModalClose:P,ownerId:q,permalinkedCommentId:A,permalinkedReplyId:B,postedAt:c("nullthrows")(p.postedAt),postId:p.id,showCommentOptionsInline:!0,showIGTVCaption:d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(p),title:p.title,variant:w}),!$&&i.jsx("div",{className:"_ae5u"+(C?" _ae5v":"")+(X?" _ae5w":"")+(h&&X?" _ae5x":""),children:p.isSponsored?null:i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",children:[i.jsx(c("PolarisPostTimestamp.react"),{code:c("nullthrows")(p.code),postedAt:c("nullthrows")(p.postedAt)}),b===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT&&i.jsx(c("PolarisIGCoreBox"),{marginStart:2,children:i.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,postId:p.id})})]})}),(d("PolarisConfig").isIOS()||K())&&i.jsx(d("PolarisPostCommentInputPicker").PostCommentInputPicker,{adInfo:Y,analyticsContext:b,canViewerProvideFeedback:S,className:"_ae5y"+(C?" _ae5z":"")+(h?" _ae5_":"")+(h&&X?" _ae60":"")+(K()?"":" _ae61")+(fa?"":" _ae62"),hasPostButton:ea,id:p.id,inModal:N,isLoggedIn:V,isRevampVersion:!1,isVideo:p.isVideo,ownerId:o.id,ref:J},p.id),!K()&&d("PolarisUA").isDesktop()&&p.commentsDisabled!==!0&&p.commentingDisabledForViewer===!0&&i.jsx("div",{className:"_ae63"+(h?" _ae64":"")+($?" _agnb":""),children:i.jsx(c("PolarisIGCoreText"),{color:"ig-tertiary-text",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})})]}),F&&i.jsx(c("PolarisAsyncLikedByListContainer"),{display:c("PolarisLikedByListVariant").Modal,isOwnerTheViewer:(x==null?void 0:x.id)===q,likeAndViewCountsDisabled:p.likeAndViewCountsDisabled,likeCount:p.numLikes||0,mediaId:p.id,onClose:ba,ownerUsername:r,productType:(j=p.productType)!=null?j:"",shortcode:c("nullthrows")(p.code),viewCount:p.videoViews}),D!=null&&D!==""&&i.jsx(c("PolarisAsyncCommentLikedByListContainer"),{commentId:D,display:c("PolarisLikedByListVariant").Modal,inSidebar:!T,onClose:P})]})}})});return v?i.jsx("div",{className:"_ae65",children:R}):R}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostHeader.react",["cx","fbt","NavHooks","PolarisAudioAttributionText.react","PolarisAvatarWithStoriesContainer.react","PolarisClipsHelpers","PolarisEligibleForCommissionUnit.react","PolarisFeedPageConstants","PolarisFollowButtonContainer.react","PolarisGroupProfileAvatar.react","PolarisGroupProfileUtils","PolarisHashtagLink.react","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisIGCoreVerifiedBadge","PolarisLinkBuilder","PolarisLocationLink.react","PolarisMiddleDot.react","PolarisPanavisionQEHelpers","PolarisQueryParams","PolarisSponsoredLabel.react","PolarisSponsorsUnit.react","PolarisTagAvatar.react","PolarisTimestamp.react","PolarisTrackingNodeProvider.react","PolarisTransparencyLabel.react","PolarisTransparencyUtils","PolarisUA","PolarisUserAvatar.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserLink.react","err","nullthrows","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=i._("and");function m(a,b){a=a;var c=a==null?void 0:a.song_name,d=a==null?void 0:a.artist_name;b=(a==null?void 0:a.uses_original_audio)&&b===a.artist_name;return{audioName:c,audioArtist:d,isMediaOwnerOriginalSound:b}}function n(a){a=a.owner;var b=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.username));return j.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",href:b,children:c("nullthrows")(a.username)})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.clipsAudioAttributionInfo,d=a.owner;a=a.onDisabledClipsAudioAttributionClick;b=b;var e=m(b,d.username),f=e.audioArtist,g=e.audioName;e=e.isMediaOwnerOriginalSound;var h=b==null?void 0:b.audio_id;d=d.isPrivate===!0;var i=(b==null?void 0:b.should_mute_audio)===!0;b=b==null?void 0:b.should_mute_audio_reason;return j.jsx(c("PolarisAudioAttributionText.react"),{audioArtist:f,audioID:h,audioName:g,className:"_aaqn",isMediaOwnerOriginalSound:e,isMutedAudio:i,isOwnerPrivate:d,muteAudioReason:b,onDisabledClipsAudioAttributionClick:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.audioAttributionText,e=a.clipsAudioAttributionInfo,f=a.followHashtagInfo,g=a.isOwnerGroupProfile,h=a.location,i=a.mediaId,k=a.owner,l=a.postAuthor,n=a.showSponsors,o=a.showEligibleForCommissions,p=a.sponsoredLabel,q=a.sponsors;a=a.isSponsored;var r=d("NavHooks").useIsOnAdsActivityPage(),s=d("PolarisTransparencyUtils").shouldShowTransparencyLabel(k)&&j.jsx(c("PolarisTransparencyLabel.react"),{mediaId:i,screen:"feed",user:k});n=n&&j.jsx(c("PolarisSponsorsUnit.react"),{className:"_aaqi",loggingData:{mediaId:i},sponsors:q||[]});i=f&&j.jsx(c("PolarisUserLink.react"),{className:"_adkn",username:c("nullthrows")(k.username)});q=o&&j.jsx(c("PolarisEligibleForCommissionUnit.react"),{className:"_aaqi"});f=h&&j.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",display:"truncated",zeroMargin:!0,children:j.jsx(c("PolarisLocationLink.react"),{className:"_aaqk",location:c("nullthrows")(h)})});o=d("PolarisGroupProfileUtils").getIsGroupProfilePostAttributionEnabled()&&g===!0&&(l==null?void 0:l.username)!=null&&j.jsx(c("PolarisUserLink.react"),{className:"_adkn",username:c("nullthrows")(l.username),children:d("PolarisGroupProfileUtils").getGroupMediaPostAuthorAttributionText(c("nullthrows")(l.username))});h=m(e,k.username);if(a===!0&&p==null&&!r)throw c("err")("Unexpected: a feed ad is being rendered without a sponsored label");return j.jsxs("div",{className:"_aaql",children:[j.jsx(c("PolarisIGCoreText").Body2,{zeroMargin:!0,children:j.jsxs("div",{className:"x78zum5 xdt5ytf",children:[o,s,n,p!=null&&j.jsx(c("PolarisSponsoredLabel.react"),{label:p}),q,i]})}),d("PolarisClipsHelpers").hasAudioAttributionText(h)?b:j.jsx("div",{className:"_aaqm",children:f})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.analyticsContext,e=a.followHashtagInfo,f=a.onTagAvatarShowRing,g=a.isTagAvatarLink,h=a.coauthorProducers,i=a.owner,k=a.isOwnerGroupProfile,l=a.postAuthor;a=a.headerAvatarSize;function m(){return b===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT?"reel_feed_timeline_item_header":"reel_feed_timeline"}if(e){var n=e.name;e=e.profile_pic_url;return j.jsx(c("PolarisAvatarWithStoriesContainer.react"),{animateOnLoad:!0,entrypoint:"reel_feed_timeline",onShowRing:f,size:30,tagName:n,children:j.jsxs(j.Fragment,{children:[e!=null&&e.length>0&&j.jsx(c("PolarisTagAvatar.react"),{isLink:g,profilePictureUrl:e,tagName:n}),j.jsx("div",{className:"_aaqo",children:"#"})]})})}if(h==null?void 0:h.length){f=h[0];return j.jsxs(c("PolarisIGCoreBox"),{height:32,position:"relative",width:32,children:[j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:f.profilePictureUrl,size:24,username:f.username}),j.jsx("div",{className:"_aaqp",children:j.jsx(c("PolarisIGCoreBox"),{alignItems:"end",direction:"row",justifyContent:"end",children:j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:i.profilePictureUrl,size:24,username:i.username})})})]})}return k===!0&&l?j.jsx(c("PolarisGroupProfileAvatar.react"),{groupProfile:i,postAuthor:l}):j.jsx(c("PolarisUserHoverCard.react"),{display:"block",isUserAvailable:!i.isUnpublished,triggerAnalyticsContext:"post_owner_avatar",userId:i.id,children:j.jsx(c("PolarisUserAvatarWithStories.react"),{className:"_aaqq",isLink:!i.isUnpublished,profilePictureUrl:i.profilePictureUrl,showRingWhenSeen:!1,size:a,storyEntrypoint:m(),userId:i.id,username:i.username})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.coauthorProducers,d=a.followHashtagInfo,e=a.owner;a=a.showVerifiedBadge;if(d)return j.jsx(c("PolarisIGCoreText").Body,{zeroMargin:!0,children:j.jsx(c("PolarisHashtagLink.react"),{className:"_aaqr",tag:d.name})});if(e.isUnpublished===!0)return j.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",zeroMargin:!0,children:j.jsx("span",{className:"_aaqs",children:e.fullName!=null&&e.fullName!==""?e.fullName:e.username})});if(b==null?void 0:b.length){d=b[0];return j.jsx("div",{className:"_aaqt _aaqu",children:j.jsxs(c("PolarisIGCoreText").BodyEmphasized,{zeroMargin:!0,children:[j.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!e.isUnpublished,triggerAnalyticsContext:"post_owner",userId:e.id,children:j.jsx(n,{owner:e})}),j.jsxs(c("PolarisIGCoreText").Body,{children:[j.jsx("span",{className:"_aaqv"}),l,j.jsx("span",{className:"_aaqv"})]}),j.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!d.isUnpublished,triggerAnalyticsContext:"post_owner",userId:d.id,children:j.jsx(n,{owner:d})})]})})}return j.jsx("div",{className:"_aaqt",children:j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",display:"flex",children:[j.jsx(c("PolarisIGCoreText").BodyEmphasized,{zeroMargin:!0,children:j.jsx(c("PolarisUserHoverCard.react"),{display:"inline",isUserAvailable:!e.isUnpublished,triggerAnalyticsContext:"post_owner",userId:e.id,children:j.jsx(n,{owner:e})})}),a===!0&&e.isVerified===!0&&j.jsx(c("PolarisIGCoreBox"),{marginStart:1,children:j.jsx(c("PolarisIGCoreVerifiedBadge"),{size:"small"})})]})})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.analyticsContext,e=a.clipsAudioAttributionInfo,f=a.coauthorProducers,g=a.followHashtagInfo,h=a.headerAvatarSize,i=a.inModal,l=a.isAffiliate,m=a.isOwnerGroupProfile,n=a.isPaidPartnership,s=a.location,t=a.mediaId,u=a.onDisabledClipsAudioAttributionClick,v=a.owner,w=a.postAuthor,x=a.postedAt,y=a.reducedAvatarMargin,z=a.shouldShowFollowButton,A=a.showVerifiedBadge,B=a.sidebarVariantOptionsButton,C=a.sponsoredLabel,D=a.sponsors,E=a.viewer;a=a.isSponsored;var F=k(!0),G=F[0],H=F[1];F=!g&&n;n=!g&&!n&&l;function I(){H(!1)}l=j.jsx(o,{clipsAudioAttributionInfo:e,onDisabledClipsAudioAttributionClick:u,owner:v});u=d("NavHooks").useIsOnFeedPage();u=u&&i!==!0&&d("PolarisUA").isDesktop();i=u&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();return j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:230,children:j.jsxs("header",{className:"_aaqw"+(u?" _aaqx":"")+(i?" _aggb":""),"data-testid":void 0,children:[j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:69,children:j.jsx("div",{children:j.jsx(q,{analyticsContext:b,coauthorProducers:f,followHashtagInfo:g,headerAvatarSize:h,isOwnerGroupProfile:m,isTagAvatarLink:G,onTagAvatarShowRing:I,owner:v,postAuthor:w})})}),j.jsxs("div",{className:"_aaqy"+(B&&!u?" _aaqz":"")+(B&&u?" _aaq-":"")+(y===!0?" _aaq_":""),children:[j.jsxs("div",{className:"_aar0"+(z?" _ad95":"")+(B?" _aar1":""),children:[j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:10,children:j.jsx("div",{className:"x78zum5",children:j.jsx(r,{coauthorProducers:f,followHashtagInfo:g,owner:v,showVerifiedBadge:A})})}),x!=null&&i&&j.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",display:"flex",children:j.jsxs(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:"body",zeroMargin:!0,children:[j.jsx(c("PolarisMiddleDot.react"),{color:"ig-secondary-text"}),j.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:x})]})}),z&&j.jsxs("div",{className:"_aar2",children:[j.jsx("div",{className:"_aar3",children:j.jsx(c("PolarisMiddleDot.react"),{})}),j.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:b,borderless:!0,"data-testid":void 0,isInline:!0,isUserGroupProfile:m,shouldPromptToFollow:E&&d("PolarisQueryParams").isFromLoginWithFollowParam(),userId:v.id,username:v.username})]})]}),j.jsx(p,{audioAttributionText:l,clipsAudioAttributionInfo:e,followHashtagInfo:g,isOwnerGroupProfile:m,isSponsored:a,location:s,mediaId:t,owner:v,postAuthor:w,postId:t,showEligibleForCommissions:n,showSponsors:F,sponsoredLabel:C,sponsors:D})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostHeaderFavoritedIconButton.react",["PolarisFavoritesStrings","PolarisIGCoreBox","PolarisIGCoreSVGIconButton","PolarisIGCoreStarPanoFilledGradientIcon","PolarisLogger","PolarisPostModalContext.react","gkx","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.isFavorited;var b=d("PolarisPostModalContext.react").useSetPostModal(),e=c("usePolarisAnalyticsContext")();if(a&&(e==="feedPage"||e==="postPage")&&c("gkx")("986")===!1)return h.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){d("PolarisLogger").logAction("favoriteIconInPostHeaderClick"),b("favorites")},children:h.jsx(c("PolarisIGCoreBox"),{marginEnd:2,children:h.jsx(c("PolarisIGCoreStarPanoFilledGradientIcon"),{alt:d("PolarisFavoritesStrings").FAVORITED_ICON_ALT,size:16})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostSuggestedHeader.react",["cx","fbt","IGDSBox.react","IGDSIconButton.react","IGDSText.react","PolarisGenericStrings","PolarisIGCoreXPanoOutlineIcon","PolarisPanavisionQEHelpers","PolarisPostActionHidePost","PolarisReactRedux","PolarisgetIGFormattedText","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={root:{borderBottom:"xo0dx4q",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",$$css:!0},familiarFeedRoot:{borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",paddingTop:"xz9dl7a",paddingEnd:"x4uap5",paddingBottom:"xsag5q8",paddingStart:"xkhd6sd",$$css:!0},icon:{paddingStart:"x1xfsgkm",$$css:!0}};function a(a){var b=a.title,e=a.postId;a=a.xstyle;var f=d("PolarisReactRedux").useDispatch(),g=function(){f(d("PolarisPostActionHidePost").hidePost({postId:e,inventorySource:"mixed_unconnected"}))};b=b!=null?c("PolarisgetIGFormattedText")(b,{className:"_agj9",removeAt:!0}):null;var h=d("PolarisPanavisionQEHelpers").hasFamiliarFeed();return j.jsxs("div",{className:c("stylex")(k.root,h&&k.familiarFeedRoot,a),children:[j.jsx(c("IGDSBox.react"),{flex:"grow",height:17,justifyContent:"center",children:j.jsx(c("IGDSText.react"),{children:(h=b)!=null?h:i._("Suggested for you")})}),d("PolarisPanavisionQEHelpers").hasDemoteControlUnconnectedFeed()&&j.jsx("div",{className:"x1xfsgkm",children:j.jsx(c("IGDSIconButton.react"),{onClick:g,padding:0,children:j.jsx(c("PolarisIGCoreXPanoOutlineIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:12})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUnsaveFromCollectionDialog.react",["fbt","IGCoreDialog","PolarisGenericStrings","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClose,c=a.onUnsaveFromAll;a=a.onUnsaveFromCollection;return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:a?h._("You can remove from this collection or remove it from everything you've saved."):h._("Removing this from saved will also remove it from collections."),onModalClose:b,title:h._("Remove From Saved and Collections?"),children:[a&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._("Remove from collection")}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:d("PolarisUA").isDesktop()?"ig-error-or-destructive":"ig-primary-button",onClick:c,children:h._("Remove")}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:b,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPost.react",["cx","NavHooks","PolarisErrorBoundary.react","PolarisGroupProfileUtils","PolarisHotKeys.react","PolarisIGCoreBox","PolarisIGCoreConstants","PolarisInsightsUtils","PolarisLogger","PolarisMediaContainer.react","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostActionLikePost","PolarisPostActionRemovePostFromCollection","PolarisPostActionSavePost","PolarisPostActionUnlikePost","PolarisPostActionUnsavePost","PolarisPostConstants","PolarisPostDetailsSection.react","PolarisPostFeatures","PolarisPostHeader.react","PolarisPostHeaderFavoritedIconButton.react","PolarisPostModalContext.react","PolarisPostModalRenderingContext","PolarisPostOptionsButtonPicker.react","PolarisPostOverlayInfoFooterCTA.react","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisPostUtils","PolarisPostVariants","PolarisReactRedux","PolarisSavedPostsActionEditCollection","PolarisSavedPostsTypes","PolarisShareSheetContext","PolarisSponsoredPostCTAFooter.react","PolarisTrackingNodeProvider.react","PolarisUA","PolarisUnsaveFromCollectionDialog.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","PolarisadsSelectors","PolarisdeveloperSettings","PolarispostModalHelpers","PolarispostSelectors","PolarisrelationshipSelectors","PolarisuserSelectors","PolariswithPPRLogging","browserHistory","hero-tracing","joinClasses","nullthrows","qex","react","useMergeRefs","usePolarisDisplayProperties","usePolarisIGCorePreviousValue"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useRef,l=e.useState,aa={mediaContainerFamiliarFeed:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",borderTop:"x1clw6ba",borderEnd:"x9a4zq1",borderBottom:"xkb9w9f",borderStart:"xl8iwhl",boxSizing:"x9f619",$$css:!0}};function a(a){var b,e=a.analyticsContext,f=a.autoplay,g=a.className,h=a.id,m=a.initialCarouselIndex,ba=a.initialCommentsQuery,ca=a.isVisible,da=a.lightLetterbox,n=a.onMediaRendered,ea=a.permalinkedCommentId,fa=a.permalinkedReplyId,o=a.position,p=a.variant,q=p===void 0?d("PolarisPostVariants").VARIANTS.flexible:p,ga=a.visiblePosition,r=a.willScrollTo;p=a.isSponsored;p=p===void 0?!1:p;var ha=a.adImpressionRefs;a=a.viewpointActionsForSponsoredPost;var s=d("PolarisReactRedux").useDispatch(),t=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getPostById(a,h)}),u=c("nullthrows")(t.owner).id;b=(b=t.group)==null?void 0:b.id;var v=(b=b)!=null?b:u,w=d("PolarisReactRedux").useSelector(function(a){return d("PolarisuserSelectors").getUserById(a,u)}),x=d("PolarisReactRedux").useSelector(function(a){return d("PolarisuserSelectors").getUserById(a,v)}),y=d("PolarisReactRedux").useSelector(function(a){return d("PolarisrelationshipSelectors").getRelationship(a.relationships,v)}),z=d("PolarisReactRedux").useSelector(d("PolarisuserSelectors").getViewer);b=!!(z==null?void 0:z.canSeeOrganicInsights);var A=!!t.canSeeInsightsAsBrand,B=d("PolarisadsSelectors").useFeedAdInfo(t==null?void 0:t.id,function(a){return a}),C=c("usePolarisDisplayProperties")(),ia=C.viewportHeight;C=C.viewportWidth;var D=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext(),E=D.isInModal,F=(m=(D=m)!=null?D:d("PolarisPostUtils").getInitialSidecarIndexFromPost(t))!=null?m:0;D=l(F);m=D[0];var ja=D[1];D=l({});var G=D[0],H=D[1];D=l(!1);var ka=D[0],la=D[1];D=l({});var I=D[0],J=D[1];D=l(!1);var ma=D[0],K=D[1];D=l(!1);var na=D[0],L=D[1];D=l(null);var oa=D[0],pa=D[1];D=k(null);j(function(){r==="top"&&window.setTimeout(function(){window.scrollTo(0,0)})},[r]);var M=c("usePolarisIGCorePreviousValue")(t);j(function(){M!=null&&t.id!==M.id&&(H({}),J({}))},[t,M]);var qa=function(a){la(!0),n!=null&&n(t.id,a)},ra=function(a,b,c){ja(b)},N=function(a,b){b={sourceOfLike:b,source:e,mediaId:t.id,trackingToken:t.trackingToken,mediaAuthorId:(b=t.owner)==null?void 0:b.id};var c=null;(B==null?void 0:B.ad_id)!=null&&(B==null?void 0:B.tracking_token)!=null&&Z!=null&&(c={adId:B==null?void 0:B.ad_id,adTrackingToken:B==null?void 0:B.tracking_token,viewerId:Z});a?t.likedByViewer!==!0&&s(d("PolarisPostActionLikePost").likePost(t.id,b,c)):s(d("PolarisPostActionUnlikePost").unlikePost(t.id,b,c))},sa=function(){N(!0,"double_tap_media")},ta=function(a){var b={source:e},c=null;(B==null?void 0:B.ad_id)!=null&&(B==null?void 0:B.tracking_token)!=null&&Z!=null&&(c={adId:B==null?void 0:B.ad_id,adTrackingToken:B==null?void 0:B.tracking_token,analyticsContext:e,followStatus:d("PolarisViewpointActionUtils").getFollowStatus(y),post:t,viewerId:Z});a?t.savedByViewer!==!0&&s(d("PolarisPostActionSavePost").savePost(t.id,b,c)):t.savedByViewer===!0&&(t.savedByViewerToCollection===!0?(d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogShown"),K(!0)):s(d("PolarisPostActionUnsavePost").unsavePost(t.id,b,c)))},ua=function(){d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogCancelled"),K(!1)},va=function(){K(!1),s(d("PolarisPostActionUnsavePost").unsavePost(t.id,{source:e})),d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogAccepted")},wa=function(){var b={source:e};K(!1);var a=d("browserHistory").browserHistory.location.pathname;a=d("PolarispostModalHelpers").getCollectionIdFromPath(a);a!=null&&z!=null&&(s(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:a,postId:t.id,analyticsData:b})),s(d("PolarisSavedPostsActionEditCollection").editCollection({collectionId:a,postIdsToRemove:[t.id],userId:c("nullthrows")(z==null?void 0:z.id),source:b.source})))},xa=function(a){za(a)&&Ba(a.id)},ya=function(a){Ca(a)},za=function(a){return G[a.id]===!0},Aa=function(a){return I[a]===!0},Ba=function(a){var b=babelHelpers["extends"]({},G);b[a]=!0;H(b)},Ca=function(a){var b=babelHelpers["extends"]({},I);b[a]=!0;J(b)},O=function(a){L(!0),pa(a)},Da=function(){L(!1)},P=d("browserHistory").browserHistory.location.pathname,Q=d("PolarisPostFeatures").usePolarisPostFeatures({post:t,owner:x,variant:q,path:P}),R=Q.commentsAreStacked,Ea=Q.hasPhotosOfYouOption,Fa=Q.hasThreadedSidebarComments,S=Q.isFavorited,Ga=Q.isSidecar,Ha=Q.isStackedScreenSize;Q=Q.showFollowButton;P=d("PolarispostModalHelpers").getCollectionIdFromPath(P);var Ia=P!=null&&P!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;P=!!Q&&(!t.coauthorProducers||t.coauthorProducers.length===0)&&!p;var T=C>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,Ja=T&&E===!0,U=!T&&E===!0,Ka=E===!0?T:!R;Q=d("NavHooks").useIsOnFeedPage();var V=e==="adsActivityFeed",W=(Q||V)&&E!==!0&&d("PolarisUA").isDesktop(),X=Q&&E!==!0&&d("PolarisUA").isDesktop()&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed(),La=d("PolarisPostUtils").getCurrentSidecarItemFromPost(t,m),Ma=i.jsxs("div",{className:"_aasi"+(W?" _aasj":"")+(U?" _aask":"")+(X?" _ai9a":""),children:[t.inventorySource==="mixed_unconnected"&&Q&&!E&&c("qex")._("1716")===!0&&i.jsx(c("PolarisPostSuggestedHeader.react"),{postId:t.id,title:(V=t.explore)==null?void 0:V.title}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",children:[i.jsx(c("PolarisPostHeader.react"),{analyticsContext:e,clipsAudioAttributionInfo:t.clipsMusicAttributionInfo,coauthorProducers:t.coauthorProducers,followHashtagInfo:t.followHashtagInfo,headerAvatarSize:c("PolarisIGCoreConstants").AVATAR_SIZES.small,inModal:E,isAffiliate:t.isAffiliate===!0,isOwnerGroupProfile:d("PolarisGroupProfileUtils").getIsUserGroupProfile(x),isPaidPartnership:t.isPaidPartnership===!0,isSponsored:t.isSponsored,isVideo:!!t.isVideo,location:t.location,mediaId:t.id,onDisabledClipsAudioAttributionClick:O,owner:x,postAuthor:w,postedAt:t.postedAt,shouldShowFollowButton:P,showVerifiedBadge:q!==d("PolarisPostVariants").VARIANTS.feed,sidebarVariantOptionsButton:Fa,sponsoredLabel:B==null?void 0:B.label,sponsors:t.sponsors,viewer:z},t.id),i.jsx(c("PolarisPostHeaderFavoritedIconButton.react"),{isFavorited:S}),i.jsx(c("PolarisPostOptionsButtonPicker.react"),{buttonClassName:"_aasm"+(W?" _aasn":"")+(X?" _agh1":""),id:t.id})]})]});Q=d("PolarisInsightsUtils").getViewInsightsInfo(z,u,t,A,b);var Na=Q.bloksAppId,Y=Q.hasViewInsights,Z=z==null?void 0:z.id;V=p&&a!=null?a:[d("PolarisOrganicImpressionAction").makePostImpressionAction(t,e),d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(t,e)];O=d("PolarisViewpointReact.react").useViewpoint({action:V,id:t.id});var Oa=c("useMergeRefs").apply(void 0,[O].concat((P=ha)!=null?P:[])),Pa=z?{l:function(){N(!t.likedByViewer,"button")},s:function(){ta(!t.savedByViewer)}}:{},Qa=p?i.jsx(c("PolarisSponsoredPostCTAFooter.react"),{isMediaRendered:ka,post:t,sidecarIndex:m}):i.jsx(d("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTA,{analyticsContext:e,currentSidecarIndex:m,dynamicFooterRef:D,idsWithClearedBlurOverlays:G,idsWithDisabledMediaOverlayInfoImpressionLogging:I,onLogOverlayImpression:function(a){return ya(a)},rootPost:t});S=Qa!=null;var $=d("PolarispostModalHelpers").getMediaContainerProps({dimensions:t.dimensions,footerHeight:S?(A=D.current)==null?void 0:A.offsetHeight:void 0,viewportHeight:ia,viewportWidth:C,hasSidebarInRedesign:T,hasFooter:S}),Ra=!1,Sa={border:t.isSeen===!0?"2px solid green":"2px solid red"};return i.jsx(c("PolarisShareSheetContext").Provider,{value:{currPostSidecarChildItem:La},children:i.jsx(d("PolarisPostToastProvider.react").PostToastProvider,{children:function(a){return i.jsx(d("PolarisPostModalContext.react").PostModalContext,{post:t,children:i.jsx(d("hero-tracing").HeroPagelet,{name:d("PolarisPostUtils").getPageletLogName(e,o),ref:Oa,children:function(b,h){return i.jsx(c("PolarisHotKeys.react"),{keyMap:Pa,children:function(j,k,l){return i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:301,children:i.jsxs("article",{className:c("joinClasses")(g,"_aatb"+(q===d("PolarisPostVariants").VARIANTS.feed?" _aatc":"")+(Ha?" _aatd":"")+(Ha?"":" _aate")+(R?" _aatf":"")+(Ka?" _aatg":"")+(Ga?" _aath":"")+(Fa?" _aati":"")+(Y?" _aatj":"")),"data-testid":void 0,onKeyUp:j,ref:b,role:k,style:Ra?Sa:{},tabIndex:l,children:[i.jsxs(c("PolarisIGCoreBox"),{alignSelf:U?"center":void 0,direction:(E===!0?T:!R)?"row":"column",display:"flex",justifyContent:"center",maxHeight:"inherit",maxWidth:U&&($==null?void 0:$.style)!=null?$.style.maxWidth:"inherit",children:[(E===!0?!T:R)?Ma:null,i.jsx("div",babelHelpers["extends"]({},E===!0?$:{},{className:"_aatk"+(E===!0?" _aatl":"")+(Ja&&t.dimensions!=null&&t.dimensions.width>=t.dimensions.height?" _aatm":"")+(da===!0?" _aatn":"")+(X?" _aiao":""),children:i.jsx(c("PolarisMediaContainer.react"),{accessibilityCaption:t.accessibilityCaption,adInfo:B,analyticsContext:e,autoplay:f,checkIsSensitivityOverlayDisabledCallback:function(a){return za(a)},className:"_aato"+(X?" _aiao":"")+(t.isVideo===!0&&X?" _aiap":""),commentsAreStacked:R,hasPhotosOfYouOption:Ea,hasViewInsights:Y,id:t.id,imgXstyle:X?aa.mediaContainerFamiliarFeed:void 0,initialCarouselIndex:F,inModal:E,isVisible:ca,mediaFooter:Qa,onLike:z?sa:null,onPostMediaRendered:qa,onPostSidecarChildIndexChange:ra,onSensitivityOverlayCleared:xa,onToastClose:Da,position:o,post:t,relationship:y,sensitivityOverlayMediaOverlayInfoLoggingProps:{onLoggedMediaOverlayInfoImpression:function(a){return ya(a)},checkIfMediaOverlayInfoImpressionLoggingDisabled:function(a){return Aa(a)}},showToast:na,toastString:oa,viewer:z,visiblePosition:ga})})),i.jsx(c("PolarisPostDetailsSection.react"),{analyticsContext:e,bloksAppId:Na,currSidecarItem:La,handleLikeChange:N,handleSaveChange:ta,hasDenserFeedRedesign:W,hasSidebarInRedesign:T,hasViewInsights:Y,initialCommentsQuery:ba,owner:x,permalinkedCommentId:ea,permalinkedReplyId:fa,post:t,postAuthorId:u,postAuthorUsername:w==null?void 0:w.username,postFeedbackControlsRef:a,postHeader:Ma,redesignWithoutSidebar:U,redesignWithSidebar:Ja,showDetailsAsSidebar:Ka,variant:q,viewer:z}),ma&&i.jsx(c("PolarisUnsaveFromCollectionDialog.react"),{onClose:ua,onUnsaveFromAll:va,onUnsaveFromCollection:Ia&&d("PolarisUA").isDesktop()?wa:null}),i.jsx(c("PolarisPostToast.react"),{isFeedVariant:q===d("PolarisPostVariants").VARIANTS.feed,isModal:(j=E)!=null?j:!1,isSidecar:Ga})]}),i.jsx(h,{})]})})}})}})},t.id)}})})}a.displayName=a.name+" [from "+f.id+"]";var m=c("PolariswithPPRLogging")(a);function b(a){return i.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},children:i.jsx(m,babelHelpers["extends"]({},a))})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{impressedAt:0,invisibleReason:null,status:null,target:a,visible:!1,visiblePercentage:0}}function b(a,b){var d=a.target,e=a.boundingClientRect,f=null,g=!1;!c("intersectionObserverEntryIsIntersecting")(a)?f="NOT_IN_VIEWPORT":e==null?f="UNDEFINED_BOUNDING_RECT":e.height===0||e.width===0?f="TARGET_SIZE_0":c("getStyleProperty")(d,"opacity")==="0"?f="TARGET_TRANSPARENT":c("getStyleProperty")(d,"visibility")==="hidden"?f="TARGET_HIDDEN":g=!0;e=g===!1?0:a.intersectionRatio;var h=b.visible,i=b.impressedAt,j=null;h&&!g?j="EXIT":!h&&g?(j="ENTER",i=Date.now()):b.visiblePercentage!==e&&(j="UPDATE");return{boundingClientRect:a.boundingClientRect,impressedAt:i,intersectionRect:a.intersectionRect,invisibleReason:f,rootBounds:a.rootBounds,status:j,target:d,visible:g,visiblePercentage:e}}function h(a,b){return!a.visible?null:babelHelpers["extends"]({},a,{invisibleReason:b,status:"EXIT",visible:!1,visiblePercentage:0})}function d(a){return h(a,"PUSH_VIEW_HIDDEN")}function e(a){return h(a,"COMPONENT_UNMOUNTED")}function f(a){return h(a,"PAGE_VISIBILITY_HIDDEN")}g.initImpressionRecord=a;g.calcNextObservedRecord=b;g.calcExitRecordOnPushViewHidden=d;g.calcExitRecordOnUnmount=e;g.calcExitRecordOnViewportHidden=f}),98);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}f["default"]=a}),66);
__d("getElementPosition",["getElementRect"],(function(a,b,c,d,e,f,g){function a(a){a=c("getElementRect")(a);return{x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top}}g["default"]=a}),98);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d===void 0&&(d={bottom:0,left:0,right:0,top:0});try{if(!a||!b||!document.elementFromPoint)return!1;var e=c("getViewportDimensions")();if(e.height===0||e.width===0)return!1;var f=b.x,g=b.y,h=b.width;b=b.height;h=Math.min(f+h,e.width-1);b=Math.min(g+b,e.height-1);e=[{x:f,y:g},{x:f,y:b},{x:h,y:g},{x:h,y:b},{x:(f+h)/2,y:(g+b)/2}];d.top!==0&&d.top>g&&d.top<b&&e.push({x:(f+h)/2,y:(d.top+b)/2});return e.every(function(b){b=document.elementFromPoint(b.x,b.y);b=!!b&&!c("containsNode")(b,a)&&!c("containsNode")(a,b);return b})}catch(a){return!1}}g["default"]=a}),98);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","gkx","isImpressionTargetOccluded"],(function(a,b,c,d,e,f,g){"use strict";var h={bottom:0,left:0,right:0,top:0};function i(a){if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(c("getStyleProperty")(a,"position")==="absolute"&&c("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,b,d){d===void 0&&(d={});if(c("gkx")("2637")&&d.isCometHiddenSubtree)return{impressedAt:b.impressedAt,invisibleReason:"PUSH_VIEW_HIDDEN",status:b.visible?"EXIT":null,target:a,visible:!1,visiblePercentage:0};var e=c("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},c("getViewportDimensions")()),g=c("calculateImpressionViewablePercentage")(e,f,h),j=!1;if(g.visiblePercentage>0){var k=i(a);k!=null&&g.intersectionRect!=null&&(j=!0,g=c("calculateImpressionViewablePercentage")(g.intersectionRect,c("getElementPosition")(k),h))}k=d;k=k.viewportMargin;j=k&&!j?c("calculateImpressionViewablePercentage")(e,f,k):g;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);g=g;var l=g.intersectionRect;g=g.visiblePercentage;var m=null,n=!1;g<=0?m="NOT_IN_VIEWPORT":l&&c("isImpressionTargetOccluded")(a,l,k||h)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":c("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":c("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":c("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;g=n===!1?0:j.visiblePercentage;l=b.visible;k=b.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):b.visiblePercentage!==g&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:g},f)}g["default"]=a}),98);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;e===void 0&&(e=null);f===void 0&&(f={});this.THROTTLE_TIMEOUT=c("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;this.takeSnapshot=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.takeSnapshotWithDoubleRaf=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;if(c("gkx")("1275922"))window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)})});else{var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)}},this.THROTTLE_TIMEOUT);this.$5=e;this.$2=d("CentralImpressionRecord").initImpressionRecord(a);this.$1=b;this.$3=a;this.$7=f;this.$8=!1;c("setTimeout")(this.takeSnapshotWithDoubleRaf,0);document.addEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});window.addEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshotWithDoubleRaf),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[c("Visibility").addListener(c("Visibility").HIDDEN,this.takeSnapshot),c("Visibility").addListener(c("Visibility").VISIBLE,this.takeSnapshot)]}var b=a.prototype;b.getOptionalUniqueID=function(){return this.$5};b.peek=function(){return this.$2};b.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};b.remove=function(){document.removeEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),window.removeEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};b.unmount=function(){var a=d("CentralImpressionRecord").calcExitRecordOnUnmount(this.$2);a!=null&&this.$9(a);this.remove()};b.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};b.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();g["default"]=a}),98);
__d("useScrollBasedImpressionTracker",["BaseViewportMarginsContext","CentralImpressionScrollBasedTracker","HiddenSubtreePassiveContext","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b){var d=k(null),e=k(null),f=i(c("BaseViewportMarginsContext")),g=k(null),l=i(c("HiddenSubtreePassiveContext")),m=h(function(b){if(d.current==null)return;if(e.current==null||b!=null&&e.current.getOptionalUniqueID()!==b){var h=!1;e.current!=null&&(e.current.unmount(),e.current=null,h=!0);e.current=new(c("CentralImpressionScrollBasedTracker"))(d.current,a,b,{isAdRefresh:h,isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f});g.current!=null&&(g.current.remove(),g.current=null);g.current=l.subscribeToChanges(function(a){e.current!=null&&e.current.setIsCometHiddenInSubtree(a.hiddenOrBackgrounded_FIXME)})}else e.current.update(d.current,a,{isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f})},[l,a,f]),n=h(function(a){d.current!==a&&a!=null&&(d.current=a,m(b))},[m,b]);j(function(){return function(){e.current!=null&&(e.current.unmount(),e.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);j(function(){m(b)},[m,b]);return n}g["default"]=a}),98);
__d("IGDSArrowLeftPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"2.909",x2:"22.001",y1:"12.004",y2:"12.004"}),h.jsx("polyline",{fill:"none",points:"9.276 4.726 2.001 12.004 9.276 19.274",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSChevronUpPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M21 17.502a.997.997 0 0 1-.707-.293L12 8.913l-8.293 8.296a1 1 0 1 1-1.414-1.414l9-9.004a1.03 1.03 0 0 1 1.414 0l9 9.004A1 1 0 0 1 21 17.502Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSChevronUpOutlineIcon",["IGDSChevronUpPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSChevronUpPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSChevronIcon",["IGDSChevronUpOutlineIcon","react"],(function(a,b,c,d,e,f,g){var h=d("react"),i={up:"0",right:"90",down:"180",left:"270"};function a(a){var b=a.direction;a=babelHelpers.objectWithoutPropertiesLoose(a,["direction"]);b=i[b];return h.jsx("span",{style:{display:"inline-block",transform:"rotate("+b+"deg)"},children:h.jsx(c("IGDSChevronUpOutlineIcon"),babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramAdImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2964");c=b("FalcoLoggerInternal").create("instagram_ad_impression_second_channel",a);e.exports=c}),null);
__d("InstagramAdSubImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2965");c=b("FalcoLoggerInternal").create("instagram_ad_sub_impression_second_channel",a);e.exports=c}),null);
__d("PolarisInstagramAdImpressionSecondChannelFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={pigeon:!1,falco:!0};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_impression_second_channel",a(),{},h)}};b=a;g["default"]=b}),98);
__d("usePolarisFeedAdImpressionSecondChannelLogger",["InstagramAdImpressionSecondChannelFalcoEvent","InstagramAdSubImpressionSecondChannelFalcoEvent","PolarisContainerModuleUtils","PolarisInstagramAdImpressionSecondChannelFalcoEvent","PolarisInteractionsLogger","PolarisODS","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","qex","usePolarisAnalyticsContext","usePolarisViewer","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=2e3,j=new Map(),k=new Set();function a(a,b,e){var f=c("usePolarisAnalyticsContext")(),g=c("usePolarisViewer")(),l=a==null?void 0:a.ad_id,m=a==null?void 0:a.tracking_token;return c("useScrollBasedImpressionTracker")(function(a){if(l!=null&&m!=null&&f==="feedPage"&&(g==null?void 0:g.id)!=null){if(a.status!=="ENTER")return;var n={ad_id:l,m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(b),tracking_token:m,inventory_source:d("PolarisContainerModuleUtils").getContainerModule(f),m_t:d("PolarisInteractionsLogger").getMediaTypeFromPost(b).toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(f),pk:g==null?void 0:g.id},o=j.get(l),p=Date.now(),q=o!=null&&p-o>=h;if(e){if(k.has(l))return;k.add(l);window.setTimeout(function(){var b=c("cometGHLContentDisplayCheck")(a.target);if(o==null)if(b){var d=c("qex")._("1271")===!0;d=d?c("PolarisInstagramAdImpressionSecondChannelFalcoEvent"):c("InstagramAdImpressionSecondChannelFalcoEvent");c("PolarisODS").incr("web.ads.feed.impression.second_channel");d.log(function(){return n});j.set(l,p)}else c("PolarisODS").incr("web.ads.feed.impression.second_channel.hidden");else q&&(b?(c("PolarisODS").incr("web.ads.feed.sub_impression.second_channel"),c("InstagramAdSubImpressionSecondChannelFalcoEvent").log(function(){return n}),j.set(l,p)):c("PolarisODS").incr("web.ads.feed.sub_impression.second_channel.hidden"));k["delete"](l)},i)}else o==null?(c("PolarisODS").incr("web.ads.feed.impression.second_channel"),c("InstagramAdImpressionSecondChannelFalcoEvent").log(function(){return n}),j.set(l,p)):q&&(c("PolarisODS").incr("web.ads.feed.sub_impression.second_channel"),c("InstagramAdSubImpressionSecondChannelFalcoEvent").log(function(){return n}),j.set(l,p))}})}g["default"]=a}),98);
__d("usePolarisSponsoredPostImpressionRefs",["PolarisAdsGatingHelpers","PolarisReactRedux","PolarisadsSelectors","PolarispostSelectors","qex","usePolarisFeedAdImpressionSecondChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";b=c("qex")._("1002");var h=b===!0?c("usePolarisFeedAdImpressionSecondChannelLogger"):function(a,b,c){return null};function a(a){var b=d("PolarisReactRedux").useSelector(function(b){return d("PolarispostSelectors").getPostById(b,a)}),c=d("PolarisadsSelectors").useFeedAdInfo(b==null?void 0:b.id,function(a){return a});c=h(c,b,d("PolarisAdsGatingHelpers").hasDelayedAdImpressions());b=[];c!=null&&b.push(c);return b}g["default"]=a}),98);
__d("usePolarisSponsoredPostRenderedLogging",["PolarisODS","PolarisReactRedux","PolarisUA","PolarisadsSelectors","PolarispostSelectors","memoizeStringOnly","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("memoizeStringOnly")(function(a){return new Map()});function a(a,b){var e=d("PolarisReactRedux").useSelector(function(b){return d("PolarispostSelectors").getPostById(b,a)}),f=d("PolarisadsSelectors").useFeedAdInfo(e==null?void 0:e.id,function(a){return a}),g=f==null?void 0:f.ad_id;h(function(){var a=i(b),d=g!=null&&a.get(g);if(d===!0||g==null)return;c("PolarisODS").incr("web.ads.feed.rendered");a.set(g,!0)},[g,b]);var j=e.isVideo===!0;h(function(){j&&d("PolarisUA").isMobile()&&c("PolarisODS").incr("web.ads.msite.feed.video_ads.rendered")},[j])}g["default"]=a}),98);
__d("PolarisTrackingCodeProvider.react",["PolarisTrackingCodeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function a(a){var b=a.children,d=a.isSponsored,e=a.m_pk,f=a.trackingToken,g=i(c("PolarisTrackingCodeContext"));a=j(function(){var a=f.length===0?null:{trackingToken:f,isSponsored:d,m_pk:e};return[a].concat(g)},[g,f,d,e]);return h.jsx(c("PolarisTrackingCodeContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInstagramAdTimeSpentFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_time_spent",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisAdTimeSpentAction",["PolarisContainerModuleUtils","PolarisInstagramAdTimeSpentFalcoEvent","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=500,i=new Map();function j(a,b){var c=i.get(a);b.percentVisible>=.5&&c==null&&i.set(a,b.snapshotTime);c=c==null?0:b.snapshotTime-c;if(b.state==="exited"&&c>h){i["delete"](a);return c}return null}function a(a,b,e,f,g){return function(h){var i=j(e,h);if(i==null)return;c("PolarisInstagramAdTimeSpentFalcoEvent").log(function(){var c;return{ad_id:e,pk:(c=a.owner)==null?void 0:c.id,follow_status:g,tracking_token:f,timespent:i,m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(a),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b)}})}}g.makeAdTimeSpentAction=a}),98);
__d("PolarisInstagramAdViewabilityFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_viewability",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisAdViewabilityAction",["PolarisContainerModuleUtils","PolarisInstagramAdViewabilityFalcoEvent","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map();function a(a,b,e,f,g){var h=function(g,h,i){var j=l(h).get(e+i);if(j==null)return;var k=(g-j)/1e3;c("PolarisInstagramAdViewabilityFalcoEvent").log(function(){return{ad_id:e,tracking_token:f,duration:k.toString(),percent_visible:h,m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(a),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b),visibility_unit:i}})},i=g;return function(a){k(a,0,e,h,"feed_unit",i),k(a,50,e,h,"feed_unit",i),k(a,100,e,h,"feed_unit",i),k(a,50,e,h,"viewport",i),k(a,100,e,h,"viewport",i)}}function k(a,b,c,d,e,f){c=c+e;var g=a.percentVisible*100;if(e==="viewport"){var h;h=((h=(h=a.visibleRect)==null?void 0:h.height)!=null?h:0)/f*100;g=Math.max(g,h)}f=l(b);if(g>=b&&!f.has(c))f.set(c,a.snapshotTime);else{h=g<b;b===0&&(h=a.state==="exited");h===!0&&f.has(c)&&(d(a.snapshotTime,b,e),f["delete"](c))}}function l(a){if(a===0)return h;else if(a===50)return i;return j}g.makeAdViewabilityAction=a}),98);
__d("usePolarisFeedAdViewpointActions",["PolarisAdImpressionAction","PolarisAdTimeSpentAction","PolarisAdViewabilityAction","PolarisViewpointActionUtils","PolarisVpvdImpressionAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i,j){var k=[];if(c==null||e==null||f==null||h==null)return[];k.push(d("PolarisAdImpressionAction").makePostAdImpressionAction(a,b,{ad_id:c,tracking_token:e,pk:f},i,j));k.push(d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(a,b,c,e));k.push(d("PolarisAdTimeSpentAction").makeAdTimeSpentAction(a,b,c,e,d("PolarisViewpointActionUtils").getFollowStatus(g)));k.push(d("PolarisAdViewabilityAction").makeAdViewabilityAction(a,b,c,e,h));return k}g["default"]=a}),98);
__d("PolarisSponsoredPost.react",["PolarisAdsGatingHelpers","PolarisErrorBoundary.react","PolarisFeedPageConstants","PolarisPost.react","PolarisReactRedux","PolarisTrackingCodeProvider.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisadsSelectors","PolarispostSelectors","PolarisrelationshipSelectors","PolarisuserSelectors","err","qex","react","usePolarisFeedAdViewpointActions","usePolarisSponsoredPostImpressionRefs","usePolarisSponsoredPostRenderedLogging"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=c("qex")._("1002");function k(a){var b,e=i(d("PolarisViewpointReact.react").ViewpointContext),f=a.id,g=a.analyticsContext,k=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getPostById(a,f)});b=(b=d("PolarisReactRedux").useSelector(d("PolarisuserSelectors").getViewer))==null?void 0:b.id;var l=d("PolarisReactRedux").useSelector(function(a){return d("PolarisrelationshipSelectors").getRelationship(a.relationships,(a=(a=k.owner)==null?void 0:a.id)!=null?a:"")}),m=d("PolarisadsSelectors").useFeedAdInfo(k==null?void 0:k.id,function(a){return a}),n=m==null?void 0:m.ad_id,o=m==null?void 0:m.tracking_token,p=g===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT||g==="pastPostsFeedPage",q=g===d("PolarisFeedPageConstants").FEED_PAGE_MODAL_ANALYTICS_CONTEXT;q=p||q;if(p){if(n==null)throw c("err")("Unexpected: a feed ad is being rendered without an ad id.");if(o==null)throw c("err")("Unexpected: a feed ad ("+n+")is being rendered without an ad tracking token.")}c("usePolarisSponsoredPostRenderedLogging")(f,g);g=c("usePolarisFeedAdViewpointActions")(k,g,n,o,b,l,e==null?void 0:e.getViewport().height,j===!0,d("PolarisAdsGatingHelpers").hasDelayedAdImpressions());n=c("usePolarisSponsoredPostImpressionRefs")(f);o=h.jsx(c("PolarisPost.react"),babelHelpers["extends"]({},a,{adImpressionRefs:n,isSponsored:!0,viewpointActionsForSponsoredPost:p?g:[]}));return!q?o:h.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:(b=d("PolarisViewpointActionUtils").getMPKForFeedMedia(k))!=null?b:"",trackingToken:(l=m==null?void 0:m.tracking_token)!=null?l:"",children:o})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return h.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},children:h.jsx(k,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDiscoverChainingActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;b="DISCOVER_CHAINING";f.PAGE_SIZE=a;f.DISCOVER_CHAINING_VIEW=b}),66);
__d("PolarisPostLoadingShimmer.react",["cx","PolarisIGTheme.react","react","vc-tracker"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.denserPost;a=a.inFeed;var e=d("PolarisIGTheme.react").useTheme();return i.jsxs("div",babelHelpers["extends"]({},c("vc-tracker").VisualCompletionAttributes.LOADING_STATE,{className:"_aa25"+(a?" _ae-j":"")+(b?" _ae-k":""),children:[i.jsxs("div",{className:"_aa26",children:[i.jsx("div",{className:"_aa27"}),i.jsxs("div",{className:"_aa28",children:[i.jsx("div",{className:"_aa29"}),i.jsx("div",{className:"_aa2a"})]})]}),i.jsx("div",{className:"_aa2b"+(e.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?" _aa2c":"")})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedHeader.react",["IGDSArrowLeftPanoOutlineIcon","IGDSBox.react","IGDSChevronIcon","IGDSText.react","PolarisGenericStrings","PolarisIGCoreBox","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.hasBackButton,e=a.text;a=a.revamped;return h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",children:[b===!0&&(a===!0?h.jsx(c("IGDSBox.react"),{marginEnd:2,children:h.jsx(c("IGDSArrowLeftPanoOutlineIcon"),{alt:d("PolarisGenericStrings").BACK_TEXT,color:"ig-primary-text",size:24})}):h.jsx(c("IGDSChevronIcon"),{alt:d("PolarisGenericStrings").BACK_TEXT,color:"ig-primary-text",direction:"left",size:24})),h.jsx(c("PolarisIGCoreBox"),{padding:b?0:1,children:a===!0?h.jsx("div",{className:"x1rdy4ex",children:h.jsx(c("IGDSText.react"),{size:"title",weight:"semibold",children:e})}):h.jsx(c("IGDSText.react").Title,{color:"primaryText",children:e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisEndOfFeedDemarcator.react",["cx","fbt","CometImage.react","FastLink","IGDSBox.react","IGDSText.react","PolarisFeedHeader.react","PolarisIGCoreBox","PolarisIGCoreText","PolarisPanavisionQEHelpers","PolarisUA","XPolarisFeedControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=96,l=64,m=72,n=i._("Checkmark"),o=i._("Suggested Posts");function a(a){var b=a.className,e=a.title;a=a.subtitle;var f=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp(),g=f?m:d("PolarisUA").isMobile()?l:k;d("PolarisUA").isMobile()?j.jsx("div",{className:"_abti",children:j.jsx(c("IGDSText.react"),{color:"primaryText",size:"body",weight:"semibold",children:o})}):j.jsx(c("IGDSBox.react"),{marginBottom:4,marginTop:2,children:j.jsx(c("PolarisFeedHeader.react"),{hasBackButton:!1,text:o})});!f;return j.jsxs("div",{children:[j.jsx("div",{className:b,style:d("PolarisUA").isMobile()?{marginBottom:0}:{},children:j.jsxs("div",{className:"_abte",children:[j.jsx(c("IGDSBox.react"),{height:g,marginBottom:4,width:g,children:j.jsx(c("CometImage.react"),{alt:n,height:g,src:"/images/instagram/xig/web/illo-confirm-refresh-light.png",width:g})}),j.jsx(c("IGDSBox.react"),{marginBottom:3,children:j.jsx(c("IGDSText.react"),{color:"primaryText",size:"title",weight:"normal",children:e})}),j.jsx(c("IGDSBox.react"),{marginBottom:f?5:3,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",children:a})}),j.jsx(c("FastLink"),{href:c("XPolarisFeedControllerRouteBuilder").buildURL({variant:"past_posts"}),children:j.jsx(c("IGDSText.react"),{color:"primaryButton",size:"body",weight:"semibold",children:i._("View older posts")})})]})}),d("PolarisUA").isMobile()?j.jsx("div",{className:"_abti",children:j.jsx(c("PolarisIGCoreText"),{color:"ig-primary-text",size:"body",weight:"semibold",children:o})}):j.jsx(c("PolarisIGCoreBox"),{marginBottom:f?0:4,marginTop:2,children:j.jsx(c("PolarisFeedHeader.react"),{hasBackButton:!1,text:o})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisGenericVirtualFeedConstants",[],(function(a,b,c,d,e,f){"use strict";a=800;b=1;c=3;d=1;e=10;var g=250;f.FEED_ESTIMATED_HEIGHT=a;f.FEED_INITIAL_RENDER_COUNT=b;f.FEED_OVERSCAN=c;f.FEED_NEXT_PAGE_THRESHOLD=d;f.PREFETCH_FEED_NEXT_PAGE_THRESHOLD=e;f.FEED_THROTTLE_TIME=g}),66);
__d("PolarisGenericVirtualFeed.react",["cx","PolarisGenericVirtualFeedConstants","PolarisIGCoreSpinner","PolarisLogger","PolarisPrioritizedTask","PolarisScrollWatcher","PolarisSizeCache","PolarisVirtualizedWithScrollLogging.react","Polaristhrottle","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=new(c("PolarisSizeCache"))({estimatedSize:d("PolarisGenericVirtualFeedConstants").FEED_ESTIMATED_HEIGHT});b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=i.createRef(),e.$2=c("Polaristhrottle")(function(a){var b=a.numScreensFromEnd;a=a.numItemsFromEnd;var f=e.props,g=f.enablePrefetch,h=f.enablePriorityFetching,i=f.hasNextPage,j=f.isFetching,k=f.nextPageThreshold,l=f.onNextPage,m=f.prefetchNextPageThreshold;f=f.prefetchUsingItemDistance;f===!0?f=a:f=b;a=c("qex")._("190")===!0?c("PolarisScrollWatcher").hasScrolled():!0;i&&!j&&a&&(f<=k?(d("PolarisLogger").logAction("loadMoreScroll"),l(h?{priority:d("PolarisPrioritizedTask").HIGH_PRIORITY}:void 0)):g&&f<=m&&(d("PolarisLogger").logAction("loadMoreScroll"),l(h?{priority:d("PolarisPrioritizedTask").LOW_PRIORITY}:void 0)))},d("PolarisGenericVirtualFeedConstants").FEED_THROTTLE_TIME),b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this.props,c=b.items;b=b.visibleCount;a.visibleCount===b&&a.items!==c&&this.$1.current&&this.$1.current.forceUpdate()};e.$3=function(){return!this.props.hasNextPage&&!this.props.isFetching?null:i.jsx("div",{className:"_aalg",children:i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})})};e.render=function(){var a=this.props,b=a.allowSampledScrollLogging,c=a.analyticsContext,e=a.className,f=a["data-testid"];f=a.initialRenderCount;var g=a.overscanCount,h=a.overscanCountBeforeScroll,j=a.renderFeedItem,k=a.sizeCache;a=a.visibleCount;return i.jsxs(i.Fragment,{children:[i.jsx(d("PolarisVirtualizedWithScrollLogging.react").IGVirtualListWithLogging,{allowSampledScrollLogging:b,analyticsContext:c,className:e,"data-testid":void 0,estimatedItemSize:d("PolarisGenericVirtualFeedConstants").FEED_ESTIMATED_HEIGHT,initialRenderCount:f,itemCount:a,onScroll:this.$2,overscanCount:g,overscanCountBeforeScroll:h,ref:this.$1,renderer:j,sizeCache:k}),this.$3()]})};return b}(i.PureComponent);b.defaultProps={allowSampledScrollLogging:!1,initialRenderCount:d("PolarisGenericVirtualFeedConstants").FEED_INITIAL_RENDER_COUNT,nextPageThreshold:d("PolarisGenericVirtualFeedConstants").FEED_NEXT_PAGE_THRESHOLD,prefetchNextPageThreshold:d("PolarisGenericVirtualFeedConstants").PREFETCH_FEED_NEXT_PAGE_THRESHOLD,sizeCache:a,overscanCount:d("PolarisGenericVirtualFeedConstants").FEED_OVERSCAN};g["default"]=b}),98);
__d("PolarisFeedActionRemovePostFromFeed",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{postId:a,type:"FEED_REMOVE_POST"}}f.removePostFromFeed=a}),66);
__d("PolarisAPIUnhidePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.postId,c=a.reason;a=a.inventorySource;return d("PolarisInstapi").apiPost("/api/v1/discover/explore_report_undo/",{body:{container_module:"feed_timeline",inventory_source:a,m_pk:b,selected_reason:c,sfplt_source:"sfplt_in_menu"}}).then(function(a){return a.data})}g.unhidePost=a}),98);
__d("PolarisPostActionUnhidePost",["PolarisAPIUnhidePost","PolarisMonitorErrors","PolarisODS","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.postId,f=a.reason,g=a.inventorySource;return function(a){return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.prev=0;h.next=3;return b("regeneratorRuntime").awrap(d("PolarisAPIUnhidePost").unhidePost({postId:e,reason:f,inventorySource:g}));case 3:c("PolarisODS").incr("web.unhide_post.succeeded");a({type:"UNHIDE_POST_SUCCEEDED",postId:e});h.next=11;break;case 7:h.prev=7,h.t0=h["catch"](0),c("PolarisODS").incr("web.unhide_post.failed"),d("PolarisMonitorErrors").logError(h.t0);case 11:case"end":return h.stop()}},null,this,[[0,7]])}}g.unhidePost=a}),98);
__d("PolarisRelationshipActionMuteUserPosts",["PolarisRelationshipActionMuteOrUnmuteUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisRelationshipActionMuteOrUnmuteUser").muteOrUnmuteUser(a,{mutePosts:!0},b)}g.muteUserPosts=a}),98);
__d("PolarisRelationshipActionMuteUserPostsAndStory",["PolarisRelationshipActionMuteOrUnmuteUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisRelationshipActionMuteOrUnmuteUser").muteOrUnmuteUser(a,{mutePosts:!0,muteStory:!0},b)}g.muteUserPostsAndStory=a}),98);
__d("PolarisRelationshipStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._("Mute {username}",[h._param("username",a)])}function b(a){return h._("Unfollow {username}",[h._param("username",a)])}function c(a){return h._("Mute {username}?",[h._param("username",a)])}d=h._("You can unmute them from their profile. Instagram won't let them know you muted them.");e=h._("Mute posts");f=h._("Mute posts and story");var i=h._("Posts muted"),j=h._("Posts and story muted"),k=h._("Unfollowed");g.muteUserText=a;g.unfollowUserText=b;g.muteDialogTitle=c;g.MUTE_DIALOG_BODY=d;g.MUTE_POSTS_BUTTON=e;g.MUTE_POSTS_AND_STORY_BUTTON=f;g.MUTED_POST_TOAST=i;g.MUTED_POSTS_AND_STORY_TOAST=j;g.UNFOLLOWED_TOAST=k}),98);
__d("PolarisPostHiddenUnit.react",["fbt","CometPlaceholder.react","IGCoreDialog","JSResource","PolarisConnectionsLogger","PolarisFeedActionRemovePostFromFeed","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreCircleCheckPanoOutlineIcon","PolarisIGCoreDivider","PolarisIGCoreSpinner","PolarisIGCoreText","PolarisODS","PolarisPostActionHidePost","PolarisPostActionUnhidePost","PolarisReactRedux","PolarisRelationshipActionMuteUserPosts","PolarisRelationshipActionMuteUserPostsAndStory","PolarisRelationshipActionUnfollowUser","PolarisRelationshipStrings","PolarisToastActions","PolarisUA","PolarispostSelectors","PolarisuserSelectors","isStringNullOrEmpty","lazyLoadComponent","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=c("JSResource")("PolarisPostFastReportModal.react").__setRef("PolarisPostHiddenUnit.react"),m=c("lazyLoadComponent")(l);function n(a){var b=a.color,d=a.loading;d=d===void 0?!1:d;var e=a.onClick;a=a.title;return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreDivider"),{}),i.jsx(c("PolarisIGCoreButton"),{borderless:!0,fullWidth:!0,onClick:e,children:i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",minHeight:40,width:"100%",children:d?i.jsx(c("PolarisIGCoreSpinner"),{size:"small"}):i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:b,children:a})})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.isVisible;b=b===void 0?!1:b;var e=a.onClose,f=a.ownerId,g=a.postId;a=a.title;var h=d("PolarisReactRedux").useDispatch();j(function(){c("PolarisODS").incr("web.feed.post_controls.mute_dialog.show")},[]);return i.jsxs(d("IGCoreDialog").IGCoreDialog,{isVisible:b,onModalClose:function(){c("PolarisODS").incr("web.feed.post_controls.mute_dialog.close"),e()},title:a,children:[i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",marginBottom:6,paddingX:6,children:i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",textAlign:"center",children:d("PolarisRelationshipStrings").MUTE_DIALOG_BODY})}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:function(){c("PolarisODS").incr("web.feed.post_controls.mute_dialog.mute_posts_click"),h(d("PolarisRelationshipActionMuteUserPosts").muteUserPosts(f,function(){h(d("PolarisFeedActionRemovePostFromFeed").removePostFromFeed(g)),h(d("PolarisToastActions").showToast({text:d("PolarisRelationshipStrings").MUTED_POST_TOAST}))})),e()},children:d("PolarisRelationshipStrings").MUTE_POSTS_BUTTON}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){c("PolarisODS").incr("web.feed.post_controls.mute_dialog.mute_posts_and_story_click"),h(d("PolarisRelationshipActionMuteUserPostsAndStory").muteUserPostsAndStory(f,function(){h(d("PolarisFeedActionRemovePostFromFeed").removePostFromFeed(g)),h(d("PolarisToastActions").showToast({text:d("PolarisRelationshipStrings").MUTED_POSTS_AND_STORY_TOAST}))})),e()},children:i.jsx(c("PolarisIGCoreText").Body,{color:"ig-error-or-destructive",children:d("PolarisRelationshipStrings").MUTE_POSTS_AND_STORY_BUTTON})}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){c("PolarisODS").incr("web.feed.post_controls.mute_dialog.mute_cancel_click"),e()},children:d("PolarisGenericStrings").CANCEL_TEXT})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.username,e=a.ownerId,f=a.postId,g=d("PolarisReactRedux").useDispatch();a=k(!1);var h=a[0],j=a[1];a=k(!1);var l=a[0],m=a[1];a=k(!1);var p=a[0],q=a[1];return i.jsxs(i.Fragment,{children:[i.jsx(n,{color:"ig-primary-text",onClick:function(){c("PolarisODS").incr("web.feed.post_controls.hidden_post.mute_user_click"),j(!0)},title:d("PolarisRelationshipStrings").muteUserText(b)}),i.jsx(n,{color:"ig-primary-text",loading:p,onClick:function(){q(!0),c("PolarisODS").incr("web.feed.post_controls.hidden_post.unfollow_user_click"),g(d("PolarisRelationshipActionUnfollowUser").unfollowUser(e,d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.hidden_post_unit,{},function(){g(d("PolarisFeedActionRemovePostFromFeed").removePostFromFeed(f)),g(d("PolarisToastActions").showToast({text:d("PolarisRelationshipStrings").UNFOLLOWED_TOAST}))}))},title:d("PolarisRelationshipStrings").unfollowUserText(b)}),i.jsx(n,{color:"ig-primary-button",loading:l,onClick:function(){c("PolarisODS").incr("web.feed.post_controls.hidden_post.undo_click"),m(!0),g(d("PolarisPostActionUnhidePost").unhidePost({postId:f,inventorySource:"media_or_ad"}))},title:d("PolarisGenericStrings").UNDO_TEXT}),h&&i.jsx(o,{isVisible:h,onClose:function(){return j(!1)},ownerId:e,postId:f,title:d("PolarisRelationshipStrings").muteDialogTitle(b)})]})}function q(a){var b=a.postId,e=a.followupOptions,f=a.selectedReason,g=a.setDemotionControl,h=a.setSelectedReason,o=d("PolarisReactRedux").useDispatch();a=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getPostById(a,b)});var p=k(!1),q=p[0],r=p[1];p=k(!1);var s=p[0],t=p[1];j(function(){l.preload()},[]);return i.jsxs(i.Fragment,{children:[e==null?void 0:e.map(function(a){var e=a.id,f=e==="report";return i.jsx(n,{color:f?"ig-error-or-destructive":"ig-primary-text",onClick:function(){f?(c("PolarisODS").incr("web.feed.post_controls.hidden_post.report_click"),t(!0)):(c("PolarisODS").incr("web.feed.post_controls.hidden_post.unconnected_demote_click"),o(d("PolarisPostActionHidePost").hidePost({postId:b,reason:e,inventorySource:"explore_story",onSuccess:function(){g(a.demotion_control),h(e)}})))},title:a.text},e)}),i.jsx(n,{color:"ig-primary-button",loading:q,onClick:function(){c("PolarisODS").incr("web.feed.post_controls.hidden_post.undo_click"),r(!0),o(d("PolarisPostActionUnhidePost").unhidePost(babelHelpers["extends"]({postId:b,inventorySource:"explore_story"},f!=null?{reason:f}:{})))},title:d("PolarisGenericStrings").UNDO_TEXT}),s===!0&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,{onClose:function(){return t(!1)},post:a})})]})}function a(a){var b=a.id;a=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getPostById(a,b)});var e=c("nullthrows")(a.owner).id,f=d("PolarisReactRedux").useSelector(function(a){return d("PolarisuserSelectors").getUserById(a,e)});j(function(){c("PolarisODS").incr("web.feed.post_controls.hidden_post.show")},[]);var g=a.feedDemotionControl;a=a.feedRecsDemotionControl;var l=g!=null;g=k((g=g)!=null?g:a);a=g[0];g=g[1];var m=k(null),n=m[0];m=m[1];if(a==null)return null;var o=a==null?void 0:a.confirmation_icon,r=a==null?void 0:a.confirmation_title,s=a==null?void 0:a.confirmation_body,t=function(){if(!c("isStringNullOrEmpty")(f==null?void 0:f.username))return f==null?void 0:f.username;else return h._("user")}();t=l?i.jsx(p,{ownerId:e,postId:b,username:t}):i.jsx(q,{followupOptions:a==null?void 0:a.followup_options,postId:b,selectedReason:n,setDemotionControl:g,setSelectedReason:m});return i.jsxs("div",{className:"x6s0dn4 xl56j7k xh8yej3"+(d("PolarisUA").isDesktop()?" xvbhtw8 x1wzhzgj xvb8j5 x13zqm9e x1oeynoz x1lq5wgf xgqcy7u x30kzoy x9jhf4c xod5an3":" xnz67gz"),children:[i.jsxs(c("PolarisIGCoreBox"),{marginTop:6,children:[(l||o==="checkmark")&&i.jsx(c("PolarisIGCoreBox"),{alignContent:"center",alignItems:"center",marginBottom:6,children:i.jsx(c("PolarisIGCoreCircleCheckPanoOutlineIcon"),{alt:d("PolarisGenericStrings").CHECKMARK_OUTLINE_ICON_ALT,color:"ig-success",size:48})}),r!=null&&r!==""&&i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",marginBottom:4,paddingX:8,children:i.jsx(c("PolarisIGCoreText").LabelEmphasized,{color:"ig-primary-text",textAlign:"center",children:r})}),i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",marginBottom:6,paddingX:8,children:i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",textAlign:"center",children:s})})]}),t]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVirtualFeed.react",["JSResourceForInteraction","PolarisAsyncComponent","PolarisEndOfFeedDemarcator.react","PolarisErrorBoundaryWithHoldout.react","PolarisFeedState","PolarisGenericVirtualFeed.react","PolarisPanavisionQEHelpers","PolarisPost.react","PolarisPostHiddenUnit.react","PolarisPostVariants","PolarisQEHelper","PolarisSponsoredPost.react","PolarisStoriesStrings","Polarisunexpected","qex","react","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("PolarisAsyncComponent").createAsyncComponent_DEPRECATED({displayName:"SuggestedUserFeedUnit",resolve:function(){return c("JSResourceForInteraction")("PolarisSuggestedUserFeedUnit.react").__setRef("PolarisVirtualFeed.react").load().then(function(a){return c("xigRequireInterop")(a)})}}),j=d("PolarisAsyncComponent").createAsyncComponent_DEPRECATED({displayName:"InFeedStoryTray",resolve:function(){return c("JSResourceForInteraction")("PolarisInFeedStoryTray.react").__setRef("PolarisVirtualFeed.react").load().then(function(a){return c("xigRequireInterop")(a)})}});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),k=0;k<f;k++)g[k]=arguments[k];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){var b=a.index,f=a.isVisible;a=a.visibleIndex;var g=e.props,k=g.analyticsContext,l=g.hiddenItemIds,m=g.itemClassName,n=g.items,o=g.onPostImpression;g=g.adItemsIds;var p=n.get(b);if(p==null){c("Polarisunexpected")("no item at index="+b+", size="+n.size);return null}switch(p.type){case"GraphImage":case"GraphVideo":case"GraphSidecar":if((l==null?void 0:l.includes(p.postId))&&(d("PolarisPanavisionQEHelpers").hasDemoteControl()||d("PolarisPanavisionQEHelpers").hasDemoteControlUnconnectedFeed()))return h.jsx(c("PolarisPostHiddenUnit.react"),{id:p.postId},p.postId);else return g&&g.has(p.postId)?h.jsx(c("PolarisSponsoredPost.react"),{analyticsContext:k,autoplay:d("PolarisQEHelper").isLoggedInDesktop(),className:m,id:p.postId,isVisible:f,onImpression:o,position:b,variant:d("PolarisPostVariants").VARIANTS.feed,visiblePosition:a},p.postId):h.jsx(c("PolarisPost.react"),{analyticsContext:k,autoplay:d("PolarisQEHelper").isLoggedInDesktop(),className:m,id:p.postId,isVisible:f,onImpression:o,position:b,variant:d("PolarisPostVariants").VARIANTS.feed,visiblePosition:a},p.postId);case"GraphSuggestedUserFeedUnit":return h.jsx(c("PolarisErrorBoundaryWithHoldout.react"),{children:h.jsx(i,{aysfUserIds:p==null?void 0:(n=p.userIds)==null?void 0:n.toArray(),className:m,position:b,trackingToken:p.trackingInfo.token,type:p.trackingInfo.type,variant:e.props.variant})},b);case"GraphStoriesInFeedItem":return h.jsx(c("PolarisErrorBoundaryWithHoldout.react"),{children:h.jsx(j,{className:m,filteringTag:p.filteringTag,hideUnitIfSeen:p.hideUnitIfSeen,title:(l=p.title)!=null?l:d("PolarisStoriesStrings").STORIES_TRAY_IN_FEED_UNIT_TITLE})},(g=p.trackingToken)!=null?g:"feed_stories");case d("PolarisFeedState").END_OF_FEED_DEMARCATOR_TYPE:return h.jsx(c("PolarisEndOfFeedDemarcator.react"),{className:m,subtitle:p.subtitle,title:p.title},p.id);default:c("Polarisunexpected")("unexpected feed item type: "+p.type);return null}},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a;a=(a=c("qex")._("109"))!=null?a:this.props.prefetchNextPageThreshold;return h.jsx(c("PolarisGenericVirtualFeed.react"),{allowSampledScrollLogging:this.props.allowSampledScrollLogging,analyticsContext:this.props.analyticsContext,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:this.props.hasNextPage,initialRenderCount:this.props.initialRenderCount,isFetching:this.props.isFetching,items:this.props.items,onNextPage:this.props.onNextPage,overscanCount:this.props.overscanCount,overscanCountBeforeScroll:this.props.overscanCountBeforeScroll,prefetchNextPageThreshold:a,prefetchUsingItemDistance:c("qex")._("110")===!0,renderFeedItem:this.$1,visibleCount:this.props.visibleCount})};return b}(h.PureComponent);g["default"]=a}),98);
__d("PolarisMediaChainingPage.react",["cx","PolarisConditionalPageLayoutHandler.react","PolarisDiscoverChainingActionConstants","PolarisExploreStrings","PolarisFooter.react","PolarisGenericMobileHeader.react","PolarisMediaImpressionsLogger","PolarisMediaPrefetchContainer.react","PolarisNavBackButton.react","PolarisPageMetadata.react","PolarisPostLoadingShimmer.react","PolarisPostVariants","PolarisShell","PolarisSizing","PolarisUA","PolarisVirtualFeed.react","hero-tracing-placeholder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="mediaChaining";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=function(){c.props.onFetchNext(c.$1)},c.$2=function(){return c.props.items.size===0?"emptyMediaChainingPage":"discoverMediaChainingPage"},c.$3=function(a){d("PolarisMediaImpressionsLogger").logImpressionForPost(a,j)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.props.onFetchFirstLoad()};e.$4=function(){var a=this.props.items.map(function(a){return a.postId}).toArray();return i.jsx(c("PolarisMediaPrefetchContainer.react"),{postIds:a,viewKey:d("PolarisDiscoverChainingActionConstants").DISCOVER_CHAINING_VIEW})};e.$5=function(){return!this.props.items.size?i.jsx(c("PolarisPostLoadingShimmer.react"),{inFeed:!0}):i.jsx(c("PolarisVirtualFeed.react"),{analyticsContext:j,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,itemClassName:"_aa08",items:this.props.items,onNextPage:this.$1,onPostImpression:this.$3,variant:this.props.viewportWidth>=d("PolarisSizing").SITE_WIDTHS.narrow?d("PolarisPostVariants").VARIANTS.wide:d("PolarisPostVariants").VARIANTS.narrow,visibleCount:this.props.visibleCount})};e.$6=function(){return i.jsxs(i.Fragment,{children:[this.$5(),this.$4()]})};e.render=function(){var a=this.props.items.size===0,b=this.$2(),e=i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisPageMetadata.react"),{id:b}),i.jsx("section",{className:"_aa09 _aa0a",children:this.$6()}),i.jsx(d("hero-tracing-placeholder").HeroHoldTrigger,{description:"MediaChainingPage",hold:this.props.isFetching})]});a=i.jsx(c("PolarisShell"),{footerVariant:d("PolarisUA").isMobile()?c("PolarisFooter.react").VARIANTS.slim:c("PolarisFooter.react").VARIANTS.centered,maxWidth:d("PolarisUA").isMobile()||!a?d("PolarisSizing").SITE_WIDTHS.narrow:d("PolarisSizing").SITE_WIDTHS.wide,mobileHeader:i.jsx(c("PolarisGenericMobileHeader.react"),{leftActions:i.jsx(c("PolarisNavBackButton.react"),{analyticsContext:b}),title:d("PolarisExploreStrings").EXPLORE_TEXT}),pageIdentifier:b,children:e});return c("PolarisConditionalPageLayoutHandler.react")!=null?i.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:a}):a};return b}(i.Component);g["default"]=a}),98);
__d("PolarisDiscoverChainingActions",["PolarisDiscoverChainingActionConstants","PolarisDiscoverLogger","PolarisGenericStrings","PolarisLogger","PolarisPaginationUtils"],(function(a,b,c,d,e,f,g){"use strict";e="110b665208c5116ff70b1509c767633e";function h(a){return{actionHandler:a,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT}}var i=d("PolarisPaginationUtils").generatePaginationActionCreators({pageSize:d("PolarisDiscoverChainingActionConstants").PAGE_SIZE,pagesToPreload:0,getState:function(a){return a.discoverChaining.pagination},queryId:e,queryParams:function(a){return{media_id:a,surface:"WEB_EXPLORE_MEDIA_GRID"}},onUpdate:function(a,b,c){a.type!==d("PolarisPaginationUtils").FETCH_NOOP&&d("PolarisLogger").logAction("discoverPostsLoaded");b=b==null?void 0:(c=b.user)==null?void 0:c.edge_web_media_chaining;return{type:"DISCOVER_CHAINING_POSTS_LOADED",posts:((b==null?void 0:b.edges)||[]).map(function(a){return a==null?void 0:a.node}),pageInfo:b==null?void 0:b.page_info,fetch:a}},onError:function(a,b,c,e){d("PolarisLogger").logAction("discoverPostsLoadFailed");d("PolarisDiscoverLogger").logDiscoverPostLoadFailure(a);return{type:"DISCOVER_CHAINING_POSTS_LOAD_FAILED",fetch:b,toast:e?h(e):void 0}}});f=i;function a(a){d("PolarisLogger").logAction("discoverFirstLoadAttempt");return function(b,c){var d=c().discoverChaining.orderedPosts.first();d&&d.postId!==a&&b({type:"DISCOVER_CHAINING_REFRESH"});i.first(a)(b,c)}}function b(a,b){d("PolarisLogger").logAction("discoverNextLoadAttempt");return i.next(a,b)}function c(){return{type:"DISCOVER_CHAINING_REFRESH"}}g._actionCreators=f;g.requestDiscoverChainingPosts=a;g.requestNextDiscoverChainingPosts=b;g.refreshDiscoverChaining=c}),98);
__d("PolarisMediaChainingPageContainer",["PolarisDiscoverChainingActions","PolarisMediaChainingPage.react","PolarisPaginationUtils","PolarisReactRedux","PolarispostSelectors","immutable-4.0.0-rc.9"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.discoverChaining,e=c.orderedPosts;c=c.pagination;var f=e,g=d("PolarisPaginationUtils").getVisibleCount(c),h=!!d("PolarisPaginationUtils").hasNextPage(c);d("PolarispostSelectors").getPostOrNullById(a,b.mediaId)!=null&&(e.isEmpty()?(f=d("immutable-4.0.0-rc.9").List.of({postId:b.mediaId,type:b.mediaType}),g=1,h=!0):f.find(function(a){return a.postId===b.mediaId})||(f=d("immutable-4.0.0-rc.9").List.of({postId:b.mediaId,type:b.mediaType}).concat(f),g++));return{items:f,visibleCount:g,hasNextPage:h,isFetching:d("PolarisPaginationUtils").isFetching(c),viewportWidth:a.displayProperties.viewportWidth}}function b(a,b){return{onFetchFirstLoad:function(){a(d("PolarisDiscoverChainingActions").requestDiscoverChainingPosts(b.mediaId))},onFetchNext:function(c){a(d("PolarisDiscoverChainingActions").requestNextDiscoverChainingPosts(b.mediaId,c))}}}e=d("PolarisReactRedux").connect(a,b)(c("PolarisMediaChainingPage.react"));g["default"]=e}),98);
__d("PolarisKeywordSearchExploreChainedPost.react",["PolarisPost.react","PolarisPostActionLoadPost","PolarisPostLoadingShimmer.react","PolarisPostVariants","PolarisQEHelper","PolarisReactRedux","PolarispostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.analyticsContext,e=a.index,f=a.isVisible,g=a.postCode,j=a.postId;a=a.visibleIndex;var k=d("PolarisReactRedux").useDispatch(),l=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getPostById(a,j)}),m=l!=null,n=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getIsPostFetching(a,g)});i(function(){m||(n||k(d("PolarisPostActionLoadPost").loadPost(g,j)))},[m,g,k,n,j]);return m?h.jsx(c("PolarisPost.react"),{analyticsContext:b,autoplay:d("PolarisQEHelper").isLoggedInDesktop(),id:j,isVisible:f,position:e,variant:d("PolarisPostVariants").VARIANTS.feed,visiblePosition:a},j):h.jsx(c("PolarisPostLoadingShimmer.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisKeywordSearchExploreHooks",["PolarisDynamicExploreActions","PolarisDynamicExploreTypes","PolarisReactRedux","PolarisdynamicExploreSelectors"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("PolarisReactRedux").useDispatch(),c=d("PolarisReactRedux").useSelector(function(b){return d("PolarisdynamicExploreSelectors").getSupportedSectionalItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)}),e=function e(){c.length===0&&b(d("PolarisDynamicExploreActions").requestKeywordExploreGrid({keyword:a,retryHandler:e}))};return[c,e]}function b(a){var b,c=d("PolarisReactRedux").useDispatch(),e=(b=d("PolarisReactRedux").useSelector(function(b){return(b=b.dynamicExplore.keywordExploreGrid.get(a))==null?void 0:b.pagination}))!=null?b:{};b=function b(){c(d("PolarisDynamicExploreActions").requestKeywordExploreGrid({cursor:e.cursor,keyword:a,rankToken:e.rankToken,retryHandler:b}))};return[e,b]}function c(a){return d("PolarisReactRedux").useSelector(function(b){return d("PolarisdynamicExploreSelectors").getGridItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)})}g.useKeywordExploreSectionalItems=a;g.useKeywordExplorePagination=b;g.useKeywordExploreGridItems=c}),98);
__d("PolarisKeywordSearchExploreChainingPage.react",["PolarisConditionalPageLayoutHandler.react","PolarisDynamicExploreMediaHelpers","PolarisGenericMobileHeader.react","PolarisGenericVirtualFeed.react","PolarisKeywordSearchExploreChainedPost.react","PolarisKeywordSearchExploreHooks","PolarisNavBackButton.react","PolarisPageMetadata.react","PolarisReactRedux","PolarisShell","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function j(a,b){return a.map(function(a){return{postId:d("PolarisDynamicExploreMediaHelpers").getPostId(a),postCode:d("PolarisDynamicExploreMediaHelpers").getPostCode(a)}})}function a(a){var b=a.keyword,e=a.mediaPostCode,f="KeywordSearchExploreChainingPage";a=d("PolarisReactRedux").useDispatch();var g=d("PolarisKeywordSearchExploreHooks").useKeywordExploreSectionalItems(b);g[0];g=g[1];i(g,[a,b]);g=d("PolarisKeywordSearchExploreHooks").useKeywordExploreGridItems(b);var k=j(g,e);if(k.length>0){a=k.findIndex(function(a){return a.postCode===e});k=k.slice(a,k.length)}g=d("PolarisKeywordSearchExploreHooks").useKeywordExplorePagination(b);a=g[0];g=g[1];var l=function(a){var b=a.index,d=a.isVisible;a=a.visibleIndex;var e=k[b];return h.jsx(c("PolarisKeywordSearchExploreChainedPost.react"),{analyticsContext:f,index:b,isVisible:d,postCode:e.postCode,postId:e.postId,visibleIndex:a},e.postId)};b=h.jsxs(c("PolarisShell"),{mobileHeader:h.jsx(c("PolarisGenericMobileHeader.react"),{leftActions:h.jsx(c("PolarisNavBackButton.react"),{analyticsContext:f}),title:b}),pageIdentifier:f,children:[h.jsx(c("PolarisPageMetadata.react"),{id:f}),h.jsx(c("PolarisGenericVirtualFeed.react"),{allowSampledScrollLogging:!0,analyticsContext:f,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:a.moreAvailable,isFetching:a.isLoading,items:k,onNextPage:g,renderFeedItem:l,visibleCount:k.length})]});return c("PolarisConditionalPageLayoutHandler.react")!=null?h.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostActionLoadPostPageExtras",["PolarisAPIQuery","PolarisStoryAPIActions","PolarispostSelectors","Polarisunexpected","nullthrows","qex","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="6ff3f5c474a240353993056428fb851e";function a(a,e){return function(f,g){var i,j,k,l,m,n,o,p,q,r,s,t;return b("regeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:u.prev=0;j=g();k=d("PolarispostSelectors").getPostById(j,a);l=c("nullthrows")((i=k.owner)==null?void 0:i.id);if(!(c("qex")._("1823")===!0)){u.next=15;break}m=[];if(!e.fetchReel){u.next=12;break}u.next=9;return b("regeneratorRuntime").awrap(d("PolarisStoryAPIActions").fetchReelsMedia([l]));case 9:n=u.sent,o=n.reels,m=[].concat(Object.keys(o).map(function(a){return o[a]}));case 12:f({type:"POST_PAGE_EXTRAS_LOADED_V2",reels:m});u.next=21;break;case 15:u.next=17;return b("regeneratorRuntime").awrap(d("PolarisAPIQuery").query(h,{shortcode:k.code,include_reel:e.fetchReel,include_logged_out:e.fetchLoggedOutExtras}));case 17:s=u.sent;t=s.data;f({type:"POST_PAGE_EXTRAS_LOADED",reel:t==null?void 0:(p=t.shortcode_media)==null?void 0:(q=p.owner)==null?void 0:q.reel,updatedUser:t==null?void 0:(r=t.shortcode_media)==null?void 0:r.owner});return u.abrupt("return");case 21:u.next=26;break;case 23:u.prev=23,u.t0=u["catch"](0),c("Polarisunexpected")(u.t0);case 26:case"end":return u.stop()}},null,this,[[0,23]])}}g.loadPostPageExtras=a}),98);
__d("PolarisAPIGetRelatedInterestMedia",["PolarisInstapi","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiPost("/api/v1/lox/discovery_module/related_interest_on_logged_out/",{body:a}));case 2:c=e.sent;return e.abrupt("return",c.data);case 4:case"end":return e.stop()}},null,this)}g.getRelatedInterestMedia=a}),98);
__d("PolarisRelatedInterestMediaActions",["PolarisAPIGetRelatedInterestMedia","PolarisgetPostFromMediaDict","PolarisgetUserFromUserDict","PolarisnormalizeMediaDicts","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=null);return function(e){var f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:e({seedPostId:a,type:"RELATED_INTEREST_MEDIA_LOADING"});k.prev=1;h={seed_media_id:a};k.next=5;return b("regeneratorRuntime").awrap(d("PolarisAPIGetRelatedInterestMedia").getRelatedInterestMedia(h));case 5:i=k.sent;j=d("PolarisnormalizeMediaDicts").normalizeMediaDicts(i.items.concat()).entities;f=Object.keys(j.mediaDicts).map(function(a){return d("PolarisgetPostFromMediaDict").getPostFromMediaDict(j.mediaDicts[a])});g=Object.keys(j.userDicts).map(function(a){return c("PolarisgetUserFromUserDict")(j.userDicts[a])});k.next=14;break;case 11:k.prev=11;k.t0=k["catch"](1);return k.abrupt("return",e({seedPostId:a,type:"RELATED_INTEREST_MEDIA_FAILED"}));case 14:return k.abrupt("return",e({type:"RELATED_INTEREST_MEDIA_LOADED",seedPostId:a,posts:f,users:g}));case 15:case"end":return k.stop()}},null,this,[[1,11]])}}g.requestRelatedInterestMedia=a}),98);
__d("PolarisRelatedInterestMediaSelectors",["PolarisRelatedInterestMediaReducer","PolariscreateSelectorWithArg"],(function(a,b,c,d,e,f,g){"use strict";a=c("PolariscreateSelectorWithArg")(function(a){return a.relatedInterestMedia.byPostId},function(a){return function(b){b=a.get(b,d("PolarisRelatedInterestMediaReducer").INITIAL_RELATED_POSTS_STATE);b=b.postIds;return b.toArray()}});g.getAllRelatedPostsIdsForPostId=a}),98);
__d("PolarisgetTitleForPost",["fbt","PolarisStringUtils","PolarisformatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i="\u2026",j=140,k="M j, Y",l="g:i A",m=/,? +/;function a(a,b){var e=c("PolarisformatDate")(a.postedAt,k),f=c("PolarisformatDate")(a.postedAt,l);e=h._("{date} at {time}",[h._param("date",e),h._param("time",f)]);f=d("PolarisStringUtils").truncate((f=a.caption)!=null?f:"",{maxLength:j,omission:i,preferredCutoff:m});if(f&&b.fullName!=null&&b.fullName!=="")return h._("{fullName} on Instagram: \u201c{caption}\u201d",[h._param("fullName",b.fullName),h._param("caption",f)]);else if(f)return h._("\u0040{username} on Instagram: \u201c{caption}\u201d",[h._param("username",b.username),h._param("caption",f)]);else if(a.isVideo===!0&&b.fullName!=null&&b.fullName!=="")return h._("Instagram video by {fullName} \u2022 {datetime}",[h._param("fullName",b.fullName),h._param("datetime",e)]);else if(b.fullName!=null&&b.fullName!=="")return h._("Instagram photo by {fullName} \u2022 {datetime}",[h._param("fullName",b.fullName),h._param("datetime",e)]);else if(a.isVideo===!0)return h._("Instagram video by \u0040{username} \u2022 {datetime}",[h._param("username",b.username),h._param("datetime",e)]);return h._("Instagram photo by \u0040{username} \u2022 {datetime}",[h._param("username",b.username),h._param("datetime",e)])}g["default"]=a}),98);
__d("PolarisLoggedOutExploreModuleActions",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.userId,c=a.postId,d=a.onModuleLoadFailed;return function(a){a({type:"LOGGED_OUT_EXPLORE_MODULE_LOADING",postId:c});return h(b,c).then(function(b){a({type:"LOGGED_OUT_EXPLORE_MODULE_LOADED",postId:c,interestMedia:b.interest_medias,media:b.interest_medias.reduce(function(a,b){b.medias!=null&&a.push.apply(a,b.medias);return a},[])})})["catch"](function(b){a({type:"LOGGED_OUT_EXPLORE_MODULE_LOAD_FAILED",postId:c}),d!=null&&d()})}}function h(a,b){return d("PolarisInstapi").apiGet("/api/v1/media/get_related_interest_media_logged_out/",{query:{author_id:a,media_id:b}}).then(function(a){return a.data})}g.getExploreModule=a}),98);
__d("PolarisLoggedOutExploreModuleOverlay.react",["IGDSBox.react","IGDSText.react","PolarisGenericStrings","PolarisIGCoreConstants","PolarisIGCoreReelsFilledIcon","PolarisIGCoreVerifiedIcon","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{position:"x10l6tqk",bottom:"x1ey2m1c",start:"x17qophe",end:"xds687c",top:"x13vifvy",zIndex:"x1vjfegm",textShadow:"xyqnb4c",pointerEvents:"x47corl",backgroundImage:"xeyqdor",$$css:!0},content:{paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},icon:{paddingTop:"xm7lytj",paddingEnd:"x2qib4z",paddingBottom:"x1ykpatu",paddingStart:"xcu9agk",$$css:!0}};function a(a){var b=a.isClips,e=a.isVerified,f=a.profilePicUrl;a=a.username;return a!=null?h.jsxs("div",{className:"x10l6tqk x1ey2m1c x17qophe xds687c x13vifvy x1vjfegm xyqnb4c x47corl xeyqdor",children:[b===!0&&h.jsx(c("IGDSBox.react"),{alignItems:"end",width:"100%",xstyle:i.icon,children:h.jsx(c("PolarisIGCoreReelsFilledIcon"),{alt:d("PolarisGenericStrings").REEL_ICON_ALT,color:"web-always-white",shadow:!0,size:18})}),h.jsxs(c("IGDSBox.react"),{alignItems:"center",bottom:!0,direction:"row",position:"absolute",width:"100%",xstyle:i.content,children:[f!=null&&h.jsx(c("IGDSBox.react"),{marginEnd:1,children:h.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:f,size:c("PolarisIGCoreConstants").AVATAR_SIZES.extraSmall,username:a})}),h.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",maxLines:1,size:"footnote",weight:"semibold",children:a}),e===!0&&h.jsx(c("IGDSBox.react"),{marginStart:1,children:h.jsx(c("PolarisIGCoreVerifiedIcon"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,color:"web-always-white",shadow:!0,size:12})})]})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLoggedOutExploreModuleCardItem.react",["FastLink","IGDSBox.react","PolarisLinkBuilder","PolarisLoggedOutExploreModuleOverlay.react","PolarisMediaHelpers","PolarisPhoto.react","PolarisgetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.dimensions,f=a.media;a=a.onCardClick;var g=d("PolarisMediaHelpers").getImageSrcSet(d("PolarisMediaHelpers").getImageCandidatesFromMediaItem(f));b=g==null?void 0:(b=g[0])==null?void 0:b.src;var i=f.code,j=d("PolarisgetPostFromGraphMediaInterface").isClipsProductType(f.product_type);b=h.jsx(c("PolarisPhoto.react"),{accessibilityCaption:f.accessibility_caption,dimensions:e,rich:!0,src:b,srcSet:g});return h.jsxs(c("IGDSBox.react"),{height:e.height,position:"relative",width:e.width,children:[i!=null?h.jsx(c("FastLink"),{href:j?d("PolarisLinkBuilder").buildClipsMediaLink(i):d("PolarisLinkBuilder").buildMediaLink(i),onClick:a,children:b}):b,h.jsx(c("PolarisLoggedOutExploreModuleOverlay.react"),{isClips:j,isVerified:(g=f.user)==null?void 0:g.is_verified,profilePicUrl:(e=f.user)==null?void 0:e.profile_pic_url,username:(i=f.user)==null?void 0:i.username})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLoggedOutExploreModuleCard.react",["FastLink","IGDSBox.react","IGDSText.react","PolarisLinkBuilder","PolarisLoggedOutExploreModuleCardItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.cardDimensions,e=a.mediaDimensions,f=a.numMediaPerCard,g=a.interestMedia,i=a.onCardHeaderClick,j=a.onCardItemClick;a=g.media.slice(0,f);var k=a.length!==0?e.width*f/a.length:e.width;return h.jsxs("div",{className:"x78zum5 xdt5ytf x1qughib xg11xbi xvlr5nz xo0dx4q x1kbnvpk xhw592a xwihvcr x7wuybg xb9tvrk x6ikm8r x10wlt62",style:{height:b.height,width:b.width},children:[h.jsx(c("IGDSBox.react"),{flex:"grow",justifyContent:"center",paddingX:4,children:h.jsx(c("FastLink"),{href:d("PolarisLinkBuilder").buildLoggedOutTopicSERPResultsLink(g.fitId),onClick:function(){return i(g.fitId)},children:h.jsx(c("IGDSText.react").FootnoteEmphasized,{maxLines:1,children:g.topicName})})}),h.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"between",children:a.map(function(a){return h.jsx(c("PolarisLoggedOutExploreModuleCardItem.react"),{dimensions:{height:e.height,width:k},media:a,onCardClick:function(){return j(a.pk)}},a.id)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLoggedOutExploreModule.react",["fbt","FastLink","IGDSBox.react","IGDSText.react","PolarisLoggedOutExploreModuleActions","PolarisLoggedOutExploreModuleCard.react","PolarisReactRedux","PolarisRoutes","PolarisVirtualHSnapScroll.react","react","requireDeferred","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("PolarisLoggedOutExploreModuleLogger").__setRef("PolarisLoggedOutExploreModule.react"),o=2;e=9/16;var p=112,q=p/e;b=1;var r=3;e=38;var s=12,t=9,u=q+e,v=r*p+(r-1)*b;function a(a){var b=a.analyticsContext,e=a.userId,f=a.postId,g=d("PolarisReactRedux").useDispatch();a=d("PolarisReactRedux").useSelector(function(a){return a.loggedOutExploreModule.moduleInfoMap.get(f)});var w=!!(a==null?void 0:a.isLoading),x=a==null?void 0:a.interestMedia;a=m(0);var y=a[0],z=a[1],A=l(!1),B=j(function(a){var c=a.eventName,d=a.component,e=a.key;return n.onReady(function(a){return a.logExploreModuleEvent({eventName:c,component:d,containermodule:b,key:e})})},[b]);k(function(){y<o&&x==null&&!w&&g(d("PolarisLoggedOutExploreModuleActions").getExploreModule({userId:e,postId:f,onModuleLoadFailed:function(){return z(function(a){return a+1})}}))},[g,x,w,y,f,e]);k(function(){(x==null?void 0:x.length)&&!A.current&&(A.current=!0,B({eventName:"loadSuccess",component:"exploreModule"}))},[x==null?void 0:x.length,B]);a=c("useSinglePartialViewImpression")({onImpressionStart:function(){B({eventName:"impression",component:"exploreModule"})}});return(x==null?void 0:x.length)?i.jsxs(c("IGDSBox.react"),{containerRef:a,marginBottom:4,marginTop:3,children:[i.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"between",marginBottom:4,marginEnd:3,marginStart:3,children:[i.jsx(c("IGDSText.react").BodyEmphasized,{children:h._("Browse the latest")}),i.jsx(c("FastLink"),{href:d("PolarisRoutes").DISCOVER_MEDIA_PATH,onClick:function(){return B({eventName:"click",component:"seeMore"})},children:i.jsx(c("IGDSText.react").BodyEmphasized,{children:i.jsx("div",{className:"x11tnzm0",children:h._("See more")})})})]}),i.jsx(c("IGDSBox.react"),{height:u+2,children:i.jsx(c("PolarisVirtualHSnapScroll.react"),{autoScrollOnFocus:!1,disableScrollSnap:!0,gutterWidth:s,itemWidth:v+t,pagerDisabled:!0,children:x.map(function(a){return i.jsx(c("PolarisLoggedOutExploreModuleCard.react"),{cardDimensions:{height:u,width:v},interestMedia:a,mediaDimensions:{height:q,width:p},numMediaPerCard:r,onCardHeaderClick:function(a){return B({eventName:"click",component:"cardHeader",key:a})},onCardItemClick:function(a){return B({eventName:"click",component:"cardItem",key:a})}},a.fitId)})})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostChainingModule.react",["fbt","PolarisConfig","PolarisConnectionsLogger","PolarisFollowChainingList.react","PolarisGenericVirtualFeed.react","PolarisLinkBuilder","PolarisLoggedOutExploreModule.react","PolarisLoggedOutLoginConstants","PolarisLogger","PolarisNavigationActions","PolarisPaginationUtils","PolarisPost.react","PolarisPostVariants","PolarisProfilePostsActions","PolarisProfilePostsSelectors","PolarisQEHelper","PolarisReactRedux","PolarisRoutes","PolarisUA","PolarisUserActionDismissRelatedProfileSuggestion","PolarisViewpointReact.react","PolarisrelatedProfileSelectors","PolarisuserSelectors","gkx","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.Children,k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o=7,p=2,q="related_profiles_module",r="explore_module",s=h._("Accounts you might like");function a(a){var b=a.analyticsContext,e=a.children,f=a.excludePostId,g=a.shortcode,h=a.userId;a=d("PolarisReactRedux").useSelector(function(a){return d("PolarisProfilePostsSelectors").getAllPostIdsForUserId(a,h)});var t=d("PolarisReactRedux").useSelector(function(a){return d("PolarisProfilePostsSelectors").getPaginationForUserId(a,h)}),u=d("PolarisReactRedux").useSelector(function(a){return d("PolarisuserSelectors").getUsersByIds(a,d("PolarisrelatedProfileSelectors").getRelatedProfileSuggestions(a,h))}),v=d("PolarisReactRedux").useSelector(function(a){return a.navigation}),w=v.postChainingLimitLoginModalClosedCount,x=d("PolarisuserSelectors").useUser(h),y=d("PolarisUA").isMobile(),z=d("PolarisReactRedux").useDispatch(),A=n(new Set()),B=n(!0),C=m(function(){return c("qex")._("34")===!0},[]);l(function(){C?z(d("PolarisProfilePostsActions").requestProfilePostsV2(h,f)):z(d("PolarisProfilePostsActions").requestProfilePosts(h,!1,f))},[z,f,C,h]);v=k(function(){C?z(d("PolarisProfilePostsActions").requestProfilePostsV2(h,f)):z(d("PolarisProfilePostsActions").requestNextProfilePosts(h))},[z,C,h,f]);a=f.length>0?a.filter(function(a){return a!==f}):a;var D=c("qex")._("757")===!0,E=c("qex")._("896")===!0,F=[f].concat(a);D&&!E&&(F=F.slice(0,o+3));c("gkx")("7997")&&(d("PolarisConfig").isAllowlistedCrawlBot()?c("qex")._("1288")===!0:c("qex")._("1395")===!0)&&F.splice(2,0,r);if(c("qex")._("616")===!0&&(u==null?void 0:u.length)!==0){D=(a=c("qex")._("617"))!=null?a:p;F.splice(D,0,q)}var G=k(function(a){z(d("PolarisUserActionDismissRelatedProfileSuggestion").dismissRelatedProfileSuggestion(h,a))},[z,h]),H=function(a){a.state==="entered"&&(B.current&&(B.current=!1,d("PolarisLogger").logAction("relatedProfileModule",{user_id:h,source:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.post,target:"impressionLogging"})))};E=function(a){var k=a.index,l=a.isVisible;a=a.visibleIndex;var m=F[k];if(k===0)return j.only(e);if(m===r)return i.jsx(c("PolarisLoggedOutExploreModule.react"),{analyticsContext:b,postId:f,userId:h},m);if(m===q)return i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:H,id:m,children:function(a){return i.jsx("div",{ref:a,children:i.jsx(c("PolarisFollowChainingList.react"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.post,chainingFailed:!1,chainingSuggestions:u==null?void 0:u.map(function(a){return{fullName:a.fullName,id:a.id,isVerified:a.isVerified,profilePictureUrl:a.profilePictureUrl,suggestionDescription:a.suggestionDescription,username:a.username}}),className:""+(y?" x1181uw3":" xr0cskc"),clickPoint:"related_profiles_unit",impressionModule:d("PolarisConnectionsLogger").VIEW_MODULES.post_related_profile,isSmallScreen:y,onSuggestionDismissed:G,overscan:u==null?void 0:u.length,seeAllHref:(x==null?void 0:x.username)!=null?d("PolarisLinkBuilder").buildUserRelatedProfilesLink(x.username):void 0,title:s,useAlternateViewProfileButton:!1},m)})}},m);if(l&&!A.current.has(m)){var n;d("PolarisLogger").logAction("postChainingImpression",{post_id:m});A.current.add(m);n=d("PolarisLoggedOutLoginConstants").getTotalAmountOfContentToLetUserSeeBeforeShowingContentWall(o,(n=w)!=null?n:0);if(A.current.size>n){n=d("PolarisUA").isDesktop()||d("PolarisConfig").isNetzDGEligible()?"feature_wall":"content_wall";z(d("PolarisNavigationActions").openLoginModal(n,g!=null?d("PolarisLinkBuilder").buildMediaLink(g):d("PolarisRoutes").FEED_PATH,"post_chaining_impression_limit",null,!0,f))}}return m&&i.jsx(c("PolarisPost.react"),{analyticsContext:b,autoplay:d("PolarisQEHelper").isLoggedInDesktop(),id:m,isVisible:l,position:k,variant:d("PolarisPostVariants").VARIANTS.feed,visiblePosition:a},m)};return i.jsx(c("PolarisGenericVirtualFeed.react"),{analyticsContext:b,"data-testid":void 0,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:d("PolarisLoggedOutLoginConstants").dismissibleContentWallsHasNextPage(!!d("PolarisPaginationUtils").hasNextPage(t),w),isFetching:d("PolarisPaginationUtils").isFetching(t),items:F,onNextPage:v,renderFeedItem:E,visibleCount:F.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisUserMediaSelector",["PolarisPaginationUtils","PolarisProfilePostsSelectors","PolarisReactRedux","PolarisuserSelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=d("PolarisProfilePostsSelectors").getPaginationForUserId(a,b);return!a?!1:d("PolarisPaginationUtils").isFetching(a)}function a(a){var b=d("PolarisReactRedux").useSelector(function(b){return h(b,a)}),c=d("PolarisReactRedux").useSelector(function(b){return d("PolarisuserSelectors").getUserById(b,a)}),e=d("PolarisReactRedux").useSelector(function(b){return d("PolarisProfilePostsSelectors").getAllPostIdsForUserId(b,a)});return{isMediaFetching:b,postIds:e,user:c}}g.isUserMediaFetching=h;g.useUserMediaSelector=a}),98);
__d("PolarisRelatedMediaDivider.react",["PolarisIGCoreBox","PolarisIGCoreDivider","PolarisRelatedMediaGridConstants","react","usePolarisUserMediaSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("usePolarisUserMediaSelector").useUserMediaSelector(a.userId);b=b.postIds;return!a.hasDiscoveryModule&&!a.hasRelatedProfiles&&!(a.hasRelatedMedia&&b.length>=d("PolarisRelatedMediaGridConstants").MINIMUM_POST_COUNT)?null:h.jsx(c("PolarisIGCoreBox"),{"data-testid":void 0,marginTop:12,children:h.jsx(c("PolarisIGCoreDivider"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisRelatedMediaUsernameHeader.react",["fbt","PolarisIGCoreButton","PolarisIGCoreText","PolarisLinkBuilder","PolarisLogger","PolarisSEOEventsLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.analyticsContext;a=a.username;var e=function(){d("PolarisLogger").logAction("relatedMediaUsernameClick"),d("PolarisSEOEventsLogger").logSEOEvent({eventName:"relatedMediaUsernameClick",containermodule:b})};return i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"ig-secondary-text",children:h._("More posts from {UserLink}",[h._param("UserLink",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",href:d("PolarisLinkBuilder").buildUserLink(a),onClick:e,children:a}))])})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisRelatedMediaSelector",["PolarisProfilePostsSelectors","PolarisRelatedInterestMediaSelectors","usePolarisSelector","usePolarisUserMediaSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e===void 0&&(e=!1);var f=c("usePolarisSelector")(function(c){return e?h(c,b):d("usePolarisUserMediaSelector").isUserMediaFetching(c,a)}),g=c("usePolarisSelector")(function(c){return e?d("PolarisRelatedInterestMediaSelectors").getAllRelatedPostsIdsForPostId(c,b):d("PolarisProfilePostsSelectors").getAllPostIdsForUserId(c,a)});return{isMediaFetching:f,postIds:g.filter(function(a){return a!==b})}}function h(a,b){return((a=a.relatedInterestMedia.byPostId.get(b))==null?void 0:a.isLoading)||!1}g["default"]=a}),98);
__d("PolarisRelatedMediaGridLoggedIn.react",["CometPlaceholder.react","PolarisProfilePostsActions","PolarisReactRedux","PolarisRelatedMediaGrid.react","PolarisRelatedMediaUsernameHeader.react","PolarisuserSelectors","qex","react","usePolarisGetQuerySetup","usePolarisRelatedMediaSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=6;function k(a){var b,e=a.analyticsContext,f=a.excludePostId;a=a.userId;b=(b=(b=d("PolarisuserSelectors").useUser(a))==null?void 0:b.username)!=null?b:"";a=c("usePolarisRelatedMediaSelector")(a,f);f=a.isMediaFetching;a=a.postIds;return h.jsx(c("PolarisRelatedMediaGrid.react"),{analyticsContext:e,header:h.jsx(c("PolarisRelatedMediaUsernameHeader.react"),{analyticsContext:e,username:b}),isMediaFetching:f,maxPosts:j,postIds:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.excludePostId,e=a.userId;a=babelHelpers.objectWithoutPropertiesLoose(a,["excludePostId","userId"]);var f=d("PolarisReactRedux").useDispatch();i(function(){c("qex")._("38")===!0?f(d("PolarisProfilePostsActions").requestProfilePostsV2(e,b)):f(d("PolarisProfilePostsActions").requestProfilePosts(e,!1,b))},[f,b,e]);return h.jsx(k,babelHelpers["extends"]({excludePostId:b,userId:e},a))}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.excludePostId,e=a.relatedMediaQuery,f=a.userId;a=babelHelpers.objectWithoutPropertiesLoose(a,["excludePostId","relatedMediaQuery","userId"]);c("usePolarisGetQuerySetup")(e,function(a){return function(c){c(d("PolarisProfilePostsActions").handleProfilePostsAPIResponse(a,f,b))}});return h.jsx(k,babelHelpers["extends"]({excludePostId:b,userId:f},a))}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.relatedMediaQuery;a=babelHelpers.objectWithoutPropertiesLoose(a,["relatedMediaQuery"]);if(b!=null)return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(m,babelHelpers["extends"]({relatedMediaQuery:b},a))});else return h.jsx(l,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisRelatedMediaRelatedInterestsHeader.react",["fbt","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"ig-secondary-text",children:h._("Similar posts on Instagram")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisRelatedMediaGridLoggedOut.react",["fbt","FastLink","PolarisIGCoreBox","PolarisIGCoreChevronIcon","PolarisIGCoreDivider","PolarisIGCoreText","PolarisLinkBuilder","PolarisProfilePostsActions","PolarisReactRedux","PolarisRelatedInterestMediaActions","PolarisRelatedMediaGrid.react","PolarisRelatedMediaRelatedInterestsHeader.react","PolarisRelatedMediaUsernameHeader.react","PolarisSEOEventsLogger","PolarisUA","PolarisuserSelectors","qex","react","usePolarisRelatedMediaSelector"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=9,l=h._("See More Item Chevron"),m=h._("See more posts");function a(a){var b=a.analyticsContext,e=a.excludePostId,f=a.userId,g=d("PolarisReactRedux").useDispatch(),h=c("qex")._("619")===!0;a=(a=(a=d("PolarisuserSelectors").useUser(f))==null?void 0:a.username)!=null?a:"";var n=c("usePolarisRelatedMediaSelector")(f,e,h),o=n.isMediaFetching;n=n.postIds;j(function(){h?g(d("PolarisRelatedInterestMediaActions").requestRelatedInterestMedia(e)):c("qex")._("365")===!0?g(d("PolarisProfilePostsActions").requestProfilePostsV2(f,e)):g(d("PolarisProfilePostsActions").requestProfilePosts(f,!1,e))},[g,e,h,f]);var p=function(){d("PolarisSEOEventsLogger").logSEOEvent({eventName:"relatedMediaCTAClick",containermodule:b})},q=i.jsx(c("PolarisIGCoreBox"),{direction:"row",children:i.jsxs(c("FastLink"),{className:"x6s0dn4 xo0dx4q x78zum5 x1q0g3np x1iyjqo2 x10c73hc x38sub4 xvijh9v x889kno xn6708d x1a8lsjc x1swvt13 xjypj1w x17xomw0",href:d("PolarisLinkBuilder").buildUserLink(a),onClick:p,children:[i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"ig-primary-button",children:m}),i.jsx(c("PolarisIGCoreBox"),{paddingX:4,position:"absolute",right:!0,children:i.jsx(c("PolarisIGCoreChevronIcon"),{alt:l,color:"ig-primary-button",direction:"right",size:20})})]})});p=i.jsxs(c("PolarisIGCoreBox"),{children:[i.jsx(c("PolarisIGCoreBox"),{direction:"row",justifyContent:"center",margin:5,children:i.jsx(c("FastLink"),{href:d("PolarisLinkBuilder").buildUserLink(a),onClick:p,children:i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"ig-primary-button",children:m})})}),i.jsx(c("PolarisIGCoreDivider"),{})]});p=d("PolarisUA").isDesktop()?p:q;return i.jsx(c("PolarisRelatedMediaGrid.react"),{analyticsContext:b,footer:p,header:h?i.jsx(c("PolarisRelatedMediaRelatedInterestsHeader.react"),{}):i.jsx(c("PolarisRelatedMediaUsernameHeader.react"),{analyticsContext:b,username:a}),isMediaFetching:o,maxPosts:k,postIds:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostPage.react",["cx","fbt","IGRouter","PolarisAsyncCommentLikedByListContainer","PolarisAsyncEntityQRModal","PolarisAsyncLikedByListContainer","PolarisConditionalPageLayoutHandler.react","PolarisConfig","PolarisErrorBoundaryWithHoldout.react","PolarisGenericMobileHeader.react","PolarisGroupProfileUtils","PolarisLikedByListVariant","PolarisLinkBuilder","PolarisLogger","PolarisMediaImpressionsLogger","PolarisNavBackButton.react","PolarisNavigationActions","PolarisPageMetadata.react","PolarisPost.react","PolarisPostActionLoadPostPageExtras","PolarisPostChainingModule.react","PolarisQEHelper","PolarisQPManager.react","PolarisReactRedux","PolarisRelatedMediaDivider.react","PolarisRelatedMediaGridLoggedIn.react","PolarisRelatedMediaGridLoggedOut.react","PolarisShell","PolarisSizing","PolarisUA","PolarisgetPostFromGraphMediaInterface","PolarisgetTitleForPost","PolarisisUserLoggedIn","PolarispostSelectors","PolarisstorySelectors","PolarisuserSelectors","cr:4150","nullthrows","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useEffect,l=e.useState,m=i._("Photo"),n=i._("Post"),o=i._("Video"),p="postPage";function q(a){return a.isAd!==!0||a.fromAdvertiser!==!0?null:j.jsx("div",{className:"_aa69",children:i._("Your ad may not appear the way you created it. To preview your ads, visit Ads Manager.")})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e=a.commentLikeId,f=a.fromAdvertiser,g=a.history,h=a.initialCommentsQuery,i=a.likedByShortcode,r=a.permalinkedCommentId,s=a.permalinkedReplyId,t=a.relatedMediaQuery,u=a.showQRModal,v=a.ownerId,w=a.postId,x=d("PolarisReactRedux").useDispatch(),y=d("PolarisReactRedux").useSelector(function(a){return d("PolarisuserSelectors").getViewer(a)}),z=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getPostOrNullById(a,w)});a=d("PolarisReactRedux").useSelector(function(a){return d("PolarisuserSelectors").maybeGetUserById(a,v)});var A=d("PolarisReactRedux").useSelector(function(a){return z&&d("PolarisGroupProfileUtils").getIsGroupProfilePostAttributionEnabled()?d("PolarispostSelectors").maybeGetPostGroupByPost(a,z):null});A=(A=A)!=null?A:a;var B=d("PolarisReactRedux").useSelector(function(a){return d("PolarisstorySelectors").userHasReel(a,v)});a=l(u);u=a[0];var C=a[1],D=z==null?void 0:z.id;a=d("PolarisGroupProfileUtils").getIsGroupProfilePostAttributionEnabled()?z==null?void 0:z.group:null;var E=y==null?void 0:y.id,F=d("PolarisReactRedux").useSelector(function(a){return(a=(a=a.navigation)==null?void 0:a.pageViewCount)!=null?a:1}),G=d("PolarisReactRedux").useSelector(function(a){return a.navigation.isLoginModalOpen});k(function(){if(D!=null){var a=!E;a={fetchReel:E!=null&&!B,fetchLoggedOutExtras:a};Object.values(a).some(function(a){return a})&&x(d("PolarisPostActionLoadPostPageExtras").loadPostPageExtras(D,a))}},[B,D,E,x]);k(function(){z&&x(d("PolarisNavigationActions").incrementNewPageViewCount(y,"post",c("nullthrows")(z.code),F))},[z,F,y,x]);k(function(){z&&!d("PolarisConfig").isLoggedIn()&&d("PolarisLogger").logAction("postChainingImpression",{post_id:z.id})},[z]);var H=function(){g.goBack()},I=function(a){d("PolarisMediaImpressionsLogger").logImpressionForPost(a,"permalink")};if(A==null||z==null)return null;var J=c("nullthrows")(z.code),K=d("PolarisSizing").SITE_WIDTHS.wide,L={};z.dimensions&&d("PolarisSizing").needsCustomMaxPageWidth(z.dimensions)&&(K=Math.min(K,d("PolarisSizing").getPageWidthForPostDimensions(z.dimensions)),L.style={maxWidth:K+"px"});var M=z.isSidecar===!0?n:z.isVideo===!0?o:m;J=A.isUnpublished!==!0?d("PolarisLinkBuilder").buildMediaLink(J):null;var N=[j.jsx(c("PolarisNavBackButton.react"),{analyticsContext:p},"back")],O="top",P=d("PolarisUA").isDesktop()&&d("PolarisisUserLoggedIn").isUserLoggedIn(),Q=!d("PolarisisUserLoggedIn").isUserLoggedIn()&&A.passTieringRecommendation!=null&&A.passTieringRecommendation===!0,R=!d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedIn();P=A.isUnpublished!==!0&&(P||Q)&&!R;Q=j.jsx(c("PolarisPost.react"),{analyticsContext:p,autoplay:d("PolarisQEHelper").isLoggedInDesktop(),className:"_aa6a",id:z.id,initialCommentsQuery:h,isVisible:!0,lightLetterbox:!0,onImpression:I,permalinkedCommentId:r,permalinkedReplyId:s,variant:"flexible",visiblePosition:0,willScrollTo:d("PolarisConfig").isLoggedIn()?O:void 0});I=j.jsxs(c("PolarisShell"),{androidAppLink:J,"data-testid":void 0,iOSAppLink:"media?id="+z.id,maxWidth:K,mobileHeader:j.jsx(c("PolarisGenericMobileHeader.react"),{leftActions:N,title:M}),pageIdentifier:p,productType:z.productType,children:[j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisPageMetadata.react"),{base:"",id:p,title:d("PolarisgetPostFromGraphMediaInterface").isClipsPost(z)&&z.title!=null&&z.title.trim()!==""?z.title:c("PolarisgetTitleForPost")(z,(h=a)!=null?h:A)}),j.jsx(c("PolarisQPManager.react"),{slot:"post"}),j.jsxs("div",{className:"_aa6b"+(d("PolarisUA").isDesktop()?" _ad9f":"")+(d("PolarisUA").isDesktop()&&!P?" _aa6c":"")+(P?" _aa6d":""),children:[j.jsx("div",babelHelpers["extends"]({},L,{className:"_aa6e",children:R?j.jsx(c("PolarisPostChainingModule.react"),{analyticsContext:p,excludePostId:z.id,shortcode:z.code,userId:A.id,children:Q}):Q})),j.jsx(c("PolarisRelatedMediaDivider.react"),{hasDiscoveryModule:!1,hasRelatedMedia:P,hasRelatedProfiles:!1,userId:A.id}),P&&j.jsx(c("PolarisErrorBoundaryWithHoldout.react"),{children:d("PolarisisUserLoggedIn").isUserLoggedIn()?j.jsx(c("PolarisRelatedMediaGridLoggedIn.react"),{analyticsContext:p,excludePostId:z.id,relatedMediaQuery:t,userId:A.id}):j.jsx(c("PolarisRelatedMediaGridLoggedOut.react"),{analyticsContext:p,excludePostId:z.id,userId:A.id})}),j.jsx(q,{fromAdvertiser:f,isAd:z.isAd})]}),i!=null&&i!==""?j.jsx(c("PolarisAsyncLikedByListContainer"),{display:c("PolarisLikedByListVariant").Modal,mediaId:z.id,onClose:H,shortcode:i}):null,e!=null&&e!==""?j.jsx(c("PolarisAsyncCommentLikedByListContainer"),{commentId:e,display:c("PolarisLikedByListVariant").Modal,onClose:H}):null]}),G&&b("cr:4150")!=null&&j.jsx(b("cr:4150"),{triggeringPageType:"post",triggeringUser:A}),u&&j.jsx(c("PolarisAsyncEntityQRModal"),{entityID:z.id,onClose:function(){return C(!1)},source:"DIRECT_NAVIGATION"})]});return c("PolarisConditionalPageLayoutHandler.react")!=null?j.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:I}):I}a.displayName=a.name+" [from "+f.id+"]";h=d("IGRouter").withIGRouter(a);g["default"]=h}),98);
__d("PolarisReduxPostActions",["PolarisAdsActions","PolarisPostActionPostLoadedV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(b){return function(c,e){if(b.items!=null){var f=[].concat(b.items),g=f[0];e=new Set(e().ads.feed.keys());if(g!=null&&g.ad_id!=null)return c(d("PolarisAdsActions").adMediaInfoLoaded(g,a));else return c(d("PolarisPostActionPostLoadedV2").postLoadedV2(f,a,e))}}}}g.setupPostPage=a}),98);
__d("PolarisPostPageSetup.react",["ErrorBoundary.react","PolarisHttpGatedContentPage.react","PolarisInstajax","PolarisPostActionLoadPost","PolarisReactRedux","PolarisReduxPostActions","PolarisisUserLoggedIn","VideoPlayerAutoplayRulesProvider","react","useGatedContentInfo","usePolarisGetQuery","usePolarisGetQuerySetup","usePolarisPreloadedGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("polaris_feed");function k(a){var b=a.children,e=a.postId,f=a.preloadedMediaQuery;a=a.shortcode;f=c("usePolarisPreloadedGetQuery")(f);c("usePolarisGetQuerySetup")(f,d("PolarisReduxPostActions").setupPostPage(a,e));return b}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.children,e=a.postId,f=a.shortcode,g=d("PolarisReactRedux").useDispatch();a=c("usePolarisGetQuery")("/api/v1/web/get_ruling_for_content/",{query:{content_type:"MEDIA",target_id:e}});a=c("useGatedContentInfo")(a);var i=d("PolarisReactRedux").useSelector(function(a){return a.posts.byId.has(e)});j(function(){g(d("PolarisPostActionLoadPost").loadPost(f,e))},[g,f,e]);if(a!=null)return h.jsx(c("PolarisHttpGatedContentPage.react"),{blocksLoggingData:a.blocks_logging_data,description:a.description,entityId:e,sessionId:a.session_id,title:a.title,userAvatarUrl:"",username:""});return!i?null:b}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.error;a=a.postId;var d=c("usePolarisGetQuery")("/api/v1/web/get_ruling_for_content/",{query:{content_type:"MEDIA",target_id:a}});d=c("useGatedContentInfo")(d);if(d==null)throw b;return h.jsx(c("PolarisHttpGatedContentPage.react"),{blocksLoggingData:d.blocks_logging_data,description:d.description,entityId:a,sessionId:d.session_id,title:d.title,userAvatarUrl:"",username:""})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b,e=a.error;a=a.postId;return e instanceof d("PolarisInstajax").AjaxError&&((b=e.responseObject)==null?void 0:b.message)==="geoblock_required"?h.jsx(c("PolarisHttpGatedContentPage.react"),{blocksLoggingData:e.responseObject.blocks_logging_data,description:e.responseObject.description,entityId:a,sessionId:e.responseObject.session_id,title:e.responseObject.title,userAvatarUrl:"",username:""}):h.jsx(m,{error:e,postId:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.postId,f=a.preloadedMediaQuery;a=a.shortcode;var g=i(function(a){return h.jsx(n,{error:a,postId:e})},[e]),j=d("PolarisisUserLoggedIn").isUserLoggedIn()?k:l;return h.jsx(c("ErrorBoundary.react"),{fallback:g,children:h.jsx(j,{postId:e,preloadedMediaQuery:f,shortcode:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostRoot.react",["PolarisConfig","PolarisKeywordSearchExploreChainingPage.react","PolarisMediaChainingPageContainer","PolarisMediaConstants","PolarisPostPage.react","PolarisPostPageSetup.react","PolarisUA","emptyFunction","react","usePolarisPreloadedGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef;function j(a){var b=a.routeParams,d=b.comment_id;b=b.reply_id;a=a.routeProps;var e=a.media_id,f=a.media_owner_id;a=a.qr;return h.jsx(c("PolarisPostPage.react"),{fromAdvertiser:window.location.hash==="#advertiser",likedByShortcode:null,ownerId:f,permalinkedCommentId:d,permalinkedReplyId:b,postId:e,showQRModal:a})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.comments;a=a.related_media;b=c("usePolarisPreloadedGetQuery")(b);var d=i(a.preloadEnabled);d=i(d.current?c("usePolarisPreloadedGetQuery"):c("emptyFunction")).current;d=d(a);return{commentsQuery:b,relatedMediaQuery:d}}function l(a){var b=a.routeParams,e=b.chaining,f=b.comment_id,g=b.reply_id,i=b.q;b=b.shortcode;a=a.routeProps;var j=a.media_id,l=a.media_owner_id,m=a.media_type,n=a.polaris_preload;a=a.qr;n=k(n);var o=n.commentsQuery;n=n.relatedMediaQuery;m=m!=null?d("PolarisMediaConstants").mapMediaTypeToGraphType(m):null;d("PolarisUA").isMobile()&&i!=null?i=h.jsx(c("PolarisKeywordSearchExploreChainingPage.react"),{keyword:String(i),mediaPostCode:b}):d("PolarisUA").isMobile()&&e!=null&&m!=null&&m!=="UNSUPPORTED_MEDIA_TYPE"?i=h.jsx(c("PolarisMediaChainingPageContainer"),{mediaId:j,mediaType:m}):i=h.jsx(c("PolarisPostPage.react"),{fromAdvertiser:window.location.hash==="#advertiser",initialCommentsQuery:o,likedByShortcode:null,ownerId:l,permalinkedCommentId:f,permalinkedReplyId:g,postId:j,relatedMediaQuery:n,showQRModal:a});return i}l.displayName=l.name+" [from "+f.id+"]";function a(a){a=a.props;var b=a.routeParams.shortcode,e=a.routeProps,f=e.media_id;e=e.polaris_preload;return h.jsx(c("PolarisPostPageSetup.react"),{postId:f,preloadedMediaQuery:e.media,shortcode:b,children:d("PolarisConfig").isLoggedIn()?h.jsx(l,babelHelpers["extends"]({},a)):h.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){var a=c("qex")._("1634")||!1;a&&b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);var b=c("qex")._("1635");if(b!=null&&b>0)return!isNaN(a)&&a>0&&a<=b}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;!!c("qex")._("1633")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;!!c("qex")._("1633")&&d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("OzSystemicRiskABRManager",["MosUtils","OzSystemicRiskUtils","oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=2e3,j={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};a=function(){function a(a,b,c,d,e,f,g,h){this.$11=!1,this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$7=f,this.$8=g,this.$9=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$6=a};b.updateRepresentations=function(a){var b=this;this.$3=a;a=this.$3.find(function(a){return a.getQualityLabel()===b.$2.getQualityLabel()});this.$2=(a=a)!=null?a:this.$3[0]};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$6,this.$5),f=this.$5.getDuration();f=isNaN(f)?h:f;if(this.$3.length===0){this.$10="no available representations";return this.$2}var g=this.$5.getCurrentTime();f=this.$9==="static"?(f-g)*1e3:h;g=this.$8();a=b.getBool("systemic_risk_use_fetch_range_duration",!1)?this.$12(a):i;var j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);if(j==null){this.$10="missing bandwidth diagnostics";return this.$2}var k=this.$13(this.$3).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}),l=null,m=null,n=null;for(var o=0;o<k.length;o++){var p=k[Math.max(o-1,0)],q=this.$14(p,g);p=Math.min(p.getHeight(),p.getWidth());m=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:j,bitrate:k[o].getBandwidth(),bufferAhead:e,config:this.$1.getLegacyConfig(),hasMadeInitialDecision:this.$11,initialRiskFactor:b.getNumber("systemic_risk_abr_initial_risk_factor",1),lowMosResolution:b.getNumber("systemic_risk_abr_low_mos_resolution",0),minWatchableMos:b.getNumber("systemic_risk_abr_min_watchable_mos",0),previousMos:q,previousResolution:p,remainingVideoDurationMs:f,segmentFetchRangeDurationMs:a});q=m;p=q.multiplier;if(isNaN(p)){n=m;l=this.$2;break}q=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(k[o].getBandwidth(),m.multiplier,a,j);if(q)n=m,l=k[o];else break}l==null?this.$2=b.getBool("respect_playback_restrictions_in_abr_fallback",!1)&&k.length>0?k[0]:this.$3[0]:this.$2=l;this.$15((p=n)!=null?p:m,{isSystemicRiskABREnabled:b.getBool("use_systemic_risk_abr",!1),noRepresentationSelected:l==null,representationCount:k.length});this.$11||(this.$11=!0);return this.$2};b.$12=function(a){var b=i;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b};b.$14=function(a,b){a=a.getCustomField("playbackResolutionMos");a=d("MosUtils").parsePlaybackMos(String(a));return a!=null?d("MosUtils").getMosValue(a,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$13=function(a){var b=this;if(!this.$1.getLegacyConfig().getBool("systemic_risk_abr_apply_representation_restrictions",!1))return a;var c=this.$1.getLegacyConfig().getBool("exclude_large_representations_after_restrictions",!1),e=a;a=function(){e=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(b.$1,e,b.$8(),b.$7)};var f=function(){e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(b.$1,b.$4,b.$8(),e)};c||(a(),f());c&&(f(),a());return e};b.$15=function(a,b){if(a==null)return;var c=b.isSystemicRiskABREnabled,d=b.noRepresentationSelected;b=b.representationCount;this.$10=[[j.LOW_MOS,a.lowMos],[j.ENCODING,a.encoding],[j.BANDWIDTH,a.bandwidth],[j.MULTIPLIER,a.multiplier],[j.BUFFER,a.buffer],[j.PREVIOUS_MOS,a.previousMos],[j.PREVIOUS_RESOLUTION,a.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");c||(this.$10+="disabled;");d&&(this.$10+="none-selected-of-"+b+";")};b.getLastEvaluationReason=function(){return this.$10};return a}();g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return a.getSelectedVideoQuality()}function i(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getQualityLabel()}function j(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getSelectedVideoQuality();return a}function k(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function l(a,b){var c=j(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAudioRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getAudioRepresentationIDAtTime(a);return(a=b)!=null?a:null},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingVideoQuality:function(){var a=d();return a?i(a):""},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getUserSelectedVideoQuality:function(){var a=d();return a?j(a):""},getVideoProjectionType:function(){var a=d();return a!=null?k(a):null},getVideoRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getVideoRepresentationIDAtTime(a);return(a=b)!=null?a:null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&l(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a}),66);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer9=0;c.$PredictedSegmentTemplateSegmentsContainer11=null;c.$PredictedSegmentTemplateSegmentsContainer10=d;c.$PredictedSegmentTemplateSegmentsContainer8=k;c.$PredictedSegmentTemplateSegmentsContainer12=f;c.$PredictedSegmentTemplateSegmentsContainer7=b;c.$PredictedSegmentTemplateSegmentsContainer5=e;c.$PredictedSegmentTemplateSegmentsContainer1=g;c.$PredictedSegmentTemplateSegmentsContainer3=i;c.$PredictedSegmentTemplateSegmentsContainer2=h;c.$PredictedSegmentTemplateSegmentsContainer4=j;c.$PredictedSegmentTemplateSegmentsContainer6=b.getNumber("live_numerical_error_epsilon");for(d=0;d<c.$PredictedSegmentTemplateSegmentsContainer12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer12[d].d,c.$PredictedSegmentTemplateSegmentsContainer9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer2!=null&&this.$PredictedSegmentTemplateSegmentsContainer4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer2};else return null};e.$PredictedSegmentTemplateSegmentsContainer14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer1.replace("$Number$",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer3=d.$PredictedSegmentTemplateSegmentsContainer3;this.$PredictedSegmentTemplateSegmentsContainer1=d.$PredictedSegmentTemplateSegmentsContainer1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer12=d.$PredictedSegmentTemplateSegmentsContainer12;this.$PredictedSegmentTemplateSegmentsContainer8=d.$PredictedSegmentTemplateSegmentsContainer8;for(d=0;d<this.$PredictedSegmentTemplateSegmentsContainer12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer12[d].d,this.$PredictedSegmentTemplateSegmentsContainer9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer15(a):this.$PredictedSegmentTemplateSegmentsContainer16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer5}];var c=this.$PredictedSegmentTemplateSegmentsContainer11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer5;var e=this.$PredictedSegmentTemplateSegmentsContainer12.length>0?this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer9);return this.$PredictedSegmentTemplateSegmentsContainer14(0,0,this.$PredictedSegmentTemplateSegmentsContainer3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer14(b.t/this.$PredictedSegmentTemplateSegmentsContainer5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3-e)};e.$PredictedSegmentTemplateSegmentsContainer15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer2),this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer4)/this.$PredictedSegmentTemplateSegmentsContainer5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer14(a.t/this.$PredictedSegmentTemplateSegmentsContainer5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer9/this.$PredictedSegmentTemplateSegmentsContainer5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a}),98);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;g!=null&&g!==""&&(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var c;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!=null||(c=b.license)}else c=a;if(c!=null&&c!=="")try{return d("oz-player/drm/OzDrmUtils").base64ToUint8Array(c)}catch(a){if(a.name==="InvalidCharacterError")throw new Error("Endpoint returned error: "+c);else throw a}return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","cr:72","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,i=c("qex")._("1658");function j(a){return i!=null&&i!==""?i:null}function a(a){return h.test(a.getDomain())}function b(a,b,d,e,f,g){if(f.current!=null)return;var h=!0,i=function(){if(h)return!1;var a=f.current!==j;return a&&c("gkx")("1508440")?!0:!1},j=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=j;h=!1;a=function(a){if(i())return;if(c("gkx")("1235655"))return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"});a=d.getNumber("ull_fallback_stall_count",0);a>0&&(e.getCurrentState().controlledState.latencyLevel==="ultra-low"&&g.getLoggerState().stallCountTotal>a&&e.dispatch({payload:{latencyLevel:"low"},type:"implementation_set_latency_level_requested"}))};var k=function(a){if(i())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};j.addListener("enterBuffering",a);j.addListener("leaveBuffering",k)}function d(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];if(d&&a!=null){var f=c("justknobx")._("717")?null:d.widevineCert;e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,(a=f)!=null?a:null))}return e}function e(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function f(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function k(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function l(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function m(){return function(a,b,d,e,f,g,h,i){return a.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(a,b,d,e,f,g,h,i):null}}function n(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var k=a.getQueryData(),l;if(h){l={};var m=j(a);m!==null&&m!==""&&(l=babelHelpers["extends"]({},l,{os_param:m}));if(d.getBool("server_side_abr_send_client_estimates",!1)){m=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);m&&(l=babelHelpers["extends"]({},l,{_nc_bwe:String(m.bandwidthEstimate),_nc_bwe_std:String(m.bandwidthStandardDeviation),_nc_ttfb:String(m.timeToFirstByteMsEstimate),_nc_ttfb_std:String(m.timeToFirstByteMsStandardDeviation)}));m=e();m&&(l=babelHelpers["extends"]({},l,{_nc_abr_bitrate:String(m.getBandwidth()),_nc_abr_qlabel:m.getQualityLabel()}))}c("gkx")("2047")&&(l=babelHelpers["extends"]({},l,{_nc_wclk:"1",_nc_wclk_ms:"1"}))}h&&c("gkx")("1998922")&&(l=babelHelpers["extends"]({},l,{_nc_nc:"1"}));e=d.getNumber("live_video_chunk_duration",0);h&&e>0&&(l=babelHelpers["extends"]({},l,{chk_dur:e.toString(10)}));c("gkx")("1836350")&&(k.uss!=null&&k.odm!=null&&(l=babelHelpers["extends"]({},l,{manual_redirect:"1"})));g&&(l=babelHelpers["extends"]({},l,{_nc_psid:i}));if(b){m=f();if(m!=null){d=a.getDomain()+a.getPath();h=m.get(d);if(h!=null)for(e in h){l=babelHelpers["extends"]({},l,(k={},k[e]=h[e],k))}}}return l}g.getOsParamValue=j;g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=b;g.createOzDrmProviders=d;g.createOzPerfLoggerProviders=e;g.calculateInitialPlaybackPositionForDynamicMpd=f;g.calculateLiveheadFallBehindBlockThreshold=k;g.calculateLiveheadFallBehindBlockMargin=l;g.getVideoAbrManagerFactory=m;g.getCustomRequestParametersForURI=n}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];a=a;var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;c>0&&(a=this.$7(a,b));d>0&&(a=this.$8(a,b));return a};return a}();g["default"]=a}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=(b=c("qex")._("930"))!=null?b:720,i=2160;function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(h));break;case"UHD":c("gkx")("1488288")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(i));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","cr:4964","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","qex","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";f=(e=b("cr:4964"))!=null?e:{parseEmsgBoxesFromMP4Segment:null};var h=f.parseEmsgBoxesFromMP4Segment,i=(e=c("qex")._("592"))!=null?e:1e4,j=null,k=null;b("cr:1836099")&&(j=b("cr:1836099").getHiveConfig(),k=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,l=a.destroyOzPlayerPartsRef,m=a.engineDebugAPI,n=a.engineExtrasAPI,o=a.getCaptionsInfo,aa=a.getLatencyLevelManager,p=a.getVideoLiveTrace,q=a.handleCaptionsInfoChange,ba=a.handleFatalImplementationError,r=a.hivePluginRef,s=a.initialProps,t=a.logger,u=a.machine,v=a.overrideOzRequestImplementationRef,w=a.ozBufferingDetectorRef,x=a.ozPlayerRef,y=a.p2pSessionLoggerRef,z=a.playerVersion,A=a.resolvedVideoInfo,B=a.videoElement,C={current:!1},D={current:null},E={current:null};l.current=function(a){var b=w.current;b&&(w.current=null,b.destroy());b=x.current;if(b){m&&m.handleOzPlayerChanged(null);x.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=D.current;b&&(D.current=null,b());E.current&&(E.current=null);Z();r.current&&(r.current=null);y.current&&(y.current=null);v.current&&(v.current=null)};a=A.accessToken;l=A.audioOnly;var F=A.experimentationConfig,G=A.graphQLVideoDRMInfo,H=A.graphQLVideoP2PSettings,I=A.manifestUrl,ca=A.manifestXmlStringResolved,da=A.minQualityPreference,ea=A.ozPrefetchCache,J=A.videoFBID,K=s.disableLogging?null:A.VideoPlayerShakaPerformanceLoggerClass,L=Boolean(s.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),M=Boolean((e=s.isClientTriggeredTraceEnabled)!=null?e:!1),N=function(a){return n.getEstimatedBandwidth()};e=function(){return n.getApproximateFBLSToPlayerDisplayLatency()};var fa=function(){F.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return N(L)}))},O=function(){var a=F.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(fa,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};D.current=O();O=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:G,videoFBID:J});G=function(){return u.getCurrentState().controlledState.captionsVisible};var P=[];F.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&P.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(G));G=function(){return u.getCurrentState().controlledState.dimensions};var Q=function(){return u.getCurrentState().controlledState.playerFormat};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:K,accessToken:a,disableLogging:s.disableLogging,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:N,getPlayerDimensions:G,getPlayerFormat:Q,playbackIsLiveStreaming:L,playerInstanceCount:s.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:s.loggingMetaData.instanceKey,playerSuborigin:s.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:z,videoElement:B,videoFBID:J,videoPlayerShakaPerformanceLoggerBuilder:A.videoPlayerShakaPerformanceLoggerBuilder});E.current==null&&(E.current=new(c("OzCDNSignedQueryParams"))());if(H&&J!=null){e=H.community_info;Q=H.config;z=H.hive_initialization_options;A=y.current=(A=y.current)!=null?A:b("cr:1871597")?new(b("cr:1871597"))(J,e):null;try{if(!r.current){A&&A.logEnableP2P();e=function(a){y.current&&y.current.logHiveError(a)};var R=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);y.current&&y.current.logSessionActive(b.tech)},S=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PStats",b);y.current&&y.current.setCurrentHiveStats(b)},T=function(a){a=a.state;var b=u.getCurrentState();b=b.controlledState;b=b.playbackState;if(r.current&&a==="CLOSED"){Z();a=x.current;a&&b!=="ended"&&(C.current&&I!=null?a.updatePlayerRunTimeConfig({manifestUrl:I}):a.load(I))}};S={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:S},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:R,onError:e,onSessionStateChange:T,telemetryId:A?A.getSessionID():0};R=F.getNumber("hive_maximum_trimming_seconds",0);R>0&&(S.HiveJS.maximumTrimming={dash:R,hls:R});if(z){e=z.HiveJava;T=z.debugLevel;R=z.hiveTechOrder;S.hiveTechOrder=R.slice();S.HiveJava=e?{minVersion:e.minVersion}:{};S.debugLevel=(z=T)!=null?z:S.debugLevel}c("gkx")("2047688")&&(S=babelHelpers["extends"]({},S,{testId:"fb_video_player_p2p_jest_e2e"}));if(Q.disable_hivejava_for_livevc===!0&&I!=null&&I.startsWith("https://livestream-lookaside")){R=S.hiveTechOrder.indexOf("HiveJava");R>=0&&S.hiveTechOrder.splice(R,1)}if(j)j.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(k)r.current=new k(S);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(r.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");v.current=b("cr:1947728")(r.current.getRequestImplementation(),{inferResponseStatusIsOK:c("gkx")("3951"),inferResponseStatusIsOk2xx:c("gkx")("277")})}}}catch(a){A&&A.logError(a),Z()}}e=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=p();d!=null&&d.handleHeadersAndBody(a,b,c)},F.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&e.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(a,b){if(c("gkx")("1664503")){var e=x.current,f=a.headers;if(e&&f){f=parseInt(f.get("x-fb-video-replica"),10);t.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:a.status.toString(),error_user_info:JSON.stringify({failover_response_code:a.status.toString(),replica:f,url:b})},state:u.getCurrentState()});a=e.getMpdUrl();if(a!=null){b=d("ConstUriUtils").getUri(a);if(b){a=b.addQueryParam("replica",f);a&&(Z(),e.updatePlayerRunTimeConfig({manifestUrl:a.toString(),resetStreamAnchor:!0}))}}}}}));var U=s.expiredVideoUrlRefreshHandler,ga=s.loggingMetaData.instanceKey;T=c("gkx")("221");z=c("gkx")("1836350")||c("gkx")("1993562");var V=L?T:z;F.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");Q={audioOnly:(Q=l)!=null?Q:!1,bufferEndLimit:s.bufferEndLimit!=null?s.bufferEndLimit:null,bufferingDetector:(R=w.current)!=null?R:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(F),configureCustomRequestParametersForSegment:function(a){var b=null;if(L&&M){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:F}),customSegmentTimelineParser:F.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:P,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:O,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:F,getCurrentVideoRepresentation:function(){var a=x.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return E.current},isClientTriggeredTraceEnabled:M,playbackIsLiveStreaming:L,playbackSessionId:ga,shouldRefresh403:V})},getOverrideOzRequestImplementation:function(){return v.current},getShouldIncludeCredentials:F.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getVideoDimensions:G,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(F,(S=s.initialDesiredLatencyMs)!=null?S:0),initialRepresentationIDs:(A=s.initialRepresentationIds)!=null?A:[],isClientTriggeredTraceEnabled:M,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(F,(T=s.initialDesiredLatencyMs)!=null?T:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(F,(z=s.initialDesiredLatencyMs)!=null?z:0,(l=s.initialLatencyToleranceMs)!=null?l:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("722076"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:I,networkRequestStreamHandlers:e,networkRequestStreamRetryHandler:V?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),h=E.current;if(a.status===403&&h!=null){t.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:u.getCurrentState()});var i=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:U!=null?{name:"expiredVideoUrlRefreshHandler",promise:U(e)}:null;if(i!=null)return i.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&(c("gkx")("5837")?b!=="":!0)){t.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:i.name,refreshed_url:b})},state:u.getCurrentState()});h.update(b);return d(b)}else{throw c("unrecoverableViolation")(i.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){a=c("gkx")("5837")?c("getErrorSafe")(a):a;t.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:i.name,refresh_url:g})},state:u.getCurrentState()});throw a})}return b("Promise").resolve(a)}:null,prefetchCache:F.getBool("use_prefetch_cache",!1)?ea:null,rawMpdXml:r.current?void 0:ca,seekHandler:c("gkx")("1482680")?function(a){var b=B.currentTime;u.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});B.currentTime=a}:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:F.getBool("fix_start_timestamp",!1)?s.startTimestamp:0,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(),videoNode:B,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(da,F)};var W=new f(Q);x.current=W;w.current&&w.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());R=s.loggingMetaData.playerImplementationInstanceCountRef;R.current++;W.onError(function(a){K&&K.flushQueuedLogs(),ba(a,"oz_player_error")});W.addListener("switchVideoRepresentation",function(){u.dispatch({payload:{targetVideoQuality:n.getCurrentTargetVideoQuality()},type:"representation_changed"})});var ha=function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(F,a)});W.addListener("manifestFetchErrorRetry",function(a){ha(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(F,a)});W.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||F.getBool("enable_era_logging_for_application_stream",!0))&&ha(a)});W.addListener("streamInterruptAt",function(){u.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){u.dispatch({type:"stream_resumed"})});W.addListener("streamGoneBeforeStart",function(){Z(),u.dispatch({type:"stream_gone_before_start"})});W.addListener("streamEnd",function(){Z(),u.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromVideoNodeError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});W.addListener("enterBuffering",function(a){if(c("gkx")("1235655"))return;u.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});W.addListener("leaveBuffering",function(a){u.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});m&&m.handleOzPlayerChanged(W);var ia=function(){var a=o();a={inbandCaptionsAutogeneratedFromManifest:n.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:n.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:n.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=u.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&q(a)},ja=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;u.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},ka=function(){var a=n.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-F.getNumber("live_rewind_seek_to_live_delta",8),b);u.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},la=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=p();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},ma=function(a){var b=function(){ka(),ia(),la()};a.addListener("updated",b);c("gkx")("1656434")&&b();W.updatePlayerRunTimeConfig({audioStreamDataHandler:h!=null?function(a,b){var c=u.getCurrentState();if(c.controlledState.emsgObserverTokens.size>0){c=function(a){t.logVPLEvent({eventType:"imf",logDataOverrides:a,state:u.getCurrentState()})};b=h(b,J,a.getID(),B.currentTime,c);b.length>0&&u.dispatch({payload:{emsgBoxes:b},type:"emsg_boxes_parsed"})}}:null,videoStreamDataHandler:ja});if(n.isPredictiveDash()){F.setContext("streaming_implementation","pdash");a=aa();a&&a.maybeUpdateLatencyLevel()}b=o();q({inbandCaptionsAutogeneratedFromManifest:n.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:n.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:b==null?void 0:b.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:n.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:b==null?void 0:b.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:b==null?void 0:b.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=u.getCurrentState().controlledState.captionFormat;c!==d&&u.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});u.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){n.isPredictiveDash()&&F.setContext("streaming_implementation","pdash")});W.addListener("mpdReady",function(a){C.current=!0;ma(a);u.dispatch({payload:{availableQualities:n.getAvailableVideoQualities(),selectedVideoQuality:n.getUserSelectedVideoQuality(),targetVideoQuality:n.getCurrentTargetVideoQuality(),videoProjection:(a=n.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){u.dispatch({payload:{availableQualities:n.getAvailableVideoQualities(),blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=r.current,b=y.current;if(a!=null){r.current=null;y.current=null;v.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}P=r.current;g=H==null?void 0:H.ticket;if(I!=null&&H&&P&&g!=null){O=W.getPerfLoggerProvider();O&&O.setIsP2pPlayback(!0);G=I.substring(I.indexOf("?"));S=P.initSession(g+G,W,B);var $=new(c("Deferred"))();i>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+i+"ms"))},i));S.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=y.current;b!==I&&d&&d.logManifestMismatch(b,I);d&&d.logSessionInit(a,b);t.setAdditionalLogData("is_p2p_playback",!0);t.setAdditionalLogData("is_live_preview",X(b));W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=y.current;b&&b.logError(a);Z();t.setAdditionalLogData("is_live_preview",X(I));W.load(I)})}else t.setAdditionalLogData("is_p2p_playback",!1),t.setAdditionalLogData("is_live_preview",X(I)),W.load(I)}g.proceedWithOzPlayerCreation=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2="normal",this.$4=null,this.$1=a,this.$3=b,this.$6=c}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.updateBroadcastLatencySensitivity=function(a){this.$5!==a&&(this.$5=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a;this.$1.getBool("ull_use_broadcast_sensitivity_type",!1)?a=this.$7(this.$5):a=this.$8();a!==this.$2&&(this.$2=a,this.$3.dispatch({payload:{latencyLevel:a},type:"implementation_set_latency_level_requested"}))};b.$8=function(){var a=[];try{a=JSON.parse(this.$1.getString("player_formats_for_low_latency","[]"))}catch(a){}return a.includes("*")||a.includes(this.$4)?"low":"normal"};b.$7=function(a){if(a==null)return"normal";var b=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),c=this.$6.getEstimatedBandwidth();switch(a){case 1:return"low";case 2:return c!==null&&b>0&&c<b?"normal":"ultra-low";case 0:return"normal"}};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","cr:1473549","cr:1494460","cr:1534629","cr:72","emptyFunction","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.debugLogId,f=a.handleFatalError,g=a.initialProps;a=a.setExposedStateInReact;var i={current:null},j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null};function v(){var a;return(a=o.current)!=null?a:null}function w(){var a;return(a=n.current)!=null?a:null}function x(){var a;return(a=(a=j.current)==null?void 0:a.experimentationConfig)!=null?a:null}function y(){var a;return(a=X.current)!=null?a:null}function z(){var a;return(a=u.current)!=null?a:null}var A;b("cr:1473549")&&(A=new(b("cr:1473549"))());var B="comet_oz",C=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},D=function(a,b){return a.videoFBID!==b.videoFBID},E=function(a,b){return a.playerFormat!==b.playerFormat},F=function(a){return a.getBool("use_full_player_if_cached",!1)&&b("cr:1534629")?b("cr:1534629")().getModuleIfRequireable():null},G=function(a,b,c){b!=null?j.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):j.current=a,W.dispatch({type:"implementation_engine_oz_manifest_downloading"}),m.current=F(a.experimentationConfig),K(m.current,[].concat(c,["proceedWithOzManifestDownloading"]))},H=function(a){var b,e,f=a.manifestUrl,g=a.manifest,h=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(h=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,manifestUrl:(b=f)!=null?b:null,manifestXmlStringInitial:(b=g)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:h,playerFormat:a.loggingMetaData.coreVideoPlayerMetaData.playerFormat,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};h=i.current;u.current==null&&(u.current=new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,W,P));b.playerFormat!=null&&(h==null||E(b,h))&&W.dispatch({payload:{playerFormat:b.playerFormat},type:"controller_set_player_format"});u.current.updatePlayerFormat((e=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?e:null);(e=u.current)==null?void 0:e.updateBroadcastLatencySensitivity(a.broadcastLatencySensitivity);e=!1;if(h==null)e=!0;else if(h!=null&&!D(b,h)&&C(b,h)){a=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",a);e=!1}else if(h!=null&&D(b,h))throw c("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!e)return!1;f=b.manifestUrl;g=b.manifestXmlStringInitial;if(g==null&&f==null)throw c("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");i.current=b;G(b,g,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},I=function(a,b){var d=function(c){if(l.current!==a)return;m.current=c;K(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(l.current!==a)return;U(b,"oz_player_module_load_failed")};l.current=a;c("promiseDone")(a,d,e)},J=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);X.current=a;return a},K=function(a,c){var e=R(),f=j.current;if(e==null||f==null)return;var g=J(e),h=f.experimentationConfig;a?L(a,e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):b("cr:1494460")?L(b("cr:1494460")(),e,g,f,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderSync"])):b("cr:1534629")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,W,o,V),I(b("cr:1534629")().load(),[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):U(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},L=function(a,b,e,f,h){try{var i={OzPlayerClass:a,callChain:[].concat(h,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:t,engineDebugAPI:A,engineExtrasAPI:P,getCaptionsInfo:Q,getLatencyLevelManager:z,getVideoLiveTrace:S,handleCaptionsInfoChange:T,handleFatalImplementationError:U,initialProps:g,logger:V,machine:W,ozBufferingDetectorRef:o,playerVersion:B,resolvedVideoInfo:f,videoElement:b};a=x();h=g.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&h!=null?s.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,h,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:p,overrideOzRequestImplementationRef:r,ozPlayerRef:n,p2pSessionLoggerRef:q}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},i,{hivePluginRef:p,overrideOzRequestImplementationRef:r,ozPlayerRef:n,p2pSessionLoggerRef:q}));k.current=f}catch(a){U(a,"oz_player_create_exception")}};function M(a){var b=t.current;b!=null&&(t.current=null,b(a));s.current!=null&&(s.current(),s.current=null)}function N(){return}function O(){l.current=null,m.current=null}var P=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:x,getOzPlayer:w,getVideoElementAPI:y});y=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return A?A.createDebugAPI({engineExtrasAPI:P,getConfig:function(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=k.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:v,getOzPlayer:w,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:e,destroyEngineParts:function(a){M([].concat(a,["destroyEngineParts"])),N(),O()},engineExtrasAPI:P,engineMetadata:{isAbrEnabled:!0,isExternalMedia:!1,playerImplementationName:"oz_v2",playerVersion:B,streamingFormat:"dash"},handleFatalError:f,handleVideoElementMounted:function(a){var b=R();K(m.current,[].concat(a,["handleVideoElementMounted"]))},handleVideoElementUnmounted:function(a){c("gkx")("1380112")&&M([].concat(a,["handleVideoElementUnmounted"]))},handleVideoInfoChange:H,initialProps:g,setExposedStateInReact:a});e=y.engine;var Q=y.getCaptionsInfo,R=y.getVideoElement,S=y.getVideoLiveTrace,T=y.handleCaptionsInfoChange,U=y.handleFatalImplementationError,V=y.logger,W=y.machine,X=y.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useSinglePartialViewImpression",["react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.onImpressionEnd,d=a.onImpressionStart,e=i(!1),f=i(!1);a=h(function(a){if(f.current===!0)return;b&&b(a);f.current=!0},[b]);var g=h(function(a){if(e.current===!0)return;d&&d(a);e.current=!0},[d]);return c("usePartialViewImpression")({onImpressionEnd:a,onImpressionStart:g})}g["default"]=a}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsHiddenContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;var e=a.noPaddingEnd;e=e===void 0?!1:e;a=a.noPaddingStart;a=a===void 0?!1:a;var f=i(c("VideoControlsContainerFocusedContext"));d=d||f;f=i(c("VideoPlayerControlsHiddenContext"));return h.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69"+((d?" x1hc1fzr":" x1fmh03i x47corl")+((e?" x4uap5":" x1mpkggp")+(a?" xkhd6sd":" x1t2a60a"))),children:h.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f||!d,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.isVisible;a=a===void 0?!0:a;var d=i(c("VideoControlsContainerFocusedContext"));a=a||d;d=i(c("VideoPlayerControlsHiddenContext"));return h.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2"+(a?" x1hc1fzr":" x1fmh03i x47corl"),children:h.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:d||!a,children:b})})}b.displayName=b.name+" [from "+f.id+"]";g.Contracted=a;g.Expanded=b}),98);
__d("VideoPlayerPointerDrag",["react","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useEffect,i=f.useRef,j=f.useState;function a(){var a=i(null),b=i(null),d=c("useResizeObserver")(function(c,d){a.current=d.getBoundingClientRect(),b.current=d}),e=c("useStable")(function(){return function(){var c=b.current;c?a.current=c.getBoundingClientRect():a.current=null}});return{invalidateRootRect:e,rootRectRef:a,rootSizeRefCallback:d}}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function k(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function l(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var m={clientX:0,clientY:0,dragState:"idle",lastEffect:null},n=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function o(a,b,c){var d=m,e=null,f=null,g=function(b){d=l(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null?void 0:a(d)},o=function(a){a=k(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},p=function(a){a=k(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){n()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=k(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);f||(window.addEventListener("touchmove",o),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",o),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function p(a,b){h(function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},[a,b])}function q(a,b,d){var e=j(m),f=e[0],g=e[1];e=c("useStable")(function(){return o(g,a,b)});var i=e.destroy,k=e.onMouseDown;e=e.onTouchStart;h(function(){return i},[i]);return{dragState:f,rootProps:{onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:k,onTouchStart:(d==null?void 0:d.hasTouchEvents)===!0?e:void 0}}}function e(a,b){var c=i(a),d=i(null);h(function(){c.current=a},[a]);d=q(c,d,b);b=d.dragState;d=d.rootProps;p(b,c);return{dragState:b,isDragging:b.dragState==="dragging",rootProps:d}}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("VideoPlayerSliderNub.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.isVisible;return h.jsx("div",{className:"x14hiurz xtucvfd xj0q7ni x1e4yufr x1sp3icg x14yjl9h xudhj91 x18nykt9 xww2gxu x1nqv1ya xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm"+(a?" x1lliihq":" x1s85apg"),"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerUserInteractionCounter",["react","unrecoverableViolation","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef,k=e.useState;function a(a,b,d){var e=j(a);i(function(){if(a!==e.current)throw c("unrecoverableViolation")("User interaction name should not change between renders ('"+e.current+"' -> '"+a+"').","comet_video_player")},[a]);var f=j(d);i(function(){f.current=d},[d]);var g=c("usePrevious")(b),h=j(!1);i(function(){var a=e.current,c=f.current;c&&((g===null||b!==g)&&(b?(h.current=!0,c({name:a,type:"started"})):g!==null&&(h.current=!1,c({name:a,type:"ended"}))))},[b,g]);i(function(){var a=e.current,b=f.current;return function(){b&&h.current&&b({name:a,type:"ended"})}},[])}function b(){var a=j(new Set()),b=k(0),c=b[0],d=b[1];b=h(function(b){var c=a.current;b.type==="started"||b.type==="happening"?(c.add(b.name),d(c.size)):b.type==="ended"&&(c["delete"](b.name),d(c.size))},[]);return{ongoingInteractionsCount:c,onUserInteraction:b}}g.useVideoPlayerUserInteraction=a;g.useVideoPlayerUserInteractionCounter=b}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometVisualCompletionAttributes","VideoPlayerPointerDrag","VideoPlayerSliderNub.react","VideoPlayerUserInteractionCounter","react","stylex","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useState,n={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},root:{cursor:"x1ypdohk",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0},tooltipContainer:{bottom:"xfqi8uc",position:"x10l6tqk",$$css:!0}};function o(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.disableKeyCommands,g=a.duration,p=a.isLive,q=a.isLiveRewindActive,r=a.keyLeftDescription,s=a.keyRightDescription,t=a.onScrubCancel,u=a.onScrubEnd,v=a.onScrubStart,w=a.onUserInteraction,x=a.playFromBeginningImpl,y=a.renderTooltip,z=a.skipBackwardImpl,A=a.skipForwardImpl,B=a.skipToEndImpl,C=a.supportsTouch,D=a.timelineBackgroundXStyle,E=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;var F=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),G=F.invalidateRootRect,H=F.rootRectRef;F=F.rootSizeRefCallback;var I=c("usePrevious")(e),J=m(!1),K=J[0],L=J[1];J=m(0);var M=J[0],N=J[1];J=m(!1);var O=J[0],P=J[1];J=m(0);var Q=J[0],R=J[1];J=m(null);var S=J[0],T=J[1];k(function(){e!==I&&P(!1)},[e,I]);J=d("VideoPlayerPointerDrag").usePointerDrag({onDragCancel:function(a){t()},onDragEnd:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,H.current);if(!a){t();return}N(a.ratioX);a=a.ratioX*g;u(a)},onDragEndSync:function(){P(!0)},onDragMove:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,H.current);if(!a)return;N(a.ratioX)},onDragStart:function(a){G();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,H.current);if(!a)return;N(a.ratioX);v()}},{hasTouchEvents:C===!0});C=J.isDragging;J=J.rootProps;var U=j(function(){L(!0)},[]),V=j(function(){L(!1)},[]),W=j(function(a){G();if(H.current!=null){var b=H.current.left,c=H.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(g)&&g>0?g*d:null;R(a.clientX-b);T(c)}},[g,G,H]),X=K||C;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",X,w);X=K||C||O;w=C||O?M:p&&!q?1:o(g,e);C=o(g,b);O=l(function(){return f===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:s,handler:A},{command:{key:c("CometKeys").LEFT},description:r,handler:z},{command:{key:c("CometKeys").HOME},description:h._("Play from beginning"),handler:x},{command:{key:c("CometKeys").END},description:h._("Skip to end"),handler:B}]},[f,s,A,r,z,x,B]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:O,children:i.jsxs("div",babelHelpers["extends"]({},J,{"aria-label":h._("Change Position"),"aria-orientation":"horizontal","aria-valuemax":g,"aria-valuemin":"0","aria-valuenow":e,className:"x1ypdohk x1y1aw1k x4uap5 xwib8y2 xkhd6sd x1n2onr6 x87ps6o xh8yej3","data-testid":void 0,onMouseEnter:U,onMouseLeave:V,onMouseMove:W,ref:F,role:"slider",tabIndex:"0",children:[i.jsxs("div",{className:c("stylex")(n.timelineBackground,D),children:[i.jsx("div",babelHelpers["extends"]({className:c("stylex")(n.timelineBuffered,!p&&n.timelineBufferedBackground,E)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*C).toFixed(5)+"%"}})),i.jsx("div",babelHelpers["extends"]({className:c("stylex")(n.timelinePlayed,p&&!q&&n.liveTimePlayed,p&&q&&n.liveRewindTimePlayed,a)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*w).toFixed(5)+"%"},children:i.jsx(c("VideoPlayerSliderNub.react"),{isVisible:X})}))]}),y!=null&&S!=null&&K&&i.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:Q},children:y(S)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisformatVideoDuration",[],(function(a,b,c,d,e,f){"use strict";var g=60,h=60,i=g*h;function a(a){a=Math.round(a||0);if(a===0)return null;var b=Math.floor(a/i),c=Math.floor((a-b*i)/h);a=(a-b*i-c*g).toFixed(0);var d=[];b>0?d.push(b.toString(),c.toString().padStart(2,"0")):d.push(c.toString());d.push(a.toString().padStart(2,"0"));return d.join(":")}f.SECONDS_IN_MINUTE=g;f.SECONDS_IN_HOUR=i;f.formatVideoDuration=a}),66);
__d("PolarisAsyncCommentLikedByListContainer",["JSResourceForInteraction","PolarisAsyncComponent","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";a=d("PolarisAsyncComponent").createAsyncComponent_DEPRECATED({displayName:"CommentLikedByListContainer",resolve:function(){return c("JSResourceForInteraction")("PolarisCommentLikedByListContainer.react").__setRef("PolarisAsyncCommentLikedByListContainer").load().then(function(a){return c("xigRequireInterop")(a)})}});g["default"]=a}),98);
__d("PolarisUserTagIndicatorWithSheet.react",["fbt","PolarisUserTagIndicator.react","PolarisUserTagSheet.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Tagged");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=function(){c.props.onClick!=null&&c.props.onClick(),c.props.disableSheet!==!0&&c.setState({isUserTagSheetOpen:!0})};c.$2=function(){c.setState({isUserTagSheetOpen:!1})};c.state={isUserTagSheetOpen:!1};return c}var e=b.prototype;e.render=function(){return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:this.$1}),this.state.isUserTagSheetOpen&&i.jsx(d("PolarisUserTagSheet.react").UserTagSheet,{mediaId:this.props.mediaId,onClose:this.$2,title:j,usertags:this.props.usertags})]})};return b}(i.PureComponent);g["default"]=a}),98);
__d("PolarisLoggedOutUserTagIndicatorWithSheet.react",["PolarisConfig","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux","PolarisUA","PolarisUserTagIndicatorWithSheet.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.analyticsContext,e=a.mediaId,f=a.post;a=a.usertags;var g=d("PolarisReactRedux").useDispatch(),j=i(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"tagged_icon_click",module:b||""}),d("PolarisUA").isDesktop()&&!d("PolarisConfig").isNetzDGEligible()&&g(d("PolarisNavigationActions").openLoginModal("feature_wall",window.location.href,"post_tagged"))},[b,g]);return h.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:b,disableSheet:d("PolarisUA").isDesktop(),mediaId:e,onClick:j,post:f,usertags:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostMediaOverlayInfoFooterCTA.react",["fbt","CometPlaceholder.react","JSResourceForInteraction","PolarisAssetManagerGlyphMapping","PolarisIGCoreIcon","PolarisIGCoreInfoPanoOutlineIcon","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisPostFooterCTA.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostMediaOverlayInfoFooterCTA.react"));function o(a,b){var c=a.analyticsContext,e=a.bannerInfo,f=a.entityID,g=e.bannerButton,h=e.overlayLayout,i=e.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:g,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(c),entityID:f,event:b,overlayLayout:h,overlayType:i})})}function p(a){var b=a.entityID,c=a.onLoggedImpression;o(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION);c!=null&&c(b)}function q(a){o(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION)}function r(a,b){q(a),b()}function s(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;b=b.text_color;e=e!=null?h._("{text}",[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return i.jsx(c("PolarisIGCoreInfoPanoOutlineIcon"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return i.jsx(c("PolarisIGCoreIcon"),{alt:e,icon:d("PolarisAssetManagerGlyphMapping").ICONS.WARNING_OUTLINE_16_RED5});return null}function a(a,b){var e=m(!1),f=e[0],g=e[1];e=m(0);var h=e[0],l=e[1];e=a.bannerInfo;var o=a.disableImpressionLogging,q=a.entityID,u=a.forceBottomBorder,v=a.fullWidth,w=a.isForSidecar,x=e.animationInfo,y=e.bannerButton;e=e.text;var z=x.canAnimateSlideIn,A=x.isHidden;x=y.action;var B=y.action_url,C=y.has_chevron,D=y.is_text_centered,E=y.secondary_text;y=y.text_color;var F=x===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?B:void 0,G=t(a),H=G!==q;j(function(){(H||f===!1)&&o!==!0&&A!==!0?(p(a),g(!0)):H&&g(!1)},[o,A,H,f,a,g]);G=x!==d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP?function(){return r(a,function(){return l(h+1)})}:void 0;var I=function(){l(0)},J=k(function(){return{media_id:q,module:a.analyticsContext||""}},[q,a.analyticsContext]);return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisPostFooterCTA.react"),{disableAnimation:!z,externalURL:F,forceBottomBorder:u,fullWidth:v,icon:s(a),isActive:!A,isForSidecar:w,onClick:G,ref:b,secondaryText:E,showChevron:(z=C)!=null?z:!1,text:e,textAlign:D===!0?"center":"left",textThemedColor:y}),x===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&h>0&&B!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{appId:B,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:I},params:J},h)})]})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b=a.entityID,c=l();j(function(){c.current=b});return c.current}e=i.forwardRef(a);g["default"]=e}),98);
__d("PolarisPostModalRenderingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext,i=b.createContext({isInModal:!1});function a(){return h(i)}g.PolarisPostModalRenderingContext=i;g.usePolarisPostModalRenderingContext=a}),98);
__d("PolarisPostOverlayInfoFooterCTA.react",["PolarisPostMediaOverlayInfoFooterCTA.react","PolarisPostUtils","PolarisgetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a,b,c){return i(function(){if(a==null)return null;var e=a.isSidecar,f=null,g=null;if(e===!0){var h=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,b);h!=null&&(g=d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromSidecarChild(h,c[h.id]===!0),g!=null&&(f=h))}f==null&&(g=d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(a,c[a.id]===!0),g!=null&&(f=a));return{itemWithBanner:f,bottomBannerInfo:g,isParentPostSidecar:e}},[b,c,a])}function k(a){var b=a.analyticsContext,d=a.itemWithBanner,e=a.bottomBannerInfo,f=a.isParentPostSidecar,g=a.idsWithDisabledMediaOverlayInfoImpressionLogging,i=a.dynamicFooterRef;a=a.onLogOverlayImpression;if(d==null)return null;if(e!=null){var j=e.hasMediaCover;j=j||g[d.id]===!0;return h.jsx(c("PolarisPostMediaOverlayInfoFooterCTA.react"),{analyticsContext:b,bannerInfo:e,disableImpressionLogging:j,entityID:d.id,isForSidecar:f,onLoggedImpression:a,ref:i})}return null}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.currentSidecarIndex,c=a.idsWithClearedBlurOverlays,d=a.rootPost;a=babelHelpers.objectWithoutPropertiesLoose(a,["currentSidecarIndex","idsWithClearedBlurOverlays","rootPost"]);d=j(d,b,c);return d!=null?h.jsx(k,babelHelpers["extends"]({},d,a)):null}a.displayName=a.name+" [from "+f.id+"]";g.useShowFooterCTA=j;g.PolarisPostOverlayInfoFooterCTARenderer=k;g.PolarisPostOverlayInfoFooterCTA=a}),98);
__d("PolarisIgtvPreviewEndFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("igtv_preview_end",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisIgtvViewerEntryFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("igtv_viewer_entry",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisIgtvViewerExitFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("igtv_viewer_exit",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisIGTVConsumptionLogger",["PolarisIgtvPreviewEndFalcoEvent","PolarisIgtvViewerEntryFalcoEvent","PolarisIgtvViewerExitFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.containerModule,d=a.creatorId,e=a.mediaId;c("PolarisIgtvPreviewEndFalcoEvent").log(function(){return{container_module:b,creator_id:d,media_id:e}})}function b(b){var d=b.action,e=b.igtvViewerSessionId,g=b.mediaId,a=b.module;c("PolarisIgtvViewerEntryFalcoEvent").log(function(){return{action:d,module:a,igtv_viewer_session_id:e,media_id:g}})}function d(a){var b=a.action,d=a.containerModule,e=a.igtvViewerSessionId,f=a.mediaId;c("PolarisIgtvViewerExitFalcoEvent").log(function(){return{action:b,container_module:d,igtv_viewer_session_id:e,media_id:f}})}g.logPreviewEnd=a;g.logViewerEntry=b;g.logViewerExit=d}),98);
__d("PolarisVideoHeight",["PolarisSizing"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){Object.assign(e,{height:"100%",position:"absolute",width:"100%"});var f=null;a.dimensions!=null&&(f=d("PolarisSizing").getHeightPercent(a.dimensions));f!=null&&f!==100&&(b&&(f=Math.min(f,d("PolarisSizing").CAPPED_HEIGHT_PERCENT)),Object.assign(c,{paddingBottom:"calc("+f+"% - 1px)"}),Object.assign(e,{height:"calc(100% + 1px)"}))}g.setVideoHeightCompensation=a}),98);
__d("PolarisDeclarativeOzVideo.react",["PolarisdeveloperSettings","cr:1587","nullthrows","react","usePolarisOzPlayer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.children,f=a.dashInfo,g=a.fallbackSrc,i=a.onFormatChanged,j=a.onPlayerReady;a=a.videoRef;var k=a.current;j={onPlayerReady:j,onSwitchVideoRepresentation:i};i=d("usePolarisOzPlayer").useOzPlayer(null,c("nullthrows")(f.video_dash_manifest),k,j,g);f=i.ozPlayer;return b("cr:1587")!=null&&d("PolarisdeveloperSettings").getOzDebuggerEnabled()&&f&&k?h.jsxs(h.Fragment,{children:[e(a,f),h.jsx(b("cr:1587"),{player:f,video:k})]}):e(a,f)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDeclarativeVideo.react",["cx","invariant","PolarisDeclarativeOzVideo.react","PolarisODS","PolarisScrollPositionHistory","PolarisgetCrossOriginAttribute","justknobx","nullthrows","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=["canplaythrough","ended","error","loadedalldata","loadeddata","loadedmetadata","loadstart","pause","play","playing","ratechange","seeking","seeked","timeupdate","waiting"];function l(a){return"on"+a.charAt(0).toUpperCase()+a.slice(1)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$4=j.createRef(),d.$5=j.createRef(),d.$8=!1,d.$9=!1,d.$10=!1,d.$11=!1,d.$12=0,d.$15=null,d.onPlayerReady=function(){d.props.playing&&d.play(),d.props.onPlayerReady()},d.$16=function(a,b){if(!d.$2)return;var e=c("nullthrows")(d.$4.current);switch(a){case"loadedmetadata":d.$3=!0;break;case"play":d.$19(e);break;case"playing":d.$20(e);break;case"ratechange":d.$21(e);break;case"seeking":d.$22(e);break;case"timeupdate":d.$23(e);break;case"waiting":d.$24(e);break}d.$11&&a!=="play"&&a!=="timeupdate"&&(d.$12=0);d.$25(a,b)},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=[];this.$2=!0;this.$7=!1;this.$3=!1;var b=c("nullthrows")(this.$4.current);k.forEach(function(c){var d=a.$16.bind(a,c);a.$1!=null||i(0,51514);a.$1.push([c,d]);b.addEventListener(c,d)});this.isDashEligible()||this.onPlayerReady();this.props.useBrowserControls===!0&&c("justknobx")._("230")===!0&&d("PolarisScrollPositionHistory").restoreScrollPositionOnFullscreenExit()};e.componentDidUpdate=function(a,b){b=c("nullthrows")(this.$4.current);this.props.loop!==a.loop&&(b.loop=!!this.props.loop);this.props.playing&&!a.playing?this.play():this.props.paused&&a.playing?this.pause():!this.props.paused&&!this.props.playing&&(a.paused||a.playing)&&(this.pause(),this.$3&&!isNaN(b.duration)&&(b.currentTime=0))};e.componentWillUnmount=function(){this.$2=!1;var a=c("nullthrows")(this.$4.current);this.$1!=null||i(0,51514);this.$1.forEach(function(b){var c=b[0];b=b[1];a.removeEventListener(c,b)});this.$1=void 0};e.pause=function(){if(this.$15!=null){c("PolarisODS").incr("web.video.pause_while_play_promise");return!1}c("nullthrows")(this.$4.current).pause();return!0};e.play=function(){var a=this;this.$15=c("nullthrows")(this.$4.current).play();this.$15&&this.$15.then(function(){a.$15=null})["catch"](function(b){a.$15=null})};e.getDuration=function(){return c("nullthrows")(this.$4.current).duration};e.getCurrentTime=function(){return c("nullthrows")(this.$4.current).currentTime};e.getPauseTime=function(){return this.$13!=null?this.$13:this.getCurrentTime()};e.getVideo=function(){return this.$4.current};e.getCurrentVideoRepresentationID=function(){var a;return(a=this.$5.current)==null?void 0:(a=a.getCurrentVideoRepresentation())==null?void 0:a.getID()};e.isDashEligible=function(){var a;return((a=this.props.dashInfo)==null?void 0:a.is_dash_eligible)===!0};e.$17=function(a){return this.props.useBrowserControls?!a.paused&&this.$6!==void 0&&!isNaN(a.duration)&&this.$6-a.currentTime>a.duration-.5:this.$6!==void 0&&a.currentTime<this.$6&&this.props.playing&&this.$6-a.currentTime>a.duration-.5};e.$18=function(a){a.preventDefault()};e.$19=function(a){this.$11&&this.$26()};e.$20=function(a){var b=this.props,c=b.onBufferingEnd;b=b.onVideoStartedPlaying;this.isDashEligible()?a.playbackRate===0?this.$10=!0:b&&b():(b&&b(),this.$7&&(this.$7=!1,c&&c()))};e.$21=function(a){var b=this.props,c=b.onBufferingEnd,d=b.onBufferingStart,e=b.onVideoStartedPlaying;b=b.playing;this.isDashEligible()&&b&&(a.playbackRate===0&&d?d():a.playbackRate===1&&(this.$10?(e&&e(),this.$10=!1):c&&c()))};e.$22=function(a){var b=this.props,c=b.onVideoSeekStart,d=b.paused,e=b.playing;b=b.useBrowserControls;if(!b)return;if(d&&!this.$11)this.$13=this.$6,this.$14=a.currentTime,this.$11=!0;else if(e&&!this.$11){if(this.$17(a)||this.$6===a.currentTime)return;this.$13=this.$6;this.$14=a.currentTime;this.$11=!0;c&&c()}else this.$11&&(this.$14=a.currentTime)};e.$23=function(a){var b=this.props,d=b.onLoop;b=b.useBrowserControls;this.$17(a)&&d?(d(),this.$9||(c("PolarisODS").incr("web.video.finished_loop"),this.$9=!0)):this.props.playing&&a.paused&&b&&a.seeking&&!this.$11&&(this.$13=this.$6,this.$11=!0);this.$11&&(this.$6!==a.currentTime&&this.$12++,this.$12>2&&this.$26(!0));this.$6=a.currentTime;!this.$8&&this.$6>3&&(c("PolarisODS").incr("web.video.playing_3s"),this.$8=!0)};e.$24=function(a){var b=this.props.onBufferingStart;!this.isDashEligible()&&a.currentTime>0&&b&&(this.$7=!0,b())};e.$26=function(a){a===void 0&&(a=!1);var b=this.props.onVideoSeekEnd;b&&this.$13!=null&&this.$14!=null&&b(this.$13,this.$14,a);this.$11=!1;this.$12=0;this.$13=null;this.$14=null};e.$25=function(a,b){a=this.props[l(a)];a&&a(b)};e.render=function(){var a=this,b=this.props,d=b.alt,e=b.constrainPosterHeight,f=b.constrainVideoHeight,g=b.dashInfo,h=b.hideRightClickMenu,i=b.loop,k=b.muted,l=b.onFormatChanged,m=b.playsInline,n=b.poster,o=b.preload,p=b.src,q=b.type;b=b.useBrowserControls;var r=!this.props.playing&&!this.props.paused;r=!b&&r;var s={className:"_ab1d"+(f?" _adha":""),controls:b,controlsList:b?"nodownload":void 0,crossOrigin:c("PolarisgetCrossOriginAttribute")(),muted:k,onContextMenu:h?this.$18:void 0,playsInline:m,loop:i,poster:n,preload:o,type:q};return j.jsx("div",{className:"_acam",children:j.jsxs("div",{className:"_ab1c",children:[this.isDashEligible()&&g?j.jsx(c("PolarisDeclarativeOzVideo.react"),{dashInfo:g,fallbackSrc:p,onFormatChanged:l,onPlayerReady:this.onPlayerReady,videoRef:this.$4,children:function(b,c){a.$5.current=c;return j.jsx("video",babelHelpers["extends"]({},s,{ref:b}))}}):j.jsx("video",babelHelpers["extends"]({},s,{ref:this.$4,src:p})),r&&n&&j.jsx("img",{alt:d||void 0,className:"_ab1e"+(e?" _adhb":""),crossOrigin:c("PolarisgetCrossOriginAttribute")(),src:n})]})})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisFeedMediaTypeIndicator.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children;a=a.onClick;return i.jsx("button",{className:"_aan2 _aan3",onClick:a,children:i.jsx("div",{className:"_aan4",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGTVMediaTypeIndicator.react",["fbt","PolarisFeedMediaTypeIndicator.react","PolarisIGCoreCirclePlayPanoIcon","PolarisgetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClick,e=a.post;a=a.visible;a=a===void 0?!0:a;if(!a)return null;if(!d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(e))return null;a=h._("IGTV");return i.jsx(c("PolarisFeedMediaTypeIndicator.react"),{onClick:b,children:i.jsx(c("PolarisIGCoreCirclePlayPanoIcon"),{alt:a,color:"web-always-white",size:12})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoIndicatorIcon.react",["PolarisConfig","PolarisIGTVMediaTypeIndicator.react","PolarisLoggedOutUserTagIndicatorWithSheet.react","PolarisUpcomingEventIndicatorWithSheetOrModal.react","PolarisUserTagIndicatorWithSheet.react","PolarisvideoUtils","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.analyticsContext,e=a.asSidecarChild,f=a.firstSidecarChildSrc,g=a.onClickIGTVIcon,i=a.post,j=a.upcomingEventMediaId,k=a.visible;a=a.hasIGTVFeedPreview;var l=i.id,m=i.src,n=i.upcomingEvent,o=i.usertags;if(n)return h.jsx(c("PolarisUpcomingEventIndicatorWithSheetOrModal.react"),{analyticsContext:b,isVideo:!0,mediaId:c("nullthrows")(j),upcomingEvent:n,upcomingEventThumbnailSrc:c("nullthrows")(e===!0?f:m),usertags:o});if(o!=null&&o.length>0&&b!=="reelsTab")return d("PolarisConfig").isLoggedIn()?h.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:b,mediaId:l,post:i,usertags:o}):h.jsx(c("PolarisLoggedOutUserTagIndicatorWithSheet.react"),{analyticsContext:b,mediaId:l,post:i,usertags:o});return a===!0&&g!=null&&d("PolarisvideoUtils").isIGTVFeedPreview(b,i)?h.jsx(c("PolarisIGTVMediaTypeIndicator.react"),{onClick:g,post:i,visible:k}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGTVFullscreenVideoOverlay.react",["cx","fbt","PolarisBigNumber.react","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreChevronIcon","PolarisIGCoreConstants","PolarisIGCoreSVGIconButton","PolarisIGCoreText","PolarisReactRedux","PolarisUserAvatar.react","PolarispostSelectors","PolarisuserSelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClose;a.playerState;var e=a.postId,f=d("PolarisReactRedux").useSelector(function(a){return d("PolarispostSelectors").getPostById(a,e)});a=f.title;var g=f.videoViews,h=d("PolarisReactRedux").useSelector(function(a){var b=f.owner;return b!=null?d("PolarisuserSelectors").getUserById(a,b.id):null}),m=i._("Video");return j.jsxs("div",{className:"_aa-1",children:[j.jsx("div",{className:"_aa-2",children:j.jsxs("div",{className:"_aa-3",children:[j.jsx("div",{className:"_aa-4",children:j.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:b,padding:0,children:j.jsx(c("PolarisIGCoreChevronIcon"),{alt:d("PolarisGenericStrings").BACK_TEXT,color:"web-always-white",direction:"left"})})}),j.jsx(c("PolarisIGCoreBox"),{alignItems:"center",flex:"grow",justifyContent:"center",children:j.jsx(c("PolarisIGCoreText").Title,{color:"web-always-white",children:m})}),j.jsx("div",{className:"_aa-4"})]})}),j.jsx("div",{className:"_aa-5",children:j.jsxs(c("PolarisIGCoreBox"),{flex:"grow",padding:4,children:[h&&j.jsx(k,{owner:h}),j.jsx(c("PolarisIGCoreText").Section,{color:"web-always-white",display:"truncated",children:a}),g!=null&&g>0&&j.jsx(c("PolarisIGCoreBox"),{marginTop:2,children:j.jsx(c("PolarisIGCoreText").Body,{color:"web-always-white",children:j.jsx(l,{count:g})})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){a=a.owner;return j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",flex:"grow",marginBottom:2,children:[j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,username:a.username}),j.jsx(c("PolarisIGCoreBox"),{marginStart:2,children:j.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",display:"truncated",children:a.username})})]})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.count;return a===1?i._("{count} view",[i._param("count",a)]):i._("{count} views",[i._param("count",j.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:a}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisKeepWatchingVideoOverlay.react",["cx","fbt","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisVideoConstants","PolarisformatVideoDuration","react","usePolarisPost"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._("Keep watching");function a(a){var b=a.onKeepWatching;a=a.postId;return j.jsxs("div",{className:"_ab1h",children:[j.jsx(m,{postId:a}),j.jsx("div",{className:"_ab1i",children:j.jsx(c("PolarisIGCoreButton"),{color:"web-always-white",large:!0,onClick:b,children:j.jsx(c("PolarisIGCoreBox"),{direction:"row",justifyContent:"center",children:j.jsx("div",{className:"_ab1j",children:k})})})})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.videoDuration||0;return a-d("PolarisVideoConstants").VIDEO_PREVIEW_DURATION_SECONDS}function m(a){a=a.postId;a=d("usePolarisPost").usePost(a,l);if(a<=0)return null;a=d("PolarisformatVideoDuration").formatVideoDuration(a);if(a==null)return null;a=i._("{duration} remaining",[i._param("duration",a)]);return j.jsx(c("PolarisIGCoreText").Body,{color:"web-always-white",textAlign:"right",children:a})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoLoggedOutAppUpsellOverlay.react",["PolarisAppInstallStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisIgLiteCarbonUpsellsUtils","PolarisLinkBuilder","PolarisLoggedOutCtaLogger","PolarisNavigationStrings","PolarisOpenInApp","browserHistory","react","usePolarisGetDeepLink"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(){var a=c("usePolarisGetDeepLink")(),b=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible();j(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"end_of_video_app_upsell",ctaVersion:b?"instagramlitecarbon":"",eventName:"impression"})},[b]);var e=i(function(c){c.preventDefault();d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"end_of_video_app_upsell",ctaVersion:b?"instagramlitecarbon":"",eventName:"app_open_click"});c=a();var e=c.android,f=c.ios;c=c.originalPath;d("PolarisOpenInApp").openInApp(e,f,c,null,b)},[a,b]),f=i(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"end_of_video_app_upsell",ctaVersion:b?"instagramlitecarbon":"",eventName:"login_click"})},[b]);return h.jsx("div",{className:"x13vifvy x17qophe x7v9bd0 x127lhb5 x48ylwx x5yr21d xh8yej3 x10l6tqk",children:h.jsxs(c("PolarisIGCoreBox"),{direction:"column",display:"flex",height:"100%",position:"absolute",width:"100%",children:[h.jsx(c("PolarisIGCoreBox"),{alignItems:"center",flex:"grow",justifyContent:"center",children:h.jsx(c("PolarisIGCoreText").Body,{color:"ig-tertiary-text",children:d("PolarisAppInstallStrings").LOG_IN_TO_WATCH_AGAIN})}),h.jsxs(c("PolarisIGCoreBox"),{marginBottom:4,paddingX:4,width:"100%",children:[h.jsx(c("PolarisIGCoreButton"),{color:"web-always-white",large:!0,onClick:function(a){return e(a)},children:h.jsx("div",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:b?d("PolarisAppInstallStrings").ENT_OF_VIDEO_INSTAGRAM_LITE_CTA:d("PolarisAppInstallStrings").SWITCH_TO_THE_APP})}),h.jsx(c("PolarisIGCoreBox"),{padding:4,children:h.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",href:d("PolarisLinkBuilder").buildLoginLink(d("browserHistory").getPath(d("browserHistory").browserHistory),{source:"logged_out_video_overlay"}),large:!0,onClick:function(){return f()},children:h.jsx("div",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:d("PolarisNavigationStrings").LOG_IN_TEXT})})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisZeroVideoBanner.react",["cx","PolarisZeroDataStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsx("div",{className:"_aazz",children:i.jsxs("div",{className:"_aaz-",children:[i.jsx("span",{className:"_aaz_ _9z-c"}),i.jsx("span",{className:"_aa-0",children:d("PolarisZeroDataStrings").ZERO_DATA_BANNER})]})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("PolarisVideoLegacy.react",["cx","PolarisConfig","PolarisContainerModuleUtils","PolarisDeclarativeVideo.react","PolarisIGTVConsumptionLogger","PolarisIGTVFullscreenVideoOverlay.react","PolarisKeepWatchingVideoOverlay.react","PolarisLogger","PolarisODS","PolarisPigeonLogger","PolarisUA","PolarisVideoConstants","PolarisVideoHeight","PolarisVideoIndicatorIcon.react","PolarisVideoLoggedOutAppUpsellOverlay.react","PolarisVideoPlayButton.react","PolarisVideoVolumeControls.react","PolarisVolumeControlsManager.react","PolarisZeroNUXModal.react","PolarisZeroRatingUtils","PolarisZeroVideoBanner.react","PolarisgetPostFromGraphMediaInterface","PolarisisUserLoggedIn","PolarisvideoEventLogger","PolarisvideoUtils","VideoPlaybackQuality","gkx","joinClasses","keyMirror","nullthrows","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="video/mp4",k=c("keyMirror")({notLoaded:null,ready:null});a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=!1;e.$3=1;e.$4=0;e.$5=0;e.$6=0;e.$7=!1;e.$8=0;e.$10=!1;e.$11=d("PolarisZeroRatingUtils").isZeroRatingSlimEligible();e.$12=null;e.$13=null;e.$14=null;e.$16=function(a,b){e.$12==null&&(e.$12=0);e.$12++;e.$13=b.presentedFrames;e.$14=(a=e.$2)==null?void 0:(b=a.getVideo())==null?void 0:b.requestVideoFrameCallback(e.$16)};e.showZeroNuxOrPlay=function(){e.props.hasSeenZeroNUX===!0?e.play():e.setState({isZeroNuxOpen:!0})};e.handleBeforeUnload=function(){var a=d("PolarisvideoUtils").getCurrentVideoTime(e.$2);e.$19(!0);d("PolarisvideoEventLogger").logVideoExitedEvent(babelHelpers["extends"]({},e.$17(),{exitTime:a,hasPlayedVideo:e.$7,lastStartPosition:e.$4,loopsCount:e.$6}))};e.handleBufferingEnd=function(){d("PolarisvideoEventLogger").logVideoBufferingFinished(babelHelpers["extends"]({},e.$17(),{lastStartPosition:e.$4,loopsCount:e.$6,relationship:e.props.relationship,timeAsPercent:d("PolarisvideoUtils").getTimeAsPercentage(e.$2)}))};e.handleBufferingStart=function(){d("PolarisvideoEventLogger").logVideoBufferingStarted(babelHelpers["extends"]({},e.$17(),{loopsCount:e.$6,relationship:e.props.relationship,timeAsPercent:d("PolarisvideoUtils").getTimeAsPercentage(e.$2)}))};e.handleFormatChanged=function(a){d("PolarisvideoEventLogger").logVideoFormatChanged(babelHelpers["extends"]({},e.$17(),e.$18(),{lastStartPosition:e.$4,loopsCount:e.$6,representationId:a}))};e.handleVisiblityChange=function(){var a=document.visibilityState&&document.visibilityState==="hidden";e.setState({isIGTabInBackground:a});if(c("qex")._("1964")===!0){d("PolarisvideoUtils").getShouldStopVideoInBackground(e.$2,a)&&(c("PolarisODS").incr("web.video.old.log_video_paused.visibility_change"),e.$1&&(d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},e.$17(),e.$18(),{lastStartPosition:e.$4,loopsCount:e.$6})),e.$1=!1),e.setState({playerState:d("PolarisVideoConstants").PLAYER_STATES.paused}));return}a&&e.$19()};e.$19=function(a){a===void 0&&(a=!1),e.isPlaying()&&(e.$1&&(d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},e.$17(),e.$18(),{lastStartPosition:e.$4,loopsCount:e.$6})),e.$1=!1),e.setState({playerState:d("PolarisVideoConstants").PLAYER_STATES.finished}),a?c("PolarisODS").incr("web.video.old.log_video_paused.exit"):c("PolarisODS").incr("web.video.old.log_video_paused.visibility_change"))};e.handleEnded=function(){e.stop();var a=d("PolarisPigeonLogger").getState().session.sessionID;e.$8=e.$9!==a?1:e.$8+1;e.$9=a;e.props.onFinished&&e.props.onFinished(e.$8)};e.handlePlayerReady=function(){e.state.loadState!==k.ready&&e.setState({loadState:k.ready})};e.handleLoop=function(){e.$6++};e.handleContainerClick=function(a){return function(b){a.audioState==="off"&&e.isPlaying()&&c("qex")._("111")===!0?e.handleVolumeControlAudioStateToggle(a)(b):!e.isPlaying()?e.$11?e.showZeroNuxOrPlay():(a.audioState==="off"&&c("qex")._("111")===!0&&e.handleVolumeControlAudioStateToggle(a)(b),e.play(b)):e.pause(b)}};e.handlePause=function(){e.state.playerState!==d("PolarisVideoConstants").PLAYER_STATES.paused&&e.pause()};e.handlePlaying=function(){e.state.playerState===d("PolarisVideoConstants").PLAYER_STATES.requestedPlay&&(d("PolarisvideoEventLogger").logVideoStartedPlaying(babelHelpers["extends"]({},e.$17(),e.$18(),{lastShouldStartTime:e.$5})),e.$5=0,e.$1=!0),e.setState({playerState:d("PolarisVideoConstants").PLAYER_STATES.playing})};e.handleSeekStarted=function(){e.isPlaying()&&e.$1&&(c("PolarisODS").incr("web.video.old.log_video_paused.seek"),d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},e.$17(),e.$18(),{lastStartPosition:e.$4,loopsCount:e.$6})),e.$1=!1)};e.handleSeekEnded=function(a){return function(b,c,f){d("PolarisvideoEventLogger").logVideoSeekingEnded(babelHelpers["extends"]({},e.$17(),{fromTime:b,toTime:c}));if(f){e.$6=0;a&&d("PolarisvideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},e.$17(),{loopsCount:e.$6}));d("PolarisvideoEventLogger").logVideoShouldStart(e.$17());e.$5=Date.now();e.$4=e.$2?e.$2.getCurrentTime():e.$4;b=function(){d("PolarisvideoEventLogger").logVideoStartedPlaying(babelHelpers["extends"]({},e.$17(),e.$18(),{lastShouldStartTime:e.$5})),e.$5=0,e.$1=!0};b()}}};e.handleTimeUpdate=function(){var a=e.props,b=a.analyticsContext;a=a.post;var c=e.state,f=c.isIGTVVideoExpanded;c=c.isKeepWatchingOverlayVisible;if(!f&&!c&&d("PolarisvideoUtils").didReachEndOfIGTVPreview(b,a,e.$2)){f=e.props.post;c=f.id;b=f.owner;a=d("PolarisContainerModuleUtils").getContainerModule(e.props.analyticsContext);d("PolarisIGTVConsumptionLogger").logPreviewEnd({containerModule:a,creatorId:b==null?void 0:b.id,mediaId:c});e.pause();e.setState({isKeepWatchingOverlayVisible:!0})}};e.handleZeroNuxAction=function(a){a.stopPropagation();if(a.isDefaultPrevented())return;a=e.props.onUpdateZeroNUXPreference;a&&a(d("PolarisZeroRatingUtils").ZeroNUXMedia.video);e.setState({isZeroNuxOpen:!1});e.play()};e.handleZeroNuxClose=function(a){a&&a.stopPropagation(),e.setState({isZeroNuxOpen:!1})};e.handlePlayRequested=function(a){return function(){e.state.playerState!==d("PolarisVideoConstants").PLAYER_STATES.requestedPlay&&e.setState({playerState:d("PolarisVideoConstants").PLAYER_STATES.requestedPlay}),e.$7||c("PolarisODS").incr("web.video.old.log_initial_video_should_start"),e.$6=0,e.$7=!0,a&&d("PolarisvideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},e.$17(),{loopsCount:e.$6})),d("PolarisvideoEventLogger").logVideoShouldStart(e.$17()),e.$5=Date.now(),e.$4=e.$2?e.$2.getCurrentTime():e.$4}};e.handleClickIGTVIcon=function(){e.handleKeepWatching("icon_tap")};e.handleClickKeepWatching=function(){e.handleKeepWatching("continue_watching")};e.handleKeepWatching=function(a){var b=d("PolarisContainerModuleUtils").getContainerModule(e.props.analyticsContext);d("PolarisIGTVConsumptionLogger").logViewerEntry({action:a,igtvViewerSessionId:e.$9,mediaId:e.props.post.id,module:"igtv_preview_"+b});e.setState({isIGTVVideoExpanded:!0,isKeepWatchingOverlayVisible:!1},function(){e.play()})};e.handleCloseExpandedIGTVVideo=function(){e.isPlaying()&&e.$1&&(c("PolarisODS").incr("web.video.old.log_video_paused.pause"),d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},e.$17(),e.$18(),{lastStartPosition:e.$4,loopsCount:e.$6})),e.$1=!1);var a=d("PolarisContainerModuleUtils").getContainerModule(e.props.analyticsContext);d("PolarisIGTVConsumptionLogger").logViewerExit({action:"tap_exit",containerModule:"igtv_preview_"+a,igtvViewerSessionId:e.$9,mediaId:e.props.post.id});e.setState({isIGTVVideoExpanded:!1,playerState:d("PolarisVideoConstants").PLAYER_STATES.finished})};e.handleVolumeControlAudioStateToggle=function(a){return function(b){b.preventDefault();b=a.audioState==="on";a.toggleAudioState();if(e.isPlaying()){b=b?d("PolarisvideoEventLogger").logAudioDisabled:d("PolarisvideoEventLogger").logAudioEnabled;b(babelHelpers["extends"]({},e.$17(),{loopsCount:e.$6}))}}};e.isPlaying=function(a){a===void 0&&(a=e.state);return a.playerState===d("PolarisVideoConstants").PLAYER_STATES.playing||a.playerState===d("PolarisVideoConstants").PLAYER_STATES.requestedPlay};e.isVisible=function(a){a===void 0&&(a=e.props);return!!a.isVisible};b={hideZeroVideoBanner:!1,isIGTVVideoExpanded:!1,isIGTabInBackground:!1,isKeepWatchingOverlayVisible:!1,isZeroNuxOpen:!1,loadState:k.notLoaded,playerState:null,isUserTagSheetOpen:!1};e.state=b;return e}var e=b.prototype;e.$15=function(){var a;return"requestVideoFrameCallback"in HTMLVideoElement.prototype&&((a=this.$2)==null?void 0:a.getVideo())!=null&&this.props.adInfo!=null&&c("gkx")("6726")};e.componentDidMount=function(){this.$9=d("PolarisPigeonLogger").getState().session.sessionID;document.addEventListener("visibilitychange",this.handleVisiblityChange);window.addEventListener("beforeunload",this.handleBeforeUnload);this.props.shouldAutoPlay===!0&&this.state.loadState===k.ready&&this.play();if(this.$15()){var a;this.$14=(a=this.$2)==null?void 0:(a=a.getVideo())==null?void 0:a.requestVideoFrameCallback(this.$16)}};e.componentDidUpdate=function(a,b){this.props.post.videoUrl!==a.post.videoUrl&&(this.$6=0);if(d("PolarisvideoUtils").getShouldStopVideoWhenNotVisible(this.props.analyticsContext,this.state.isIGTVVideoExpanded,this.props.post)&&this.isVisible()===!1&&this.isVisible(a)===!0){if(c("qex")._("1964")===!0&&this.state.isIGTabInBackground)return;this.isPlaying()&&(c("PolarisODS").incr("web.video.old.log_video_paused.exit_viewport"),this.$1&&(d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},this.$17(),this.$18(),{lastStartPosition:this.$4,loopsCount:this.$6})),this.$1=!1));this.stop()}else this.props.shouldAutoPlay===!0&&a.shouldAutoPlay===!1&&this.state.loadState===k.ready?this.play():this.props.shouldAutoPlay===!0&&this.state.loadState===k.ready&&b.loadState!==k.ready&&this.play()};e.componentWillUnmount=function(){this.handleBeforeUnload();document.removeEventListener("visibilitychange",this.handleVisiblityChange);window.removeEventListener("beforeunload",this.handleBeforeUnload);if(this.$14!=null){var a;(a=this.$2)==null?void 0:(a=a.getVideo())==null?void 0:a.cancelVideoFrameCallback(this.$14)}};e.$17=function(){var a;return babelHelpers["extends"]({analyticsContext:this.props.analyticsContext,carouselParentId:this.props.post.carouselParentId,currentVideoTime:d("PolarisvideoUtils").getCurrentVideoTime(this.$2),dashInfo:d("PolarisvideoUtils").getDashInfo(this.props.post),duration:(a=this.$2)==null?void 0:a.getDuration(),id:this.props.post.id,owner:this.props.post.owner,postedAt:this.props.post.postedAt,trackingToken:this.props.post.trackingToken,sequenceNumber:this.$3++,videoWidth:(a=this.$2)==null?void 0:(a=a.getVideo())==null?void 0:a.videoWidth},d("PolarisvideoEventLogger").getAdLoggingParams(this.props.adInfo))};e.$18=function(){var a,b;a=(a=this.$2)==null?void 0:a.getCurrentVideoRepresentationID();if(this.$15())return this.$13==null||this.$12==null?null:{droppedFrameCount:this.$13-this.$12,representationID:a,totalFrameCount:this.$13};b=(b=this.$2)==null?void 0:b.getVideo();if(b!=null&&this.props.adInfo!=null&&c("qex")._("990")===!0){var e=d("VideoPlaybackQuality").getTotalFrames(b);return{droppedFrameCount:d("VideoPlaybackQuality").getDroppedFrames(b),representationID:a,totalFrameCount:e}}return null};e.getNextSequenceNumber=function(){return this.$3++};e.getLoopCount=function(){return this.$6};e.getDeclarativeVideoRef=function(){return this.$2};e.play=function(a){if(this.isPlaying()){c("PolarisODS").incr("web.video.invalid_state_transition.request_play");return}this.props.onPlay!=null&&this.props.onPlay(a);this.state.loadState===k.notLoaded&&c("PolarisODS").incr("web.video.play_before_loaded");this.setState({playerState:d("PolarisVideoConstants").PLAYER_STATES.requestedPlay,hideZeroVideoBanner:!0})};e.pause=function(a){if(!this.isPlaying()){c("PolarisODS").incr("web.video.invalid_state_transition.pause");return}this.props.onPause!=null&&this.props.onPause(a);c("PolarisODS").incr("web.video.old.log_video_paused.pause");this.$1&&(d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},this.$17(),this.$18(),{lastStartPosition:this.$4,loopsCount:this.$6})),this.$1=!1);this.setState({playerState:d("PolarisVideoConstants").PLAYER_STATES.paused})};e.stop=function(){if(this.state.playerState===d("PolarisVideoConstants").PLAYER_STATES.finished)return;this.$6=0;this.setState({isKeepWatchingOverlayVisible:!1,playerState:d("PolarisVideoConstants").PLAYER_STATES.finished})};e.showPlayButton=function(){return!this.isPlaying()&&!this.state.isKeepWatchingOverlayVisible&&this.props.analyticsContext!=="reelsTab"};e.$20=function(){if(this.$11&&!this.state.hideZeroVideoBanner){this.$10||(d("PolarisLogger").logZeroEvent({event_name:"video_data_banner_impression"}),this.$10=!0);return i.jsx(c("PolarisZeroVideoBanner.react"),{})}return null};e.$21=function(){var a=null;this.$11&&this.state.isZeroNuxOpen&&(a=i.jsx(c("PolarisZeroNUXModal.react"),{mediaKeyword:d("PolarisZeroRatingUtils").ZeroNUXMedia.video,onAction:this.handleZeroNuxAction,onClose:this.handleZeroNuxClose}));return a};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.asSidecarChild,g=b.autoplay,h=b.className,k=b.enableLoop,l=b.firstSidecarChildSrc,m=b.muteOnMount,n=b.post,o=b.upcomingEventMediaId;b=n.clipsMusicAttributionInfo;var p=m===!0||(b==null?void 0:b.should_mute_audio)===!0,q=b==null?void 0:b.should_mute_audio_reason;m=this.state;var r=m.isIGTVVideoExpanded,s=m.isKeepWatchingOverlayVisible,t=m.playerState,u=d("PolarisvideoUtils").getDashInfo(n),v=d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(n),w=d("PolarisvideoUtils").isIGTVFeedPreview(e,n),x=d("PolarisvideoUtils").getUseBrowserControls(e,r,n),y=k!==!1&&d("PolarisvideoUtils").getShouldVideoLoop(t,this.state.isIGTabInBackground);b=d("PolarisUA").isMobile()&&v;m={};var z={};if(r)z={flex:"1 1 auto"};else{k=d("PolarisvideoUtils").shouldCenterCropPosterHeight(e,n);d("PolarisVideoHeight").setVideoHeightCompensation(n,k,m,z)}var A=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile()&&t===d("PolarisVideoConstants").PLAYER_STATES.finished&&this.$7&&!s&&e!=="reelsTab";return i.jsxs("div",{className:c("joinClasses")(h,"_ab1k","_ab1l"+(r&&b?" _ab1q":"")),style:m,children:[i.jsx(d("PolarisVolumeControlsManager.react").VolumeControlsConsumer,{children:function(b){return i.jsxs(i.Fragment,{children:[i.jsx("div",{style:z,children:i.jsx(c("PolarisDeclarativeVideo.react"),{alt:n.accessibilityCaption,constrainPosterHeight:d("PolarisvideoUtils").shouldCenterCropPosterHeight(e,n),constrainVideoHeight:d("PolarisvideoUtils").shouldCenterCropVideoHeight(e,n),dashInfo:u,hideRightClickMenu:v,loop:y,muted:d("PolarisvideoUtils").getShouldMuteAudio(p?d("PolarisVideoConstants").AUDIO_STATES.none:b.audioState,g),onBufferingEnd:a.handleBufferingEnd,onBufferingStart:a.handleBufferingStart,onEnded:a.handleEnded,onError:a.handleEnded,onFormatChanged:a.handleFormatChanged,onLoop:a.handleLoop,onPause:a.handlePause,onPlay:a.handlePlayRequested(b.audioState==="on"),onPlayerReady:a.handlePlayerReady,onTimeupdate:w?a.handleTimeUpdate:void 0,onVideoSeekEnd:a.handleSeekEnded(b.audioState==="on"),onVideoSeekStart:a.handleSeekStarted,onVideoStartedPlaying:a.handlePlaying,paused:t===d("PolarisVideoConstants").PLAYER_STATES.paused,playing:a.isPlaying(),playsInline:!0,poster:n.src,preload:d("PolarisvideoUtils").getDeclarativeVideoPreload(x),ref:function(b){return a.$2=b},src:c("nullthrows")(n.videoUrl),type:j,useBrowserControls:x})}),!x&&i.jsxs(i.Fragment,{children:[!A&&i.jsx(c("PolarisVideoPlayButton.react"),{onClick:a.handleContainerClick(b),showPlayButton:a.showPlayButton()}),b.enabled&&g===!0&&i.jsx(c("PolarisVideoVolumeControls.react"),{audioState:p||n.hasAudio===!1?d("PolarisVideoConstants").AUDIO_STATES.none:b.audioState,forceMuteReason:q,onClick:a.handleVolumeControlAudioStateToggle(b)}),i.jsx(c("PolarisVideoIndicatorIcon.react"),{analyticsContext:e,asSidecarChild:f,firstSidecarChildSrc:l,hasIGTVFeedPreview:!0,onClickIGTVIcon:a.handleClickIGTVIcon,post:n,upcomingEventMediaId:o,visible:!r&&!s})]}),a.$20(),a.$21(),s&&i.jsx(c("PolarisKeepWatchingVideoOverlay.react"),{onKeepWatching:a.handleClickKeepWatching,postId:n.id}),A&&i.jsx(c("PolarisVideoLoggedOutAppUpsellOverlay.react"),{})]})}}),r&&i.jsx(c("PolarisIGTVFullscreenVideoOverlay.react"),{onClose:this.handleCloseExpandedIGTVVideo,playerState:t,postId:n.id})]})};return b}(i.Component);a.defaultProps={enableLoop:d("PolarisisUserLoggedIn").isUserLoggedIn()};b=a;g._Video=a;g.Video=b}),98);
__d("usePolarisMediaSensitivityOverlay",["PolarisgetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useState;function a(a,b,c,e){var f=i(!0),g=f[0],j=f[1];f=function(a){c&&c(a),j(!1)};var k=h(function(){return d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPostOrSidecarItem(a)},[a]),l=h(function(){var c=function(){return e!=null&&e(a)?!1:k!=null&&g&&(b==="profilePage"||b==="profilePageModal"||b==="postPage"||b==="feed"||b==="feedPageModal"||b==="DirectThreadPage"||b==="DirectThreadPageModal"||b==="categoryDirectoryPageModal"||b==="reelsTab")};return c()},[b,e,k,a,g]);return{mediaOverlayCoverInfo:k,shouldShowSensitivityOverlay:l,handleHideSensitivityOverlay:f}}g["default"]=a}),98);
__d("usePolarisAutoplayViewpointWithActions",["PolarisAutoplayActions","PolarisAutoplayHelpers","PolarisAutoplayViewpointManager.react","usePolarisAutoplayDispatch"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.id,c=d("usePolarisAutoplayDispatch").useAutoplayDispatch();a=function(a){var e=d("PolarisAutoplayHelpers").getReduxSnapshotFromViewpointSnapshot(a);switch(a.state){case"entered":c({type:d("PolarisAutoplayActions").AUTOPLAY_VIDEO_ENTERED,snapshot:e,id:b});break;case"updated":c({type:d("PolarisAutoplayActions").AUTOPLAY_VIDEO_UPDATED,snapshot:e,id:b});break;case"exited":c({type:d("PolarisAutoplayActions").AUTOPLAY_VIDEO_EXITED,id:b});break}};return d("PolarisAutoplayViewpointManager.react").useAutoplayViewpoint({action:a,id:b})}g["default"]=a}),98);
__d("usePolarisVideoAutoplay",["PolarisAutoplayActions","gkx","react","usePolarisAutoplayDispatch","usePolarisAutoplayState","usePolarisAutoplayViewpointWithActions"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a,b){var e,f=c("usePolarisAutoplayViewpointWithActions")({id:a}),g=d("usePolarisAutoplayDispatch").useAutoplayDispatch(),j=d("usePolarisAutoplayState").useAutoplayContext(),k=h(function(b){b!=null&&g({type:d("PolarisAutoplayActions").AUTOPLAY_VIDEO_FORCE_PLAY,id:a})},[g,a]),l=h(function(b){b!=null&&g({type:d("PolarisAutoplayActions").AUTOPLAY_VIDEO_FORCE_PAUSE,id:a})},[g,a]),m=(b==null?void 0:(e=b.current)==null?void 0:e.isPlaying())===!0;e=j.currentlyPlaying===a;e=e!==m;i(function(){var d=b==null?void 0:b.current;d!=null&&(j.currentlyPlaying===a&&!m?d.play():j.currentlyPlaying!==a&&(c("gkx")("4861")||m)&&d.pause())},[j.currentlyPlaying,a,b,e,m]);return{handlePlay:k,handlePause:l,viewpointRef:f}}g["default"]=a}),98);
__d("usePolarisVideoVolumeControls",["PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.enabled,e=d("VideoPlayerHooks").useController(),f=d("PolarisVolumeControlsManager.react").useVolumeControls(),g=d("VideoPlayerHooks").usePaused(),i=d("VideoPlayerHooks").useMuted(),j=c("usePrevious")(i),k=d("VideoPlayerHooks").useLastMuteReason();h(function(){b&&j!=null&&j!==i&&k==="user_initiated"&&f.setAudioState(i?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on)},[b,i,k,j,f]);h(function(){b&&!g&&f.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&e.setMuted(f.audioState==="off","product_initiated")},[b,e,g,f.audioState]);return f.audioState}g["default"]=a}),98);
__d("usePolarisVideoAudioState",["PolarisConfig","PolarisVideoConstants","VideoPlayerHooks","usePolarisVideoVolumeControls"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.noAudio;var b=d("VideoPlayerHooks").useMuted(),e=!d("PolarisConfig").isIOS(),f=c("usePolarisVideoVolumeControls")({enabled:e});if(a===!0)return d("PolarisVideoConstants").AUDIO_STATES.none;return!e?b?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:f}g["default"]=a}),98);
__d("PolarisVideoAutoplayBridge.react",["PolarisAutoplayActions","VideoPlayerHooks","react","usePolarisAutoplayDispatch","usePolarisAutoplayState","usePolarisAutoplayViewpointWithActions"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useEffect;function a(a){var b=a.id;a=a.children;b=c("usePolarisAutoplayViewpointWithActions")({id:b});return h.jsx("div",{ref:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.id,c=d("VideoPlayerHooks").useController(),e=d("VideoPlayerHooks").usePlaying(),f=d("usePolarisAutoplayState").useAutoplayContext();k(function(){e&&f.currentlyPlaying!==b?c.pause("product_initiated"):!e&&f.currentlyPlaying===b&&c.play("product_initiated")},[c,b,e,f.currentlyPlaying])}function e(a){var b=d("usePolarisAutoplayDispatch").useAutoplayDispatch(),c=j(function(){b({type:d("PolarisAutoplayActions").AUTOPLAY_VIDEO_FORCE_PAUSE,id:a})},[b,a]),e=j(function(){b({type:d("PolarisAutoplayActions").AUTOPLAY_VIDEO_FORCE_PLAY,id:a})},[b,a]);return{onPlay:e,onPause:c}}g.PolarisVideoAutoplayBridgeWrapper=a;g.PolarisVideoAutoplayBridge=b;g.useAutoplayBridgeHandlers=e}),98);
__d("useShouldBridgePolarisVideo",["NavHooks","PolarisPanavisionQEHelpers","PolarisPostModalRenderingContext","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("NavHooks").useIsOnFeedPage(),b=d("PolarisPostModalRenderingContext").usePolarisPostModalRenderingContext();b=b.isInModal;return a&&!b&&d("PolarisUA").isDesktop()&&!d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()}g["default"]=a}),98);
__d("usePolarisVideoPressInteraction",["fbt","PolarisVideoAutoplayBridge.react","VideoPlayerHooks","qex","react","useShouldBridgePolarisVideo"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a){var b=a.playButtonShowing,e=a.shouldUnmuteOnPlay;a=a.id;var f=d("VideoPlayerHooks").useController(),g=d("VideoPlayerHooks").useLastMuteReason(),j=c("useShouldBridgePolarisVideo")();a=d("PolarisVideoAutoplayBridge.react").useAutoplayBridgeHandlers((a=a)!=null?a:"");var k=a.onPlay,l=a.onPause;a=d("VideoPlayerHooks").useMuted();var m=i(function(){j?l():f.pause("user_initiated")},[f,l,j]),n=i(function(){f.setMuted(!1,"user_initiated")},[f]),o=i(function(){j?k():f.play("user_initiated"),c("qex")._("111")===!0?f.setMuted(!1,"user_initiated"):e&&g!=="user_initiated"&&f.setMuted(!1,"product_initiated")},[f,g,k,j,e]);return b?{ariaLabel:h._("Play video"),handler:o,overlayLabel:""}:{ariaLabel:h._("Pause video"),handler:a&&c("qex")._("111")?n:m,overlayLabel:""}}g["default"]=a}),98);
__d("usePolarisVideoShowPlayButton",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("VideoPlayerHooks").usePlaying(),b=d("VideoPlayerHooks").usePaused(),c=d("VideoPlayerHooks").useIsTransitioningToNextLoop();return!a&&b&&!c}g["default"]=a}),98);
__d("PolarisPostVideoPlayerScrubber.react",["VideoPlayerHooks","VideoPlayerScrubberBase.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=5,k={timelinePlayed:{backgroundColor:"xz3rzyy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelineBackgroundXStyle:{backgroundColor:"x1o95745",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelineBuffered:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0}},l=function(){return d("VideoPlayerHooks").useCurrentTimeThrottled(200)};function a(){var a=l(),b=d("VideoPlayerHooks").useBufferEnd(),e=d("VideoPlayerHooks").useDuration(),f=d("VideoPlayerHooks").useController(),g=i(function(){f.scrubEnd(null)},[f]),m=i(function(a){f.scrubEnd(a)},[f]),n=i(function(){f.scrubBegin()},[f]),o=i(function(){f.seek(0)},[f]),p=i(function(){var a=f.getPlayheadPosition()-j;a<0?f.seek(0):f.seek(a)},[f]),q=i(function(){var a=f.getPlayheadPosition()+j;a>=e?f.seek(e-.01):f.seek(a)},[f,e]),r=d("VideoPlayerHooks").useLastPlayReason();return!r?null:h.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:b,currentTime:a,disableKeyCommands:!0,duration:e,isLive:!1,isLiveRewindActive:!1,keyLeftDescription:"",keyRightDescription:"",onScrubCancel:g,onScrubEnd:m,onScrubStart:n,playFromBeginningImpl:o,skipBackwardImpl:p,skipForwardImpl:q,skipToEndImpl:c("emptyFunction"),supportsTouch:!0,timelineBackgroundXStyle:k.timelineBackgroundXStyle,timelineBufferedXStyle:k.timelineBuffered,timelinePlayedXStyle:k.timelinePlayed})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostVideoPlayerTimestamp.react",["IGDSBox.react","IGDSText.react","PolarisTimeConverter","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(){return d("VideoPlayerHooks").useCurrentTimeThrottled(200)};function a(){var a=i();return h.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",marginEnd:2,marginStart:2,width:32,children:h.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",children:d("PolarisTimeConverter").convertSecondsToHoursMinutesAndSeconds(Math.round(a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramAdImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1282");c=b("FalcoLoggerInternal").create("instagram_ad_impression",a);e.exports=c}),null);
__d("InstagramAdSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1283");c=b("FalcoLoggerInternal").create("instagram_ad_sub_impression",a);e.exports=c}),null);